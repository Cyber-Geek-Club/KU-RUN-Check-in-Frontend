import{aH as N,aI as L,h as t,aJ as T,T as k,aK as I,aL as O,aM as b,aN as w,o as E,ar as m,G as v,aO as C,aP as x,t as P}from"./BzFeUjkD.js";const R=Symbol("is custom element"),G=Symbol("is html");function D(e){if(t){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var d=e.value;y(e,"value",null),e.value=d}if(e.hasAttribute("checked")){var c=e.checked;y(e,"checked",null),e.checked=c}}};e.__on_r=r,k(r),I()}}function K(e,a){var r=S(e);r.value===(r.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function U(e,a){var r=S(e);r.checked!==(r.checked=a??void 0)&&(e.checked=a)}function y(e,a,r,d){var c=S(e);t&&(c[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||c[a]!==(c[a]=r)&&(a==="loading"&&(e[O]=r),r==null?e.removeAttribute(a):typeof r!="string"&&H(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function S(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[G]:e.namespaceURI===N}}var g=new Map;function H(e){var a=e.getAttribute("is")||e.nodeName,r=g.get(a);if(r)return r;g.set(a,r=[]);for(var d,c=e,l=Element.prototype;l!==c;){d=T(c);for(var f in d)d[f].set&&r.push(f);c=L(c)}return r}function V(e,a,r=a){var d=new WeakSet;b(e,"input",async c=>{var l=c?e.defaultValue:e.value;if(l=u(e)?h(l):l,r(l),v!==null&&d.add(v),await w(),l!==(l=a())){var f=e.selectionStart,o=e.selectionEnd,_=e.value.length;if(e.value=l??"",o!==null){var s=e.value.length;f===o&&o===_&&s>_?(e.selectionStart=s,e.selectionEnd=s):(e.selectionStart=f,e.selectionEnd=Math.min(o,s))}}}),(t&&e.defaultValue!==e.value||E(a)==null&&e.value)&&(r(u(e)?h(e.value):e.value),v!==null&&d.add(v)),m(()=>{var c=a();if(e===document.activeElement){var l=C??v;if(d.has(l))return}u(e)&&c===h(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}const i=new Set;function q(e,a,r,d,c=d){var l=r.getAttribute("type")==="checkbox",f=e;let o=!1;if(a!==null)for(var _ of a)f=f[_]??=[];f.push(r),b(r,"change",()=>{var s=r.__value;l&&(s=A(f,s,r.checked)),c(s)},()=>c(l?[]:null)),m(()=>{var s=d();if(t&&r.defaultChecked!==r.checked){o=!0;return}l?(s=s||[],r.checked=s.includes(r.__value)):r.checked=x(r.__value,s)}),P(()=>{var s=f.indexOf(r);s!==-1&&f.splice(s,1)}),i.has(f)||(i.add(f),k(()=>{f.sort((s,n)=>s.compareDocumentPosition(n)===4?-1:1),i.delete(f)})),k(()=>{if(o){var s;if(l)s=A(f,s,r.checked);else{var n=f.find(M=>M.checked);s=n?.__value}c(s)}})}function J(e,a,r=a){b(e,"change",d=>{var c=d?e.defaultChecked:e.checked;r(c)}),(t&&e.defaultChecked!==e.checked||E(a)==null)&&r(e.checked),m(()=>{var d=a();e.checked=!!d})}function A(e,a,r){for(var d=new Set,c=0;c<e.length;c+=1)e[c].checked&&d.add(e[c].__value);return r||d.delete(a),Array.from(d)}function u(e){var a=e.type;return a==="number"||a==="range"}function h(e){return e===""?null:+e}export{q as a,V as b,K as c,U as d,J as e,D as r,y as s};
