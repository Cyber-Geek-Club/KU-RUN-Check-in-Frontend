import{aT as Z,g as U,X,r as z,u as J,aU as x,q as B,P as _,h as p,aL as E,D as ee,H as te,Q as C,K as se,V as u,aV as k,a2 as S,C as D,aW as ie,aX as A,aY as b,aZ as I,a_ as re,aA as F,j as G,a$ as K,b0 as P,b1 as ne,b2 as V,b3 as ae,T as he,a7 as y,F as M,n as fe,M as oe,b4 as H,b5 as ce,a8 as le,b6 as de,b7 as ue,b8 as _e,c as pe,aP as ge,d as ve,b9 as O,G as be,ba as ye,a4 as me,bb as L,O as R,bc as we,a6 as Ee,Y as Te,bd as ke,aa as Re,av as Se,R as De,be as Ae,ad as Me,i as W,a1 as Ne,W as Fe}from"./hnvWcoZH.js";function Oe(i){let e=0,s=X(0),r;return()=>{Z()&&(U(s),z(()=>(e===0&&(r=J(()=>i(()=>x(s)))),e+=1,()=>{B(()=>{e-=1,e===0&&(r?.(),r=void 0,x(s))})})))}}var Le=le|de|ue;function Ye(i,e,s){new Be(i,e,s)}class Be{parent;is_pending=!1;#e;#r=p?_:null;#t;#a;#n;#i=null;#s=null;#h=null;#f=null;#c=null;#d=0;#o=0;#u=!1;#_=new Set;#p=new Set;#l=null;#m=Oe(()=>(this.#l=X(this.#d),()=>{this.#l=null}));constructor(e,s,r){this.#e=e,this.#t=s,this.#a=r,this.parent=E.b,this.is_pending=!!this.#t.pending,this.#n=ee(()=>{if(E.b=this,p){const t=this.#r;te(),t.nodeType===C&&t.data===se?this.#E():(this.#w(),this.#o===0&&(this.is_pending=!1))}else{var n=this.#b();try{this.#i=u(()=>r(n))}catch(t){this.error(t)}this.#o>0?this.#v():this.is_pending=!1}return()=>{this.#c?.remove()}},Le),p&&(this.#e=_)}#w(){try{this.#i=u(()=>this.#a(this.#e))}catch(e){this.error(e)}}#E(){const e=this.#t.pending;e&&(this.#s=u(()=>e(this.#e)),k.enqueue(()=>{var s=this.#b();this.#i=this.#g(()=>(k.ensure(),u(()=>this.#a(s)))),this.#o>0?this.#v():(S(this.#s,()=>{this.#s=null}),this.is_pending=!1)}))}#b(){var e=this.#e;return this.is_pending&&(this.#c=D(),this.#e.before(this.#c),e=this.#c),e}defer_effect(e){ie(e,this.#_,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#t.pending}#g(e){var s=E,r=F,n=G;A(this.#n),b(this.#n),I(this.#n.ctx);try{return e()}catch(t){return re(t),null}finally{A(s),b(r),I(n)}}#v(){const e=this.#t.pending;this.#i!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#c),K(this.#i,this.#f)),this.#s===null&&(this.#s=u(()=>e(this.#e)))}#y(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(e);return}if(this.#o+=e,this.#o===0){this.is_pending=!1;for(const s of this.#_)P(s,ne),V(s);for(const s of this.#p)P(s,ae),V(s);this.#_.clear(),this.#p.clear(),this.#s&&S(this.#s,()=>{this.#s=null}),this.#f&&(this.#e.before(this.#f),this.#f=null)}}update_pending_count(e){this.#y(e),this.#d+=e,this.#l&&he(this.#l,this.#d)}get_effect_pending(){return this.#m(),U(this.#l)}error(e){var s=this.#t.onerror;let r=this.#t.failed;if(this.#u||!s&&!r)throw e;this.#i&&(y(this.#i),this.#i=null),this.#s&&(y(this.#s),this.#s=null),this.#h&&(y(this.#h),this.#h=null),p&&(M(this.#r),fe(),M(oe()));var n=!1,t=!1;const a=()=>{if(n){_e();return}n=!0,t&&ce(),k.ensure(),this.#d=0,this.#h!==null&&S(this.#h,()=>{this.#h=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#g(()=>(this.#u=!1,u(()=>this.#a(this.#e)))),this.#o>0?this.#v():this.is_pending=!1};var h=F;try{b(null),t=!0,s?.(e,a),t=!1}catch(f){H(f,this.#n&&this.#n.parent)}finally{b(h)}r&&B(()=>{this.#h=this.#g(()=>{k.ensure(),this.#u=!0;try{return u(()=>{r(this.#e,()=>e,()=>a)})}catch(f){return H(f,this.#n.parent),null}finally{this.#u=!1}})})}}const Ce=["touchstart","touchmove"];function xe(i){return Ce.includes(i)}const Ie=new Set,q=new Set;function Pe(i,e,s,r={}){function n(t){if(r.capture||w.call(e,t),!t.cancelBubble)return ge(()=>s?.call(this,t))}return i.startsWith("pointer")||i.startsWith("touch")||i==="wheel"?B(()=>{e.addEventListener(i,n,r)}):e.addEventListener(i,n,r),n}function We(i,e,s,r,n){var t={capture:r,passive:n},a=Pe(i,e,s,t);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&pe(()=>{e.removeEventListener(i,a,t)})}let $=null;function w(i){var e=this,s=e.ownerDocument,r=i.type,n=i.composedPath?.()||[],t=n[0]||i.target;$=i;var a=0,h=$===i&&i.__root;if(h){var f=n.indexOf(h);if(f!==-1&&(e===document||e===window)){i.__root=e;return}var l=n.indexOf(e);if(l===-1)return;f<=l&&(a=f)}if(t=n[a]||i.target,t!==e){ve(i,"currentTarget",{configurable:!0,get(){return t||s}});var N=F,d=E;b(null),A(null);try{for(var o,c=[];t!==null;){var g=t.assignedSlot||t.parentNode||t.host||null;try{var m=t["__"+r];m!=null&&(!t.disabled||i.target===t)&&m.call(t,i)}catch(T){o?c.push(T):o=T}if(i.cancelBubble||g===e||g===null)break;t=g}if(o){for(let T of c)queueMicrotask(()=>{throw T});throw o}}finally{i.__root=e,delete i.currentTarget,b(N),A(d)}}}let j=!0;function qe(i,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(i.__t??=i.nodeValue)&&(i.__t=s,i.nodeValue=s+"")}function Ve(i,e){return Q(i,e)}function $e(i,e){O(),e.intro=e.intro??!1;const s=e.target,r=p,n=_;try{for(var t=be(s);t&&(t.nodeType!==C||t.data!==ye);)t=me(t);if(!t)throw L;R(!0),M(t);const a=Q(i,{...e,anchor:t});return R(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw a;return a!==L&&console.warn("Failed to hydrate: ",a),e.recover===!1&&we(),O(),Ee(s),R(!1),Ve(i,e)}finally{R(r),M(n)}}const v=new Map;function Q(i,{target:e,anchor:s,props:r={},events:n,context:t,intro:a=!0}){O();var h=new Set,f=d=>{for(var o=0;o<d.length;o++){var c=d[o];if(!h.has(c)){h.add(c);var g=xe(c);e.addEventListener(c,w,{passive:g});var m=v.get(c);m===void 0?(document.addEventListener(c,w,{passive:g}),v.set(c,1)):v.set(c,m+1)}}};f(Te(Ie)),q.add(f);var l=void 0,N=ke(()=>{var d=s??e.appendChild(D());return Ye(d,{pending:()=>{}},o=>{if(t){Re({});var c=G;c.c=t}if(n&&(r.$$events=n),p&&Se(o,null),j=a,l=i(o,r)||{},j=!0,p&&(E.nodes.end=_,_===null||_.nodeType!==C||_.data!==De))throw Ae(),L;t&&Me()}),()=>{for(var o of h){e.removeEventListener(o,w);var c=v.get(o);--c===0?(document.removeEventListener(o,w),v.delete(o)):v.set(o,c)}q.delete(f),d!==s&&d.parentNode?.removeChild(d)}});return Y.set(l,N),l}let Y=new WeakMap;function je(i,e){const s=Y.get(i);return s?(Y.delete(i),s(e)):Promise.resolve()}class Ue{anchor;#e=new Map;#r=new Map;#t=new Map;#a=new Set;#n=!0;constructor(e,s=!0){this.anchor=e,this.#n=s}#i=()=>{var e=W;if(this.#e.has(e)){var s=this.#e.get(e),r=this.#r.get(s);if(r)Ne(r),this.#a.delete(s);else{var n=this.#t.get(s);n&&(this.#r.set(s,n.effect),this.#t.delete(s),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),r=n.effect)}for(const[t,a]of this.#e){if(this.#e.delete(t),t===e)break;const h=this.#t.get(a);h&&(y(h.effect),this.#t.delete(a))}for(const[t,a]of this.#r){if(t===s||this.#a.has(t))continue;const h=()=>{if(Array.from(this.#e.values()).includes(t)){var l=document.createDocumentFragment();K(a,l),l.append(D()),this.#t.set(t,{effect:a,fragment:l})}else y(a);this.#a.delete(t),this.#r.delete(t)};this.#n||!r?(this.#a.add(t),S(a,h,!1)):h()}}};#s=e=>{this.#e.delete(e);const s=Array.from(this.#e.values());for(const[r,n]of this.#t)s.includes(r)||(y(n.effect),this.#t.delete(r))};ensure(e,s){var r=W,n=Fe();if(s&&!this.#r.has(e)&&!this.#t.has(e))if(n){var t=document.createDocumentFragment(),a=D();t.append(a),this.#t.set(e,{effect:u(()=>s(a)),fragment:t})}else this.#r.set(e,u(()=>s(this.anchor)));if(this.#e.set(r,e),n){for(const[h,f]of this.#r)h===e?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[h,f]of this.#t)h===e?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.oncommit(this.#i),r.ondiscard(this.#s)}else p&&(this.anchor=_),this.#i()}}export{Ue as B,j as a,We as e,$e as h,Ve as m,qe as s,je as u};
