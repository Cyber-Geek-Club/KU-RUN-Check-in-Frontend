import{_ as Ts}from"../chunks/PPVm8Dsz.js";import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as Is,a7 as Ms,aj as Ps,a8 as sa,a9 as Ls,a6 as m,a1 as Q,aa as k,f as t,ab as W,a2 as u,a3 as Ns,m as ut,af as o,i as b,ad as a,ae as e,o as i,ag as f,ak as ae,y as Bt,q as Dt,a0 as yt,ap as js,an as za}from"../chunks/BzFeUjkD.js";import{e as zt,i as Ht}from"../chunks/CFC0_nPK.js";import{i as y}from"../chunks/yr0HFLoq.js";import{a as Ha,l as Ua,b as Os}from"../chunks/CZARb_ez.js";import{b as xe,s as se,r as Ee,a as As}from"../chunks/DMKKEYkG.js";import{s as Lt}from"../chunks/Dx5pcVVY.js";import{s as Kt}from"../chunks/COAQJPqk.js";import{t as At,s as Ce,f as De,a as ra}from"../chunks/C9WUvhPB.js";import{i as Rs}from"../chunks/B4hL2_NH.js";import{g as la}from"../chunks/8b7-bA6A.js";import{a as Ja}from"../chunks/CfzA4fdq.js";import{S as A}from"../chunks/C0u8rGqG.js";import{API_BASE_URL as Bs,resolveImageUrl as zs}from"../chunks/Cnqa9Cr2.js";import{a as Hs}from"../chunks/Din-hKz_.js";var Us=m('<button><svg class="nav-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" class="svelte-1gf1l8n"></path></svg> <span class="btn-label svelte-1gf1l8n"> </span></button>'),Js=m('<button><svg class="nav-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 10px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="svelte-1gf1l8n"></path></svg> </button>'),Vs=m('<div class="mobile-overlay svelte-1gf1l8n" role="button" tabindex="0" aria-label="Close menu"></div> <div class="mobile-drawer svelte-1gf1l8n"><div class="drawer-header svelte-1gf1l8n"><span class="brand-name svelte-1gf1l8n" style="font-size: 1.4rem;">MENU</span><button class="close-btn svelte-1gf1l8n">&times;</button></div> <div class="drawer-search svelte-1gf1l8n"><input type="text" class="drawer-search-input svelte-1gf1l8n"/></div> <div class="drawer-content svelte-1gf1l8n"><!> <div class="drawer-lang-item svelte-1gf1l8n"><div class="lang-label-group svelte-1gf1l8n"><svg class="nav-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 10px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" class="svelte-1gf1l8n"></path></svg> Language</div> <div class="lang-toggle-pill svelte-1gf1l8n"><button>TH</button> <button>EN</button></div></div></div> <button class="drawer-item logout-special svelte-1gf1l8n">Logout</button></div>',1),Ks=m('<div style="text-align: center; color: #94a3b8; padding: 40px;" class="svelte-1gf1l8n">Loading...</div>'),Fs=m('<div style="text-align: center; color: #94a3b8; padding: 40px; border: 1px dashed rgba(255,255,255,0.1); border-radius: 12px;" class="svelte-1gf1l8n">No Active Events</div>'),qs=m('<div class="lock-overlay svelte-1gf1l8n"><div class="lock-overlay-content svelte-1gf1l8n"><div class="lock-icon-circle svelte-1gf1l8n"><svg width="22" height="22" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" class="svelte-1gf1l8n"></path></svg></div> <div class="lock-text svelte-1gf1l8n"> </div></div></div>'),Gs=m('<span class="status-badge running svelte-1gf1l8n"> </span>'),Ws=m('<span class="status-badge resubmit-badge svelte-1gf1l8n"> </span>'),Qs=m('<span class="status-badge proof-badge svelte-1gf1l8n"> </span>'),Ys=m('<span class="status-badge svelte-1gf1l8n" style="background:#fbbf24; color:#78350f; border:1px solid #f59e0b; font-size: 0.7rem;"> </span>'),Zs=m('<div style="display:flex; flex-direction:column; align-items:flex-end; gap:4px;" class="svelte-1gf1l8n"><span class="status-badge completed-btn svelte-1gf1l8n" style="font-size:0.7rem;"> </span> <!></div>'),Xs=m('<span class="status-badge running svelte-1gf1l8n"> </span>'),$s=m('<span class="status-badge running svelte-1gf1l8n"> </span>'),tr=m('<li class="svelte-1gf1l8n"> </li>'),er=m('<li class="svelte-1gf1l8n"> </li>'),ar=m("<!> <!>",1),sr=m('<li class="svelte-1gf1l8n"> </li>'),rr=m('<div class="holiday-info-box svelte-1gf1l8n"><div class="holiday-title svelte-1gf1l8n"> </div> <ul class="holiday-list svelte-1gf1l8n"><!></ul></div>'),lr=m('<div class="info-grid svelte-1gf1l8n"><div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" class="svelte-1gf1l8n"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill highlight-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <!></div>'),nr=m('<button class="status-btn svelte-1gf1l8n" style="background: #334155; cursor: not-allowed; display: flex; align-items: center; gap: 6px; width: auto;" disabled><svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" class="svelte-1gf1l8n"></path></svg> </button>'),ir=m('<button class="status-btn svelte-1gf1l8n" style="background: #8b5cf6; cursor: not-allowed; opacity: 0.7;" disabled> </button>'),or=m('<button class="status-btn svelte-1gf1l8n" style="background: #64748b; cursor: default; opacity: 0.9; width: auto; font-size: 0.9rem; display: flex; align-items: center; gap: 6px;"><svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1gf1l8n"></path></svg> </button>'),cr=m('<button class="status-btn waiting-btn svelte-1gf1l8n" style="cursor: default;"> </button>'),dr=m('<button class="status-btn sending-btn svelte-1gf1l8n"> </button>'),vr=m('<button class="status-btn proof-btn svelte-1gf1l8n"> </button>'),ur=m('<button class="status-btn checkout-btn svelte-1gf1l8n"> </button>'),fr=m('<button class="status-btn register-btn svelte-1gf1l8n"> </button> <button class="cancel-btn svelte-1gf1l8n"> </button>',1),_r=m('<div><div class="card-image svelte-1gf1l8n"><!></div> <div class="card-content svelte-1gf1l8n"><div class="card-header-row svelte-1gf1l8n"><h3 class="card-title svelte-1gf1l8n"> </h3> <div class="badges-col svelte-1gf1l8n"><!> <div class="count-badge svelte-1gf1l8n"><svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right:4px;" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" class="svelte-1gf1l8n"></path></svg> </div> <div class="count-badge svelte-1gf1l8n" style="margin-top: 4px; background-color: #10b981;"> </div></div></div> <p> </p> <!> <div class="card-footer-actions svelte-1gf1l8n"><button class="dashboard-text-btn svelte-1gf1l8n"><svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></button> <div class="footer-actions svelte-1gf1l8n"><!></div></div></div></div>'),pr=m('<div class="events-grid svelte-1gf1l8n"></div>'),gr=m('<span class="status-badge svelte-1gf1l8n" style="background:#fbbf24; color:#78350f; border:1px solid #f59e0b; font-size:0.7rem;"> </span>'),hr=m('<div style="display:flex; flex-direction:column; align-items:flex-end; gap:4px;" class="svelte-1gf1l8n"><span class="status-badge ended-normal svelte-1gf1l8n"> </span> <!> <span class="status-badge svelte-1gf1l8n" style="background:#10b981; color:white; border:none; font-size:0.7rem;"> </span></div>'),mr=m('<span class="status-badge ended-canceled svelte-1gf1l8n">CANCELED</span>'),br=m('<li class="svelte-1gf1l8n"> </li>'),kr=m('<li class="svelte-1gf1l8n"> </li>'),yr=m("<!> <!>",1),wr=m('<li class="svelte-1gf1l8n"> </li>'),xr=m('<div class="info-grid svelte-1gf1l8n"><div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" class="svelte-1gf1l8n"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="info-pill highlight-pill svelte-1gf1l8n"><svg class="pill-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></div> <div class="holiday-info-box svelte-1gf1l8n"><div class="holiday-title svelte-1gf1l8n"> </div> <ul class="holiday-list svelte-1gf1l8n"><!></ul></div></div>'),Er=m('<button class="status-btn completed-btn svelte-1gf1l8n" style="cursor: default; box-shadow: none;">COMPLETED</button>'),Cr=m('<button class="status-btn canceled-btn svelte-1gf1l8n" style="cursor: default; box-shadow: none;">CANCELED</button>'),Dr=m('<div class="event-card svelte-1gf1l8n"><div class="card-image svelte-1gf1l8n"></div> <div class="card-content svelte-1gf1l8n"><div class="card-header-row svelte-1gf1l8n"><h3 class="card-title svelte-1gf1l8n"> </h3> <div class="badges-col svelte-1gf1l8n"><!></div></div> <p> </p> <!> <div class="card-footer-actions svelte-1gf1l8n"><button class="dashboard-text-btn svelte-1gf1l8n"><svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" class="svelte-1gf1l8n"></path></svg> <span class="svelte-1gf1l8n"> </span></button> <!></div></div></div>'),Sr=m("<div></div>"),Tr=m('<div class="step-wrapper svelte-1gf1l8n"><div> </div> <!></div>'),Ir=m('<div class="stepper svelte-1gf1l8n"></div>'),Mr=m('<span class="svelte-1gf1l8n"> </span>'),Pr=m('<span class="svelte-1gf1l8n">-</span><span class="svelte-1gf1l8n">-</span><span class="svelte-1gf1l8n">-</span><span class="svelte-1gf1l8n">-</span><span class="svelte-1gf1l8n">-</span>',1),Lr=m('<div class="pin-box svelte-1gf1l8n"><!></div>'),Nr=m('<div class="qr-box svelte-1gf1l8n"><img alt="QR" class="svelte-1gf1l8n"/></div>'),jr=m('<h3 class="modal-title svelte-1gf1l8n"> </h3> <div class="toggle-switch svelte-1gf1l8n"><button>PIN CODE</button> <button>QR SCAN</button></div> <div class="checkin-display svelte-1gf1l8n"><!></div> <div class="alert-box-info svelte-1gf1l8n" style="margin-top: 20px; padding: 15px; background: rgba(16, 185, 129, 0.1); border: 1px dashed #10b981; border-radius: 8px; text-align: center;"><p style="color: #10b981; margin: 0; font-weight: 600;" class="svelte-1gf1l8n"> </p></div>',1),Or=m('<div class="rejected-alert svelte-1gf1l8n" style="background: #fee2e2; color: #b91c1c; padding: 12px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #fca5a5;"><strong class="svelte-1gf1l8n"> </strong><br class="svelte-1gf1l8n"/> <span style="font-size: 0.9rem;" class="svelte-1gf1l8n"> </span></div>'),Ar=m('<div class="distance-result svelte-1gf1l8n" style="margin-top: 8px; padding: 8px 12px; background: rgba(16, 185, 129, 0.1); border-radius: 6px; display: flex; align-items: center; gap: 8px;"><span style="color: #10b981; font-size: 1.2rem;" class="svelte-1gf1l8n">‚úì</span> <span style="color: #10b981; font-weight: 600;" class="svelte-1gf1l8n"> </span></div>'),Rr=m('<small style="color: #94a3b8; margin-top: 4px; display: block;" class="svelte-1gf1l8n"> </small>'),Br=m('<label class="upload-label svelte-1gf1l8n" style="border: 2px dashed #ccc; padding: 20px; text-align: center; display: block; cursor: pointer; border-radius: 8px;"><input id="proofImageInput" type="file" accept="image/*" hidden="" class="svelte-1gf1l8n"/> <div class="upload-placeholder svelte-1gf1l8n"><span class="svelte-1gf1l8n"> </span></div></label>'),zr=m('<div class="image-preview svelte-1gf1l8n" style="position: relative; text-align: center;"><img alt="Preview" style="max-height: 200px; border-radius: 8px; margin: 0 auto;" class="svelte-1gf1l8n"/> <button class="remove-img-btn svelte-1gf1l8n" style="position: absolute; top: -10px; right: -10px; background: red; color: white; border-radius: 50%; width: 24px; height: 24px; border: none; cursor: pointer;">&times;</button></div>'),Hr=m('<h3 class="modal-title svelte-1gf1l8n"> </h3> <!> <div class="input-group svelte-1gf1l8n"><label for="link" class="svelte-1gf1l8n">Strava Activity Link <span style="color: #ef4444; font-weight: bold;" class="svelte-1gf1l8n">*</span></label> <div style="display: flex; gap: 8px; align-items: center;" class="svelte-1gf1l8n"><input type="text" id="link" placeholder="https://strava.app.link/... ‡∏´‡∏£‡∏∑‡∏≠ strava.com/activities/..." style="flex: 1;" required class="svelte-1gf1l8n"/> <button type="button" class="verify-strava-btn svelte-1gf1l8n"> </button></div> <!></div> <div class="upload-area svelte-1gf1l8n" style="margin-top: 15px;"><p style="display: block; margin-bottom: 5px; font-weight: 600;" class="svelte-1gf1l8n"> <span style="color: #ef4444; font-weight: bold;" class="svelte-1gf1l8n">*</span></p> <!></div> <button class="action-submit-btn purple-theme svelte-1gf1l8n" style="width: 100%; margin-top: 20px; padding: 12px; background: #8b5cf6; color: white; border-radius: 8px; font-weight: bold;"> </button>',1),Ur=m('<div class="waiting-view svelte-1gf1l8n" style="text-align: center; padding: 40px 0;"><div class="hourglass-icon svelte-1gf1l8n" style="font-size: 4rem; margin-bottom: 20px;">‚è≥</div> <h2 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 10px;" class="svelte-1gf1l8n"> </h2> <p style="color: #64748b;" class="svelte-1gf1l8n"> </p></div>'),Jr=m('<div class="completed-view svelte-1gf1l8n" style="text-align: center; padding: 20px;"><div style="font-size: 4rem; margin-bottom: 20px;" class="svelte-1gf1l8n">üéâ</div> <h2 style="color: #10b981; font-size: 1.5rem; font-weight: bold; margin-bottom: 10px;" class="svelte-1gf1l8n"> </h2> <div class="stat-box svelte-1gf1l8n" style="justify-content: center; margin-top: 20px; background: #f0fdf4; padding: 20px; border-radius: 12px;"><div class="svelte-1gf1l8n"><div class="stat-label svelte-1gf1l8n">Total Distance</div> <div class="stat-value svelte-1gf1l8n" style="font-size: 2rem; font-weight: bold; color: #15803d;"> </div></div></div></div>'),Vr=m('<div class="cancelled-view svelte-1gf1l8n" style="text-align: center; padding: 40px 0; color: #94a3b8;"><div style="font-size: 4rem; margin-bottom: 10px;" class="svelte-1gf1l8n">üö´</div> <h3 class="svelte-1gf1l8n"> </h3></div>'),Kr=m('<!> <div class="modal-body svelte-1gf1l8n"><!></div>',1),Fr=m('<div class="modal-overlay svelte-1gf1l8n"><div class="modal-box svelte-1gf1l8n"><button class="modal-close svelte-1gf1l8n">&times;</button> <!></div></div>'),qr=m('<li class="svelte-1gf1l8n"> </li>'),Gr=m('<li class="svelte-1gf1l8n"> </li>'),Wr=m("<!> <!>",1),Qr=m('<li class="svelte-1gf1l8n"> </li>'),Yr=m('<div class="modal-overlay svelte-1gf1l8n" style="z-index: 3100;"><div class="modal-box dashboard-box svelte-1gf1l8n"><button class="modal-close svelte-1gf1l8n">&times;</button> <div class="dashboard-header svelte-1gf1l8n"><h2 class="dash-title svelte-1gf1l8n"> </h2> <span class="status-badge svelte-1gf1l8n" style="font-size: 0.8rem; align-self: flex-start;"> </span></div> <div class="dashboard-content svelte-1gf1l8n"><div class="dash-section svelte-1gf1l8n"><p class="dash-desc svelte-1gf1l8n"> </p></div> <div class="dash-grid svelte-1gf1l8n"><div class="dash-item svelte-1gf1l8n"><span class="dash-label svelte-1gf1l8n"> </span> <span class="dash-value svelte-1gf1l8n"> </span></div> <div class="dash-item svelte-1gf1l8n"><span class="dash-label svelte-1gf1l8n"> </span> <span class="dash-value svelte-1gf1l8n"> </span></div> <div class="dash-item svelte-1gf1l8n"><span class="dash-label svelte-1gf1l8n"> </span> <span class="dash-value svelte-1gf1l8n"> </span></div></div> <div class="stats-container svelte-1gf1l8n"><div class="stat-box blue-stat svelte-1gf1l8n"><div class="stat-icon svelte-1gf1l8n">üèÉ</div> <div class="stat-info svelte-1gf1l8n"><span class="stat-label svelte-1gf1l8n"> </span> <span class="stat-value svelte-1gf1l8n"> <span class="stat-unit svelte-1gf1l8n" style="font-size: 0.9rem; margin-left: 2px;"> </span></span></div></div></div> <div class="holiday-section svelte-1gf1l8n"><div class="holiday-header svelte-1gf1l8n"> </div> <ul class="holiday-list-dash svelte-1gf1l8n"><!></ul></div></div></div></div>'),Zr=m('<label class="radio-item svelte-1gf1l8n"><input type="radio" class="svelte-1gf1l8n"/> <span class="radio-label svelte-1gf1l8n"> </span></label>'),Xr=m('<div class="reason-input svelte-1gf1l8n"><textarea rows="3" class="svelte-1gf1l8n"></textarea></div>'),$r=m('<div class="modal-overlay svelte-1gf1l8n"><div class="modal-content cancel-modal svelte-1gf1l8n"><button class="modal-close-btn svelte-1gf1l8n">&times;</button> <div class="modal-body svelte-1gf1l8n"><h3 class="modal-title svelte-1gf1l8n" style="color: #ef4444;"> </h3> <p class="modal-subtitle svelte-1gf1l8n"> </p> <div class="cancel-options svelte-1gf1l8n"></div> <!> <div class="action-row svelte-1gf1l8n"><button class="cancel-confirm-btn svelte-1gf1l8n"> </button></div></div></div></div>'),tl=m('<div class="app-container svelte-1gf1l8n"><header class="header-bar svelte-1gf1l8n"><div class="header-inner svelte-1gf1l8n"><div class="left-group svelte-1gf1l8n"><div class="brand svelte-1gf1l8n"><span class="brand-name svelte-1gf1l8n">STUDENT</span></div> <nav class="nav-menu desktop-only svelte-1gf1l8n"></nav></div> <div class="search-bar-container desktop-only svelte-1gf1l8n"><div class="search-input-wrapper svelte-1gf1l8n"><svg class="search-icon active-search-icon svelte-1gf1l8n" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-1gf1l8n"></path></svg> <input type="text" class="search-input svelte-1gf1l8n"/></div></div> <div class="user-zone svelte-1gf1l8n"><div class="timer-pill svelte-1gf1l8n"> </div> <div class="lang-switch desktop-only svelte-1gf1l8n"><button>TH</button> <span class="sep svelte-1gf1l8n">|</span> <button>EN</button></div> <button class="logout-btn desktop-only svelte-1gf1l8n" aria-label="Logout"><svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" class="svelte-1gf1l8n"></path></svg></button> <button class="mobile-toggle mobile-only svelte-1gf1l8n" aria-label="Toggle menu"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 9h16M4 15h16" class="svelte-1gf1l8n"></path></svg></button></div></div></header> <!> <div class="scroll-container svelte-1gf1l8n"><div class="content-wrapper svelte-1gf1l8n"><div id="upcoming-section" class="section-header-wrapper header-row svelte-1gf1l8n"><div class="header-left svelte-1gf1l8n"><h1 class="section-title svelte-1gf1l8n"> </h1> <div class="title-underline svelte-1gf1l8n"></div></div> <button class="jump-btn svelte-1gf1l8n"> <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-1gf1l8n"></path></svg></button></div> <!> <div id="history-section" class="section-header-wrapper header-row svelte-1gf1l8n" style="margin-top: 60px;"><div class="header-left svelte-1gf1l8n"><h1 class="section-title svelte-1gf1l8n"> </h1> <div class="title-underline svelte-1gf1l8n"></div></div> <button class="jump-btn svelte-1gf1l8n"> <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="transform: rotate(180deg);" class="svelte-1gf1l8n"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-1gf1l8n"></path></svg></button></div> <div class="events-grid svelte-1gf1l8n"></div> <footer class="app-footer svelte-1gf1l8n"><div class="footer-separator svelte-1gf1l8n"></div> <div class="footer-content svelte-1gf1l8n"><p class="copyright svelte-1gf1l8n">&copy; 2025 Cyber Geek. All rights reserved.</p> <p class="credits svelte-1gf1l8n">Designed & Developed by <span class="highlight svelte-1gf1l8n">Cyber Geek Development</span></p> <p class="contact svelte-1gf1l8n">Contact: <a href="mailto:cybergeek.dev@proton.me" class="svelte-1gf1l8n">cybergeek.dev@proton.me</a></p></div></footer></div></div> <!> <!></div> <!>',1);function ml(Va,Ka){Is(Ka,!1);const pe=ut(),na=ut(),Fa=[],Ut=Bs;let Ft=ut(!1),Se=ut("my-event"),ge=ut("--:--:--"),ia=0,Xt=null,oe=null,qa=5e3,Te=!1,Jt=ut(""),s=ut("th");const h={th:{upcoming_header:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ",history_header:"‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",search_placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...",read_more:"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î",read_less:"‡∏¢‡πà‡∏≠‡∏•‡∏á",status_register:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",status_waiting:"‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",status_rejected:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",status_sending:"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",status_completed_badge:"‚úî ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏ö)",status_ended:"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_checkin:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_register:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",btn_waiting:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",btn_send_proof:"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",btn_send_image:"‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",btn_completed:"üïí ‡∏£‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏ö",btn_checkout:"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_locked:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î",btn_confirm_checkin:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",btn_next:"‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û) ‚Üí",btn_submit:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",btn_resubmit:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥",btn_back_strava:"‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Strava",btn_verify_link:"‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå",status_daily_completed:"‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ",btn_daily_wait:"‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ",modal_step1:"‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á",modal_step1_sub:"‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",modal_link_label:"‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Strava *",modal_dist_label:"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£)",modal_dist_warn:"*‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á",modal_step2:"‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û *",modal_step2_sub:"‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)",modal_upload_txt:"üì∏ ‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)",modal_rejected:"‚ö†Ô∏è ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò:",modal_verifying_title:"‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",modal_verifying_desc:"‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö",modal_close:"‡∏õ‡∏¥‡∏î",dash_location:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",dash_date:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà",dash_time:"‡πÄ‡∏ß‡∏•‡∏≤",dash_rank_title:"‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)",dash_success_title:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏∞‡∏™‡∏°",dash_unit_days:"‡∏ß‡∏±‡∏ô",dash_holiday_title:"üìÖ ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",dash_holiday_weekend:"‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå",dash_no_holiday:"- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î (‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô) -",rank_label:"‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà",participants:"‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°",alert_success:"‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_not_checked_in:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",alert_contact_staff:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡∏£‡∏´‡∏±‡∏™ PIN ‡∏´‡∏£‡∏∑‡∏≠ QR Code ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",alert_checkin_success:"‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",alert_go_next:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",btn_ok:"‡∏ï‡∏Å‡∏•‡∏á",alert_warning:"‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",alert_error:"‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",alert_success_title:"‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_link_required:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Strava",alert_link_invalid:"‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô strava.app.link ‡∏´‡∏£‡∏∑‡∏≠ strava.com)",alert_checking:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...",alert_fetching_strava:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava...",alert_not_found:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",alert_connection_error:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠",alert_verify_first:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô",alert_image_required:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô",alert_upload_failed:"‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_submit_success:"‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß",alert_session_expired:"‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà"},en:{upcoming_header:"Upcoming",history_header:"History",search_placeholder:"Search events...",read_more:"Read more",read_less:"Read less",status_register:"REGISTER",status_waiting:"Verifying",status_rejected:"Action Required",status_sending:"Draft",status_completed_badge:"‚úî Completed",status_ended:"ENDED",btn_checkin:"CHECK-IN",btn_register:"REGISTER",btn_waiting:"‚è≥ VERIFYING",btn_send_proof:"SEND PROOF",btn_send_image:"SEND IMAGE",btn_completed:"üïí COMPLETED",btn_checkout:"CHECK-OUT",btn_locked:"LOCKED",btn_confirm_checkin:"CONFIRM CHECK-IN",btn_next:"Next (Upload Image) ‚Üí",btn_submit:"Submit Proof",btn_resubmit:"Resubmit Proof",btn_back_strava:"‚Üê Back to Strava Link",btn_verify_link:"‚úÖ Verify Link",status_daily_completed:"NEXT DAY",btn_daily_wait:"Wait Next Day",modal_step1:"Step 1: Activity Data",modal_step1_sub:"Enter your Strava activity link",modal_link_label:"Strava Activity Link *",modal_dist_label:"Distance (KM)",modal_dist_warn:"*Input is locked. Please click 'Verify Link' to fetch data.",modal_step2:"Step 2: Proof Image *",modal_step2_sub:"Upload a screenshot of your run result (Required)",modal_upload_txt:"üì∏ Tap to upload image (Required)",modal_rejected:"‚ö†Ô∏è Image Rejected:",modal_verifying_title:"Verification Pending",modal_verifying_desc:"We are verifying your submission. Please wait.",modal_close:"Close",dash_location:"Location",dash_date:"Date",dash_time:"Time",dash_rank_title:"My Rank (Today)",dash_success_title:"Success Count",dash_unit_days:"days",dash_holiday_title:"üìÖ Holidays / Free Days",dash_holiday_weekend:"Every Sat - Sun",dash_no_holiday:"- No holidays (Run everyday) -",rank_label:"Rank",participants:"Participants",alert_success:"Success",alert_not_checked_in:"Check-in Pending",alert_contact_staff:"Please present your PIN or QR Code to staff.",alert_checkin_success:"Check-in Successful!",alert_go_next:"Proceeding to proof submission.",btn_ok:"OK",alert_warning:"Warning",alert_error:"Error",alert_success_title:"Success",alert_link_required:"Strava activity link is required.",alert_link_invalid:"Invalid link (Must be strava.app.link or strava.com)",alert_checking:"Checking...",alert_fetching_strava:"Fetching Strava data...",alert_not_found:"Not Found",alert_connection_error:"Connection Error",alert_verify_first:"Please click 'Verify Link' first.",alert_image_required:"Proof image is required.",alert_upload_failed:"Upload failed",alert_submit_success:"Submitted successfully.",alert_session_expired:"Session expired. Please login again."}};function he(l){b(s,l),typeof localStorage<"u"&&localStorage.setItem("app_lang",l)}let Ie=ut(!0),re=[],qt={},Rt=ut({}),ce=ut([]),Me=ut([]),Pe=ut(!1),D=ut(null),le=ut("PIN"),ne=ut(null),de=ut(null),Nt=ut(""),Le=null,St=ut(0),me=ut(!1),Ne=ut(!1),ve=ut(null),Mt=ut(""),$t=ut("");const Ga=["‡∏ï‡∏¥‡∏î‡∏ò‡∏∏‡∏£‡∏∞‡∏î‡πà‡∏ß‡∏ô / Urgent matter","‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û / Health issue","‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏® / Weather condition","‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á / Transportation","‡∏≠‡∏∑‡πà‡∏ô‡πÜ / Other"],oa=[{id:"event-list",label:"Event list",path:"/student/event-list",svg:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9 2 2 4-4"},{id:"my-event",label:"My event",path:"/student/myevents-upcoming",svg:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"account-setting",label:"Account setting",path:"/student/setting-account",svg:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}];function ue(){if(typeof window<"u"){const r=new URLSearchParams(window.location.search).get("debug_date");if(r){const c=new Date(r);if(!isNaN(c.getTime()))return console.log(`üîß [DEBUG MODE] Using simulated date: ${r}`),c}}return new Date}async function ca(){b(Ie,!0);try{const l=Gt(),r=fa();if(!l||!r){console.warn("No credentials found"),A.fire({icon:"warning",title:h[t(s)].alert_session_expired||"Session Expired",text:"Please login again",confirmButtonText:"OK"}).then(()=>{la("/auth/login")});return}b(Rt,{});const[c,_]=await Promise.all([fetch(`${Ut}/api/participations/user/${r}`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).catch(d=>{throw console.error("Participations fetch error:",d),new Error("Cannot connect to participations API")}),fetch(`${Ut}/api/events/`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}).catch(d=>{throw console.error("Events fetch error:",d),new Error("Cannot connect to events API")})]);if(!c.ok){const d=await c.text().catch(()=>"Unknown error");throw console.error(`Participations API Error (${c.status}):`,d),new Error(`Failed to fetch participations (${c.status})`)}if(!_.ok){const d=await _.text().catch(()=>"Unknown error");throw console.error(`Events API Error (${_.status}):`,d),new Error(`Failed to fetch events (${_.status})`)}re=await c.json().catch(d=>{throw console.error("Error parsing participations JSON:",d),new Error("Invalid participations data format")});const v=await _.json().catch(d=>{throw console.error("Error parsing events JSON:",d),new Error("Invalid events data format")});qt={},Array.isArray(v)&&v.forEach(d=>{d&&d.id&&(qt[d.id]=d)}),await Wa(),da()}catch(l){console.error("Error loading data:",l);let r="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ";if(l.message?.includes("connect"))r="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï";else if(l.message?.includes("401")||l.message?.includes("403")){r="Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà",A.fire({icon:"error",title:"Authentication Error",text:r,confirmButtonText:"OK"}).then(()=>{la("/auth/login")});return}else l.message?.includes("format")&&(r="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");A.fire({icon:"error",title:"Error",text:r,footer:`<small>Technical: ${l.message||"Unknown error"}</small>`})}finally{b(Ie,!1)}}async function Wa(){const l=Gt(),r={"Content-Type":"application/json"};l&&(r.Authorization=`Bearer ${l}`);const c=Object.keys(qt).map(Number),_=5;for(let v=0;v<c.length;v+=_){const d=c.slice(v,v+_);(await Promise.allSettled(d.map(async g=>{try{const n=await fetch(`${Ut}/api/events/${g}/participants`,{headers:r});if(!n.ok)return{eventId:g,uniqueCount:qt[g]?.participant_count||0};const w=await n.json();let H=[];Array.isArray(w)?H=w:w?.participants?H=w.participants:w?.data&&(H=w.data);const it=new Set;return H.forEach(J=>{const V=J.user_id||J.id;V&&it.add(V)}),{eventId:g,uniqueCount:it.size}}catch{return{eventId:g,uniqueCount:qt[g]?.participant_count||0}}}))).forEach(g=>{if(g.status==="fulfilled"){const{eventId:n,uniqueCount:w}=g.value;qt[n]&&(qt[n].participant_count=w)}})}}async function Qa(l){const r=Gt();if(!r)return null;try{const c=await fetch(`${Ut}/api/participations/my-codes/${l}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!c.ok)throw new Error("Failed to fetch status");return await c.json()}catch(c){return console.error("Fetch status error:",c),null}}function da(){const l=[],r=[],c=ue(),_={};re.forEach(d=>{d.status&&d.status.toUpperCase()==="COMPLETED"&&(_[d.event_id]=(_[d.event_id]||0)+1)});const v={};re.forEach(d=>{(!v[d.event_id]||d.id>v[d.event_id].id)&&(v[d.event_id]=d)}),Object.values(qt).forEach(d=>{const p=v[d.id];if(!p)return;let g=va(p.status),n=p.id,w=p.proof_image_url,H=p.rejection_reason,it=p.join_code,J=p.completion_code,V=p.actual_distance_km,Et=p.completion_rank;const at=p.created_at||p.date||p.start_date;if(at){const S=new Date(at),tt=ue();S.setHours(0,0,0,0),tt.setHours(0,0,0,0),S.getTime()!==tt.getTime()&&g!=="COMPLETED"&&(console.log(`[AUTO CANCEL] Event ${d.id}: Registered on different day (${at}). Auto-canceling.`),g="CANCELED")}if(g==="CHECKED_IN"&&typeof localStorage<"u"){const S=`proof_draft_${p.id}`,tt=localStorage.getItem(S);if(tt)try{const x=JSON.parse(tt);x.step&&x.step>=2&&(g="proof_submitted")}catch{}}const O=_[d.id]||0,M=d.event_date||d.startDate||d.event_start_date,P=d.event_end_date||d.endDate,K=S=>{if(!S)return"";const tt=new Date(S),x=tt.getHours(),E=tt.getMinutes(),L=String(x).padStart(2,"0"),lt=String(E).padStart(2,"0");return`${L}:${lt}`},ot=K(M),F=K(P),Y=S=>{if(!S)return null;if(S.includes("Z")||S.includes("+")){const lt=new Date(S);return new Date(lt.getFullYear(),lt.getMonth(),lt.getDate())}const tt=S.includes("T")?S.split("T")[0]:S,[x,E,L]=tt.split("-").map(Number);return new Date(x,E-1,L)},_t=Y(M),T=Y(P);_t&&_t.setHours(0,0,0,0),T&&T.setHours(23,59,59,999);const I=ss(c,d.id);I.setHours(0,0,0,0);const R=T?I.getTime()>T.getTime():!1,B=T&&c>T,st=_t&&c<_t;let ct=!1,gt=!1,Z=!1;if(ot&&F){const[S,tt]=ot.split(":").map(Number),[x,E]=F.split(":").map(Number),L=ue();L.setHours(S,tt,0,0);const lt=ue();lt.setHours(x,E,59,999),c<L&&(gt=!0),c>lt&&(ct=!0),c<=lt&&(Z=!0)}let z=!1,q=h[t(s)].btn_locked;if(B)z=!0,q=t(s)==="th"?"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity Ended";else if(st&&g!=="JOINED"){z=!0;const S=te(M,void 0,t(s));q=t(s)==="th"?`‡πÄ‡∏õ‡∏¥‡∏î ${S}`:`Open ${S}`}else if(g==="COMPLETED")if(z=!0,R)ct?q=t(s)==="th"?"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity Ended":q=t(s)==="th"?"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢":"Checkout Completed";else if(Z)q=t(s)==="th"?"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢":"Checkout Completed";else{const S=I.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"});q=t(s)==="th"?`‡πÄ‡∏õ‡∏¥‡∏î ${S}`:`Open ${S}`}else g==="CHECKED_OUT"?z=!1:gt?(z=!0,q=t(s)==="th"?"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤":"Not yet time"):ct&&(z=!0,q=t(s)==="th"?"‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Time's up");const rt=B||g==="CANCELED"||R&&ct;rt&&(O===0?g="CANCELED":O>=1&&g!=="CANCELED"&&(g="COMPLETED"));const $=$a(M||"",P||"",d?.id||0),pt={id:d.id,participation_id:n,title:d.title||"Unknown Event",description:d.description||"",location:d.location||"-",distance_km:d.distance_km||0,actual_distance_km:V,banner_image_url:zs(d.banner_image_url)||"https://via.placeholder.com/400",participant_count:d.participant_count||0,max_participants:d.max_participants||0,join_code:it,completion_code:J,rejection_reason:H,proof_image_url:w,raw_start_date:M,raw_end_date:P,raw_start_time:ot,raw_end_time:F,status:g,isJoined:!0,isExpanded:!1,completed_count:O,isLocked:z,lockMessage:q,completion_rank:Et,total_days:$};rt?r.push(pt):l.push(pt)}),b(ce,l),b(Me,r)}function je(l,r,c){if(!l)return"";const _=p=>{if(!p)return"";if(p.includes("T"))return new Date(p).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"});const g=p.split(":");return g.length>=2?`${g[0]}:${g[1]}`:p},v=_(l),d=_(r);return!v||v==="Invalid Date"?"":c==="th"?d?`${v} - ${d} ‡∏ô.`:`${v} ‡∏ô.`:d?`${v} - ${d}`:`${v}`}function va(l){if(!l)return"JOINED";const r=l.toLowerCase();return r==="joined"?"JOINED":r==="checked_in"?"CHECKED_IN":r==="rejected"?"REJECTED":r==="proof_submitted"||r==="submitted"||r==="pending"||r.includes("wait")||r==="pending_proof"?"proof_submitted":r==="checked_out"||r==="pass"||r==="verified"?"CHECKED_OUT":r==="completed"||r==="finished"?"COMPLETED":r==="canceled"||r==="cancelled"?"CANCELED":"JOINED"}function ua(){if(typeof localStorage>"u")return"";let l=localStorage.getItem("token")||localStorage.getItem("access_token")||"";if(!l){const r=localStorage.getItem("user")||localStorage.getItem("user_info");if(r)try{const c=JSON.parse(r);l=c.token||c.accessToken||c.access_token||""}catch{}}return l}function Gt(){return ua()}function fa(){const l=ua();if(!l)return null;try{const c=l.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),_=decodeURIComponent(window.atob(c).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")),v=JSON.parse(_);return v.id||v.user_id||v.sub||v.userId}catch(r){return console.error("Token parsing error",r),null}}function Ya(){Xt&&clearInterval(Xt);const l=Gt();if(!l){b(ge,"00:00:00");return}try{const c=l.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),_=JSON.parse(decodeURIComponent(window.atob(c).split("").map(v=>"%"+("00"+v.charCodeAt(0).toString(16)).slice(-2)).join("")));if(_.exp){const v=_.exp*1e3;Xt=setInterval(()=>{const d=Date.now(),p=v-d;if(p<=0)Xt&&clearInterval(Xt),b(ge,"00:00:00"),ia=0,Za();else{const g=Math.floor(p/1e3);ia=g;const n=Math.floor(g/3600),w=Math.floor(g%3600/60),H=g%60;b(ge,`${n.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`)}},1e3)}}catch(r){console.error("Error parsing token expiration:",r)}}function Za(){typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(l=>{document.cookie=l.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),Ja.logout(),A.fire({icon:"error",title:"Session Expired",text:"‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà",allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{window.location.href="/auth/login"})}function _a(){b(Ft,!1),typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(l=>{document.cookie=l.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),Ja.logout(),window.location.href="/auth/login"}let Oe=ut(!1),ft=ut(null);function pa(l){b(ft,l),b(Oe,!0)}function Xa(){b(Oe,!1),setTimeout(()=>{b(ft,null)},300)}function $a(l,r,c){if(!l||!r)return 0;const _=n=>{if(n.includes("Z")||n.includes("+")){const V=new Date(n);return new Date(V.getFullYear(),V.getMonth(),V.getDate())}const w=n.includes("T")?n.split("T")[0]:n,[H,it,J]=w.split("-").map(Number);return new Date(H,it-1,J)},v=_(l),d=_(r);if(d<v)return 0;let p=0,g=new Date(v);for(;g<=d;)ma(g,c)||p++,g.setDate(g.getDate()+1);return p}function ga(l){return`proof_draft_${l}`}function ts(l){localStorage.removeItem(ga(l))}function ha(l,r){b(Se,l),b(Ft,!1),la(r)}function es(){document.getElementById("history-section")?.scrollIntoView({behavior:"smooth"})}function as(){document.getElementById("upcoming-section")?.scrollIntoView({behavior:"smooth"})}function te(l,r,c="th"){if(!l)return"-";const _=c==="th"?"th-TH":"en-GB",v={day:"numeric",month:"short",year:"numeric"},d=n=>{if(!n)return null;if(n.includes("Z")||n.includes("+")){const V=new Date(n);return new Date(V.getFullYear(),V.getMonth(),V.getDate())}const w=n.includes("T")?n.split("T")[0]:n,[H,it,J]=w.split("-").map(Number);return new Date(H,it-1,J)},p=d(l);if(!p)return"-";const g=p.toLocaleDateString(_,v);if(r){const n=d(r);if(n&&p.getTime()!==n.getTime()){const w=n.toLocaleDateString(_,v);return`${g} - ${w}`}}return g}function ma(l,r){const c=t(Rt)[r];if(!c)return!1;if(c.excludeWeekends){const g=l.getDay();if(g===0||g===6)return!0}const _=l.getFullYear(),v=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getDate()).padStart(2,"0"),p=`${_}-${v}-${d}`;return!!(c.holidays&&c.holidays.includes(p))}function ss(l,r){let c=new Date(l);do c.setDate(c.getDate()+1);while(ma(c,r));return c}function rs(l){b(ve,l),b(Mt,""),b($t,""),b(Ne,!0)}function ba(){b(Ne,!1),b(ve,null)}async function ls(){if(!t(ve))return;let l=t(Mt);if(t(Mt).includes("Other")||t(Mt).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ")){if(!t($t).trim()){A.fire({icon:"warning",title:t(s)==="th"?"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Reason not specified",text:t(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°":"Please provide more details",confirmButtonColor:"#f59e0b"});return}l=t($t)}try{const r=Gt();if(!r){A.fire(h[t(s)].alert_error,h[t(s)].alert_session_expired,"error");return}const c=t(ve).participation_id;if(!c){A.fire(h[t(s)].alert_error,"Invalid participation","error");return}const _=await fetch(`${Ut}/api/participations/${c}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({cancellation_reason:l})});if(_.ok)b(ce,t(ce).filter(v=>v.participation_id!==c)),A.fire({icon:"success",title:t(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß":"Cancelled successfully",timer:1500,showConfirmButton:!1}),ba(),await ca();else{const v=await _.json();A.fire(h[t(s)].alert_error,v.detail||"Error","error")}}catch{A.fire(h[t(s)].alert_error,h[t(s)].alert_connection_error,"error")}}async function be(l){if(!l.join_code){A.fire({icon:"info",title:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ",text:'‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤ "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" ‡∏Å‡πà‡∏≠‡∏ô',confirmButtonText:"‡πÑ‡∏õ‡∏™‡∏°‡∏±‡∏Ñ‡∏£"}).then(d=>{d.isConfirmed&&Os("student")});return}if(!Gt()){A.fire(h[t(s)].alert_error,h[t(s)].alert_session_expired,"error");return}A.showLoading();const c=await Qa(l.id);A.close();let _={...l},v=null;if(c&&c.codes&&c.codes.length>0?v=c.codes[0]:c&&c.join_code&&(v=c),v){const d=v.created_at||v.date||v.start_date;if(d){const p=new Date(d),g=ue();p.setHours(0,0,0,0),g.setHours(0,0,0,0),p.getTime()!==g.getTime()&&(console.log("Status data is from different day, clearing it"),v=null)}}if(v?(_.participation_id=v.id||_.participation_id,_.status=va(v.status),_.join_code=v.join_code?String(v.join_code):"",_.completion_code=v.completion_code?String(v.completion_code):void 0,_.rejection_reason=v.rejection_reason,_.isJoined=!0):(_.status="JOINED",_.join_code="",_.isJoined=!1),_.status==="COMPLETED"){A.fire("Completed","‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß","success");return}if(b(D,_),Le=_.participation_id,b(le,"PIN"),b(ne,_.proof_image_url||null),_.status==="CHECKED_IN"||_.status==="proof_submitted"||_.status==="REJECTED"){const d=localStorage.getItem(ga(_.participation_id));if(d)try{const p=JSON.parse(d);b(Nt,p.link||""),b(St,p.dist||0)}catch{}}b(Pe,!0)}function ka(){b(Pe,!1),setTimeout(()=>{b(D,null)},300)}async function ns(l){const r=l.target;if(r.files&&r.files[0]){const c=r.files[0];A.fire({title:"Processing Image...",text:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",allowOutsideClick:!1,didOpen:()=>A.showLoading()});try{const _=await vs(c);b(de,_);const v=new FileReader;v.onload=d=>{b(ne,d.target?.result),A.close()},v.readAsDataURL(_)}catch(_){console.error("Compression error:",_),A.fire("Error","‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ","error")}}}function is(l){return!l||l.trim()===""?!1:[/^https?:\/\/(www\.)?strava\.com\/activities\/\d+/i,/^https?:\/\/strava\.app\.link\//i,/^https?:\/\/(www\.)?strava\.com\/athletes\/\d+\/activities\//i].some(c=>c.test(l.trim()))}async function os(){if(!t(Nt)||t(Nt).trim()===""){A.fire(h[t(s)].alert_warning,h[t(s)].alert_link_required,"warning");return}const l=t(Nt).trim();if(!is(l)){A.fire({icon:"error",title:h[t(s)].alert_error,html:`${h[t(s)].alert_link_invalid}<br><br>
              <small style="color:#666;">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:<br>
              ‚Ä¢ https://www.strava.com/activities/12345<br>
              ‚Ä¢ https://strava.app.link/xxxxx</small>`});return}A.fire({title:h[t(s)].alert_checking,text:h[t(s)].alert_fetching_strava,allowOutsideClick:!1,didOpen:()=>A.showLoading()});try{const r=await Hs("/api/strava/parse",{method:"POST",body:JSON.stringify({url:l})});if(A.close(),r.ok){const c=await r.json();c.success&&c.distance_km?(b(St,Number(c.distance_km)||0),b(me,!0),A.fire({icon:"success",title:t(s)==="th"?"‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!":"Data Retrieved!",html:`<div style="text-align:left;">
                        <p><b>${t(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}:</b> ${t(St).toFixed(2)} km</p>
                        ${c.moving_time?`<p><b>${t(s)==="th"?"‡πÄ‡∏ß‡∏•‡∏≤":"Time"}:</b> ${c.moving_time}</p>`:""}
                        ${c.activity_name?`<p><b>${t(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity"}:</b> ${c.activity_name}</p>`:""}
                      </div>`,timer:3e3,showConfirmButton:!0,confirmButtonText:"OK"})):c.distance_km===0||c.distance_km?(b(St,Number(c.distance_km)||0),b(me,!0),A.fire({icon:"info",title:t(s)==="th"?"‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•":"Data Found",text:`${t(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${t(St)} km`,timer:2e3,showConfirmButton:!1})):await Ae()}else if(r.status===404||r.status===400)await Ae();else throw new Error(`Server error: ${r.status}`)}catch(r){console.error("Strava check error:",r),A.close(),await Ae()}}async function Ae(){const l=await A.fire({icon:"info",title:t(s)==="th"?"‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Enter Distance",html:`<p style="margin-bottom:10px;">${t(s)==="th"?"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á":"Could not fetch Strava data automatically.<br>Please enter distance manually."}</p>`,input:"number",inputLabel:t(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£)":"Distance (km)",inputPlaceholder:"0.00",inputAttributes:{min:"0",step:"0.01"},showCancelButton:!0,confirmButtonText:t(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô":"Confirm",cancelButtonText:t(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Cancel",inputValidator:r=>!r||Number(r)<=0?t(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0":"Please enter distance greater than 0":null});l.isConfirmed&&l.value&&(b(St,Number(l.value)),b(me,!0),A.fire({icon:"success",title:"OK",text:`${t(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${t(St)} km`,timer:1500,showConfirmButton:!1}))}async function cs(){if(!t(D))return;const l=Gt();if(!l){A.fire(h[t(s)].alert_error,h[t(s)].alert_session_expired,"error");return}if(!t(D).participation_id){A.fire("Error","‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Participation ID) - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠","error");return}if(!t(Nt)||t(Nt).trim()===""){A.fire(h[t(s)].alert_warning,h[t(s)].alert_link_required,"warning");return}if(!t(de)&&!t(D).proof_image_url){A.fire(h[t(s)].alert_warning,h[t(s)].alert_image_required,"warning");return}try{A.showLoading();let r=t(D).proof_image_url||"";if(t(de)){const{uploadImage:g}=await Ts(async()=>{const{uploadImage:w}=await import("../chunks/Cnqa9Cr2.js");return{uploadImage:w}},[],import.meta.url);r=(await g(t(de),"proofs")).url}const c={proof_image_url:r,strava_link:t(Nt),actual_distance_km:Number(t(St))};let _=t(D).status==="REJECTED",v=_?`${Ut}/api/participations/${t(D).participation_id}/resubmit-proof`:`${Ut}/api/participations/${t(D).participation_id}/submit-proof`,d=_?"PUT":"POST",p=await fetch(v,{method:d,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(c)});if(!p.ok&&p.status===400&&d==="POST"&&(console.warn("‚ö†Ô∏è POST failed (400). Switching to RESUBMIT (PUT)..."),v=`${Ut}/api/participations/${t(D).participation_id}/resubmit-proof`,d="PUT",p=await fetch(v,{method:d,headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(c)})),p.ok)A.fire(h[t(s)].alert_success_title,h[t(s)].alert_submit_success,"success"),Le&&ts(Le),t(D)&&(za(D,t(D).status="proof_submitted"),za(D,t(D).proof_image_url=t(ne)||void 0)),ka();else{const g=await p.json().catch(()=>({}));throw console.error("‚ùå Submit Error Detail:",g),new Error(g.message||g.detail||`Submit Failed (${p.status})`)}}catch(r){console.error(r),A.fire(h[t(s)].alert_error,r.message,"error")}}function ke(){oe||(Te=!0,console.log("üîÑ Starting auto-refresh polling (every 5s)"),oe=setInterval(async()=>{if(Te)try{await ds()}catch(l){console.error("Polling error:",l)}},qa))}function ye(){oe&&(clearInterval(oe),oe=null),Te=!1,console.log("‚èπÔ∏è Stopped auto-refresh polling")}async function ds(){const l=Gt(),r=fa();if(!(!l||!r))try{const c=await fetch(`${Ut}/api/participations/user/${r}`,{method:"GET",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!c.ok)return;const _=await c.json();let v=!1;for(const d of _){const p=re.find(g=>g.id===d.id);if(!p||p.status!==d.status){v=!0,console.log(`üì¢ Status changed: ${p?.status||"NEW"} ‚Üí ${d.status}`);break}}_.length!==re.length&&(v=!0),v&&(console.log("‚úÖ Detected changes, updating UI..."),re=_,da())}catch{}}function ya(){document.hidden?ye():ke()}Ms(async()=>{const l=localStorage.getItem("app_lang");(l==="th"||l==="en")&&b(s,l),Ya(),await ca(),ke(),document.addEventListener("visibilitychange",ya),window.addEventListener("offline",ye),window.addEventListener("online",ke)}),Ps(()=>{Xt&&clearInterval(Xt),ye(),document.removeEventListener("visibilitychange",ya),window.removeEventListener("offline",ye),window.removeEventListener("online",ke)});async function vs(l,r=1200,c=.7){return new Promise((_,v)=>{const d=new FileReader;d.readAsDataURL(l),d.onload=p=>{const g=new Image;g.src=p.target?.result,g.onload=()=>{const n=document.createElement("canvas");let w=g.width,H=g.height;w>r&&(H=H*r/w,w=r),n.width=w,n.height=H,n.getContext("2d")?.drawImage(g,0,0,w,H),n.toBlob(J=>{if(J){const V=new File([J],l.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg",lastModified:Date.now()});_(V)}else v(new Error("Image compression failed"))},"image/jpeg",c)}},d.onerror=p=>v(p)})}sa(()=>(t(Nt),t(St)),()=>{t(Nt)&&t(Nt).trim()&&t(St)>0&&(b(me,!1),b(St,0))}),sa(()=>(t(ce),t(Jt)),()=>{b(pe,t(ce).filter(l=>l.title.toLowerCase().includes(t(Jt).toLowerCase())||l.description.toLowerCase().includes(t(Jt).toLowerCase())))}),sa(()=>(t(Me),t(Jt)),()=>{b(na,t(Me).filter(l=>l.title.toLowerCase().includes(t(Jt).toLowerCase())&&l.status!=="CANCELED"))}),Ls(),Rs();var wa=tl(),Re=Q(wa),Be=a(Re),xa=a(Be),ze=a(xa),Ea=o(a(ze),2);zt(Ea,5,()=>oa,Ht,(l,r)=>{var c=Us();let _;var v=a(c),d=a(v);e(v);var p=o(v,2),g=a(p,!0);e(p),e(c),k(()=>{_=Lt(c,1,"menu-btn svelte-1gf1l8n",null,_,{active:t(Se)===t(r).id}),se(d,"d",(t(r),i(()=>t(r).svg))),f(g,(t(r),i(()=>t(r).label)))}),W("click",c,()=>ha(t(r).id,t(r).path)),u(l,c)}),e(Ea),e(ze);var He=o(ze,2),Ca=a(He),Ue=o(a(Ca),2);Ee(Ue),e(Ca),e(He);var Da=o(He,2),Je=a(Da),us=a(Je,!0);e(Je);var Ve=o(Je,2),Ke=a(Ve);let Sa;var Ta=o(Ke,4);let Ia;e(Ve);var Ma=o(Ve,2),fs=o(Ma,2);e(Da),e(xa),e(Be);var Pa=o(Be,2);{var _s=l=>{var r=Vs(),c=Q(r),_=o(c,2),v=a(_),d=o(a(v));e(v);var p=o(v,2),g=a(p);Ee(g),e(p);var n=o(p,2),w=a(n);zt(w,1,()=>oa,Ht,(M,P)=>{var K=Js();let ot;var F=a(K),Y=a(F);e(F);var _t=o(F);e(K),k(()=>{ot=Lt(K,1,"drawer-item svelte-1gf1l8n",null,ot,{active:t(Se)===t(P).id}),se(Y,"d",(t(P),i(()=>t(P).svg))),f(_t,` ${t(P),i(()=>t(P).label)??""}`)}),W("click",K,()=>ha(t(P).id,t(P).path)),u(M,K)});var H=o(w,2),it=o(a(H),2),J=a(it);let V;var Et=o(J,2);let at;e(it),e(H),e(n);var O=o(n,2);e(_),k(()=>{se(g,"placeholder",(t(s),i(()=>h[t(s)].search_placeholder))),V=Lt(J,1,"svelte-1gf1l8n",null,V,{active:t(s)==="th"}),at=Lt(Et,1,"svelte-1gf1l8n",null,at,{active:t(s)==="en"})}),W("click",c,()=>b(Ft,!1)),W("keydown",c,M=>{(M.key==="Escape"||M.key==="Enter"||M.key===" ")&&b(Ft,!1)}),At(3,c,()=>De,()=>({duration:200})),W("click",d,()=>b(Ft,!1)),xe(g,()=>t(Jt),M=>b(Jt,M)),W("click",J,()=>he("th")),W("click",Et,()=>he("en")),W("click",O,_a),At(3,_,()=>Ce,()=>({axis:"x",duration:300})),u(l,r)};y(Pa,l=>{t(Ft)&&l(_s)})}var Fe=o(Pa,2),La=a(Fe),qe=a(La),Ge=a(qe),Na=a(Ge),ps=a(Na,!0);e(Na),ae(2),e(Ge);var We=o(Ge,2),gs=a(We);ae(),e(We),e(qe);var ja=o(qe,2);{var hs=l=>{var r=Ks();u(l,r)},ms=l=>{var r=yt(),c=Q(r);{var _=d=>{var p=Fs();u(d,p)},v=d=>{var p=pr();zt(p,5,()=>t(pe),Ht,(g,n)=>{var w=_r();let H;var it=a(w),J=a(it);{var V=x=>{var E=qs(),L=a(E),lt=o(a(L),2),N=a(lt,!0);e(lt),e(L),e(E),k(()=>f(N,(t(n),t(s),i(()=>t(n).lockMessage||h[t(s)].btn_locked)))),u(x,E)};y(J,x=>{t(n),i(()=>t(n).isLocked)&&x(V)})}e(it),Ha(it,(x,E)=>Ua?.(x,E),()=>t(n).banner_image_url);var Et=o(it,2),at=a(Et),O=a(at),M=a(O,!0);e(O);var P=o(O,2),K=a(P);{var ot=x=>{var E=Gs(),L=a(E,!0);e(E),k(()=>f(L,(t(s),i(()=>h[t(s)].status_waiting)))),u(x,E)},F=x=>{var E=yt(),L=Q(E);{var lt=C=>{var j=Ws(),ht=a(j,!0);e(j),k(()=>f(ht,(t(s),i(()=>h[t(s)].status_rejected)))),u(C,j)},N=C=>{var j=yt(),ht=Q(j);{var U=dt=>{var mt=Qs(),Tt=a(mt,!0);e(mt),k(()=>f(Tt,(t(s),i(()=>h[t(s)].status_sending)))),u(dt,mt)},et=dt=>{var mt=yt(),Tt=Q(mt);{var Vt=X=>{var nt=Zs(),G=a(nt),wt=a(G,!0);e(G);var xt=o(G,2);{var kt=vt=>{var Ct=Ys(),Wt=a(Ct);e(Ct),k(()=>f(Wt,`üèÜ ${t(s),i(()=>h[t(s)].rank_label)??""} ${t(n),i(()=>t(n).completion_rank)??""}`)),u(vt,Ct)};y(xt,vt=>{t(n),i(()=>t(n).completion_rank&&t(n).completion_rank>0)&&vt(kt)})}e(nt),k(()=>f(wt,(t(s),i(()=>h[t(s)].status_completed_badge)))),u(X,nt)},bt=X=>{var nt=yt(),G=Q(nt);{var wt=kt=>{var vt=Xs(),Ct=a(vt,!0);e(vt),k(()=>f(Ct,(t(s),i(()=>h[t(s)].status_register)))),u(kt,vt)},xt=kt=>{var vt=$s(),Ct=a(vt,!0);e(vt),k(()=>f(Ct,(t(n),i(()=>t(n).status)))),u(kt,vt)};y(G,kt=>{t(n),i(()=>t(n).status==="JOINED")?kt(wt):kt(xt,!1)},!0)}u(X,nt)};y(Tt,X=>{t(n),i(()=>t(n).status==="COMPLETED")?X(Vt):X(bt,!1)},!0)}u(dt,mt)};y(ht,dt=>{t(n),i(()=>t(n).status==="CHECKED_IN")?dt(U):dt(et,!1)},!0)}u(C,j)};y(L,C=>{t(n),i(()=>t(n).status==="REJECTED")?C(lt):C(N,!1)},!0)}u(x,E)};y(K,x=>{t(n),i(()=>t(n).status==="proof_submitted")?x(ot):x(F,!1)})}var Y=o(K,2),_t=o(a(Y));e(Y);var T=o(Y,2),I=a(T);e(T),e(P),e(at);var R=o(at,2);let B;var st=a(R,!0);e(R);var ct=o(R,2);{var gt=x=>{var E=lr(),L=a(E),lt=o(a(L),2),N=a(lt,!0);e(lt),e(L);var C=o(L,2),j=o(a(C),2),ht=a(j,!0);e(j),e(C);var U=o(C,2),et=o(a(U),2),dt=a(et,!0);e(et),e(U);var mt=o(U,2),Tt=o(a(mt),2),Vt=a(Tt);e(Tt),e(mt);var bt=o(mt,2);{var X=nt=>{const G=Bt(()=>(t(Rt),t(n),i(()=>t(Rt)[t(n).id]))),wt=Bt(()=>(Dt(t(G)),i(()=>t(G)&&(t(G).excludeWeekends||t(G).holidays&&t(G).holidays.length>0))));var xt=yt(),kt=Q(xt);{var vt=Ct=>{var Wt=rr(),ie=a(Wt),Qt=a(ie,!0);e(ie);var Ot=o(ie,2),fe=a(Ot);{var Xe=Pt=>{var It=ar(),Yt=Q(It);{var ta=jt=>{var Zt=tr(),ee=a(Zt);e(Zt),k(()=>f(ee,`‚Ä¢ ${t(s),i(()=>h[t(s)].dash_holiday_weekend)??""}`)),u(jt,Zt)};y(Yt,jt=>{Dt(t(G)),i(()=>t(G).excludeWeekends)&&jt(ta)})}var _e=o(Yt,2);{var we=jt=>{var Zt=yt(),ee=Q(Zt);zt(ee,1,()=>(Dt(t(G)),i(()=>t(G).holidays)),Ht,(ea,Ba)=>{var aa=er(),Ds=a(aa);e(aa),k(Ss=>f(Ds,`‚Ä¢ ${Ss??""}`),[()=>(t(Ba),t(s),i(()=>te(t(Ba),void 0,t(s))))]),u(ea,aa)}),u(jt,Zt)};y(_e,jt=>{Dt(t(G)),i(()=>t(G).holidays)&&jt(we)})}u(Pt,It)},$e=Pt=>{var It=sr(),Yt=a(It,!0);e(It),k(()=>f(Yt,(t(s),i(()=>h[t(s)].dash_no_holiday)))),u(Pt,It)};y(fe,Pt=>{t(wt)?Pt(Xe):Pt($e,!1)})}e(Ot),e(Wt),k(()=>{Kt(Wt,t(wt)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Kt(ie,t(wt)?"":"color: #10b981;"),f(Qt,(t(s),i(()=>h[t(s)].dash_holiday_title))),Kt(Ot,t(wt)?"":"color: #34d399;")}),u(Ct,Wt)};y(kt,Ct=>{Dt(t(G)),i(()=>t(G).excludeWeekends||t(G).holidays&&t(G).holidays.length>0)&&Ct(vt)})}u(nt,xt)};y(bt,nt=>{t(Rt),t(n),i(()=>t(Rt)[t(n).id])&&nt(X)})}e(E),k((nt,G)=>{f(N,(t(n),i(()=>t(n).location))),f(ht,nt),f(dt,G),f(Vt,`${t(n),i(()=>t(n).distance_km)??""} KM`)},[()=>(t(n),t(s),i(()=>te(t(n).raw_start_date,t(n).raw_end_date,t(s)))),()=>(t(n),t(s),i(()=>je(t(n).raw_start_time||"",t(n).raw_end_time||"",t(s))))]),At(3,E,()=>Ce,()=>({duration:300})),u(x,E)};y(ct,x=>{t(n),i(()=>t(n).isExpanded)&&x(gt)})}var Z=o(ct,2),z=a(Z),q=o(a(z),2),rt=a(q,!0);e(q),e(z);var $=o(z,2),pt=a($);{var S=x=>{var E=nr(),L=o(a(E));e(E),k(()=>f(L,` ${t(n),t(s),i(()=>t(n).lockMessage||h[t(s)].btn_locked)??""}`)),u(x,E)},tt=x=>{var E=yt(),L=Q(E);{var lt=C=>{var j=ir(),ht=a(j,!0);e(j),k(()=>f(ht,t(s)==="th"?"üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤":"üìù Register from Events")),u(C,j)},N=C=>{var j=yt(),ht=Q(j);{var U=dt=>{var mt=or(),Tt=o(a(mt));e(mt),k(()=>f(Tt,` ${t(s),i(()=>h[t(s)].btn_daily_wait)??""}`)),u(dt,mt)},et=dt=>{var mt=yt(),Tt=Q(mt);{var Vt=X=>{var nt=cr(),G=a(nt,!0);e(nt),k(()=>f(G,(t(s),i(()=>h[t(s)].btn_waiting)))),u(X,nt)},bt=X=>{var nt=yt(),G=Q(nt);{var wt=kt=>{var vt=dr(),Ct=a(vt,!0);e(vt),k(()=>f(Ct,(t(s),i(()=>h[t(s)].btn_send_proof)))),W("click",vt,()=>be(t(n))),u(kt,vt)},xt=kt=>{var vt=yt(),Ct=Q(vt);{var Wt=Qt=>{var Ot=vr(),fe=a(Ot,!0);e(Ot),k(()=>f(fe,(t(s),i(()=>h[t(s)].btn_send_image)))),W("click",Ot,()=>be(t(n))),u(Qt,Ot)},ie=Qt=>{var Ot=yt(),fe=Q(Ot);{var Xe=Pt=>{var It=ur(),Yt=a(It,!0);e(It),k(()=>f(Yt,(t(s),i(()=>h[t(s)].btn_checkout)))),W("click",It,()=>be(t(n))),u(Pt,It)},$e=Pt=>{var It=yt(),Yt=Q(It);{var ta=_e=>{var we=fr(),jt=Q(we),Zt=a(jt,!0);e(jt);var ee=o(jt,2),ea=a(ee,!0);e(ee),k(()=>{f(Zt,(t(s),i(()=>h[t(s)].btn_checkin))),f(ea,t(s)==="th"?"‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"‚ùå Cancel")}),W("click",jt,()=>be(t(n))),W("click",ee,()=>rs(t(n))),u(_e,we)};y(Yt,_e=>{t(n),i(()=>t(n).status==="JOINED")&&_e(ta)},!0)}u(Pt,It)};y(fe,Pt=>{t(n),i(()=>t(n).status==="CHECKED_OUT")?Pt(Xe):Pt($e,!1)},!0)}u(Qt,Ot)};y(Ct,Qt=>{t(n),i(()=>t(n).status==="REJECTED")?Qt(Wt):Qt(ie,!1)},!0)}u(kt,vt)};y(G,kt=>{t(n),i(()=>t(n).status==="CHECKED_IN")?kt(wt):kt(xt,!1)},!0)}u(X,nt)};y(Tt,X=>{t(n),i(()=>t(n).status==="proof_submitted")?X(Vt):X(bt,!1)},!0)}u(dt,mt)};y(ht,dt=>{t(n),i(()=>t(n).status==="COMPLETED")?dt(U):dt(et,!1)},!0)}u(C,j)};y(L,C=>{t(n),i(()=>!t(n).join_code&&t(n).status!=="COMPLETED"&&t(n).status!=="CANCELED")?C(lt):C(N,!1)},!0)}u(x,E)};y(pt,x=>{t(n),i(()=>t(n).isLocked)?x(S):x(tt,!1)})}e($),e(Z),e(Et),e(w),k(()=>{H=Lt(w,1,"event-card svelte-1gf1l8n",null,H,{"locked-card":t(n).isLocked}),f(M,(t(n),i(()=>t(n).title))),f(_t,` ${t(n),i(()=>t(n).participant_count)??""}/${t(n),i(()=>t(n).max_participants)??""} ${t(s),i(()=>h[t(s)].participants)??""}`),f(I,`üèÉ ${t(n),i(()=>t(n).completed_count)??""} / ${t(n),i(()=>t(n).total_days)??""} ${t(s),i(()=>h[t(s)].dash_unit_days)??""}`),B=Lt(R,1,"card-desc svelte-1gf1l8n",null,B,{expanded:t(n).isExpanded}),f(st,(t(n),i(()=>t(n).description))),f(rt,t(s)==="th"?"‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥":"Stats")}),W("click",z,()=>pa(t(n))),u(g,w)}),e(p),u(d,p)};y(c,d=>{t(pe),i(()=>t(pe).length===0)?d(_):d(v,!1)},!0)}u(l,r)};y(ja,l=>{t(Ie)?l(hs):l(ms,!1)})}var Qe=o(ja,2),Ye=a(Qe),Oa=a(Ye),bs=a(Oa,!0);e(Oa),ae(2),e(Ye);var Ze=o(Ye,2),ks=a(Ze);ae(),e(Ze),e(Qe);var Aa=o(Qe,2);zt(Aa,5,()=>t(na),Ht,(l,r)=>{var c=Dr(),_=a(c);Ha(_,(T,I)=>Ua?.(T,I),()=>t(r).banner_image_url);var v=o(_,2),d=a(v),p=a(d),g=a(p,!0);e(p);var n=o(p,2),w=a(n);{var H=T=>{var I=hr(),R=a(I),B=a(R,!0);e(R);var st=o(R,2);{var ct=z=>{var q=gr(),rt=a(q);e(q),k(()=>f(rt,`üèÜ ${t(s),i(()=>h[t(s)].rank_label)??""} ${t(r),i(()=>t(r).completion_rank)??""}`)),u(z,q)};y(st,z=>{t(r),i(()=>t(r).completion_rank&&t(r).completion_rank>0)&&z(ct)})}var gt=o(st,2),Z=a(gt);e(gt),e(I),k(()=>{f(B,(t(s),i(()=>h[t(s)].status_ended))),f(Z,`üèÉ ${t(r),i(()=>t(r).completed_count)??""} / ${t(r),i(()=>t(r).total_days)??""} ${t(s),i(()=>h[t(s)].dash_unit_days)??""}`)}),u(T,I)},it=T=>{var I=mr();u(T,I)};y(w,T=>{t(r),i(()=>t(r).isJoined)?T(H):T(it,!1)})}e(n),e(d);var J=o(d,2);let V;var Et=a(J,!0);e(J);var at=o(J,2);{var O=T=>{const I=Bt(()=>(t(Rt),t(r),i(()=>t(Rt)[t(r).id]))),R=Bt(()=>(Dt(t(I)),i(()=>t(I)&&(t(I).excludeWeekends||t(I).holidays&&t(I).holidays.length>0))));var B=xr(),st=a(B),ct=o(a(st),2),gt=a(ct,!0);e(ct),e(st);var Z=o(st,2),z=o(a(Z),2),q=a(z,!0);e(z),e(Z);var rt=o(Z,2),$=o(a(rt),2),pt=a($,!0);e($),e(rt);var S=o(rt,2),tt=o(a(S),2),x=a(tt);e(tt),e(S);var E=o(S,2),L=a(E),lt=a(L,!0);e(L);var N=o(L,2),C=a(N);{var j=U=>{var et=yr(),dt=Q(et);{var mt=bt=>{var X=br(),nt=a(X);e(X),k(()=>f(nt,`‚Ä¢ ${t(s),i(()=>h[t(s)].dash_holiday_weekend)??""}`)),u(bt,X)};y(dt,bt=>{Dt(t(I)),i(()=>t(I).excludeWeekends)&&bt(mt)})}var Tt=o(dt,2);{var Vt=bt=>{var X=yt(),nt=Q(X);zt(nt,1,()=>(Dt(t(I)),i(()=>t(I).holidays)),Ht,(G,wt)=>{var xt=kr(),kt=a(xt);e(xt),k(vt=>f(kt,`‚Ä¢ ${vt??""}`),[()=>(t(wt),t(s),i(()=>te(t(wt),void 0,t(s))))]),u(G,xt)}),u(bt,X)};y(Tt,bt=>{Dt(t(I)),i(()=>t(I).holidays)&&bt(Vt)})}u(U,et)},ht=U=>{var et=wr(),dt=a(et,!0);e(et),k(()=>f(dt,(t(s),i(()=>h[t(s)].dash_no_holiday)))),u(U,et)};y(C,U=>{t(R)?U(j):U(ht,!1)})}e(N),e(E),e(B),k((U,et)=>{f(gt,(t(r),i(()=>t(r).location))),f(q,U),f(pt,et),f(x,`${t(r),i(()=>t(r).distance_km)??""} KM`),Kt(E,t(R)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Kt(L,t(R)?"":"color: #10b981;"),f(lt,(t(s),i(()=>h[t(s)].dash_holiday_title))),Kt(N,t(R)?"":"color: #34d399;")},[()=>(t(r),t(s),i(()=>te(t(r).raw_start_date,t(r).raw_end_date,t(s)))),()=>(t(r),t(s),i(()=>je(t(r).raw_start_time||"",t(r).raw_end_time||"",t(s))))]),At(3,B,()=>Ce),u(T,B)};y(at,T=>{t(r),i(()=>t(r).isExpanded)&&T(O)})}var M=o(at,2),P=a(M),K=o(a(P),2),ot=a(K,!0);e(K),e(P);var F=o(P,2);{var Y=T=>{var I=Er();u(T,I)},_t=T=>{var I=Cr();u(T,I)};y(F,T=>{t(r),i(()=>t(r).isJoined)?T(Y):T(_t,!1)})}e(M),e(v),e(c),k(()=>{f(g,(t(r),i(()=>t(r).title))),V=Lt(J,1,"card-desc svelte-1gf1l8n",null,V,{expanded:t(r).isExpanded}),f(Et,(t(r),i(()=>t(r).description))),f(ot,t(s)==="th"?"‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ":"Summary")}),W("click",P,()=>pa(t(r))),u(l,c)}),e(Aa),ae(2),e(La),e(Fe);var Ra=o(Fe,2);{var ys=l=>{var r=Fr(),c=a(r),_=a(c),v=o(_,2);{var d=p=>{const g=Bt(()=>({JOINED:1,CHECKED_IN:2,REJECTED:2,proof_submitted:3,CHECKED_OUT:4,COMPLETED:5,CANCELED:0})),n=Bt(()=>(Dt(t(g)),t(D),i(()=>t(g)[t(D).status]||0)));var w=Kr(),H=Q(w);{var it=O=>{var M=Ir();zt(M,4,()=>[1,2,3,4],Ht,(P,K)=>{var ot=Tr(),F=a(ot);let Y;var _t=a(F,!0);e(F);var T=o(F,2);{var I=R=>{var B=Sr();let st;k(()=>st=Lt(B,1,"step-line svelte-1gf1l8n",null,st,{"line-active":K<t(n)})),u(R,B)};y(T,R=>{K<4&&R(I)})}e(ot),k(()=>{Y=Lt(F,1,"step-circle svelte-1gf1l8n",null,Y,{active:K===t(n),completed:K<t(n)}),f(_t,K<t(n)?"‚úì":K)}),u(P,ot)}),e(M),u(O,M)};y(H,O=>{t(n)>0&&t(n)<5&&O(it)})}var J=o(H,2),V=a(J);{var Et=O=>{const M=Bt(()=>(t(D),i(()=>t(D).status==="CHECKED_OUT"))),P=Bt(()=>(t(D),i(()=>t(D).join_code)));var K=jr(),ot=Q(K),F=a(ot,!0);e(ot);var Y=o(ot,2),_t=a(Y);let T;var I=o(_t,2);let R;e(Y);var B=o(Y,2),st=a(B);{var ct=rt=>{var $=Lr(),pt=a($);{var S=x=>{var E=yt(),L=Q(E);zt(L,1,()=>(Dt(t(P)),i(()=>t(P).split(""))),Ht,(lt,N)=>{var C=Mr(),j=a(C,!0);e(C),k(()=>f(j,t(N))),u(lt,C)}),u(x,E)},tt=x=>{var E=Pr();ae(4),u(x,E)};y(pt,x=>{t(P)?x(S):x(tt,!1)})}e($),u(rt,$)},gt=rt=>{var $=Nr(),pt=a($);e($),k(()=>se(pt,"src",`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${t(P)||"WAITING"}`)),u(rt,$)};y(st,rt=>{t(le)==="PIN"?rt(ct):rt(gt,!1)})}e(B);var Z=o(B,2),z=a(Z),q=a(z,!0);e(z),e(Z),k(()=>{f(F,t(M)?t(s)==="th"?"Check Out (‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)":"Final Check Out":t(s)==="th"?"Check In (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)":"Start Check In"),T=Lt(_t,1,"toggle-btn svelte-1gf1l8n",null,T,{active:t(le)==="PIN"}),R=Lt(I,1,"toggle-btn svelte-1gf1l8n",null,R,{active:t(le)==="QR"}),f(q,t(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πÅ‡∏Å‡∏ô":"Please present this code to staff.")}),W("click",_t,()=>b(le,"PIN")),W("click",I,()=>b(le,"QR")),u(O,K)},at=O=>{var M=yt(),P=Q(M);{var K=F=>{var Y=Hr(),_t=Q(Y),T=a(_t,!0);e(_t);var I=o(_t,2);{var R=N=>{var C=Or(),j=a(C),ht=a(j);e(j);var U=o(j,3),et=a(U,!0);e(U),e(C),k(()=>{f(ht,`‚ö†Ô∏è ${t(s)==="th"?"‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò":"Submission Rejected"}`),f(et,(t(D),t(s),i(()=>t(D).rejection_reason||(t(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á":"Please check your proof again."))))}),u(N,C)};y(I,N=>{t(D),i(()=>t(D).status==="REJECTED")&&N(R)})}var B=o(I,2),st=o(a(B),2),ct=a(st);Ee(ct);var gt=o(ct,2),Z=a(gt);e(gt),e(st);var z=o(st,2);{var q=N=>{var C=Ar(),j=o(a(C),2),ht=a(j);e(j),e(C),k(U=>f(ht,`${t(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${U??""} km`),[()=>(t(St),i(()=>t(St).toFixed(2)))]),u(N,C)},rt=N=>{var C=Rr(),j=a(C,!0);e(C),k(()=>f(j,t(s)==="th"?"* ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏≠‡∏á":"* Click verify to fetch distance, or enter manually")),u(N,C)};y(z,N=>{t(St)>0?N(q):N(rt,!1)})}e(B);var $=o(B,2),pt=a($),S=a(pt);ae(),e(pt);var tt=o(pt,2);{var x=N=>{var C=Br(),j=a(C),ht=o(j,2),U=a(ht),et=a(U);e(U),e(ht),e(C),k(()=>f(et,`üì∏ ${t(s),i(()=>h[t(s)].modal_upload_txt)??""}`)),W("change",j,ns),u(N,C)},E=N=>{var C=zr(),j=a(C),ht=o(j,2);e(C),k(()=>se(j,"src",t(ne))),W("click",ht,()=>{b(ne,null),b(de,null)}),u(N,C)};y(tt,N=>{t(ne)?N(E,!1):N(x)})}e($);var L=o($,2),lt=a(L,!0);e(L),k(()=>{f(T,t(s)==="th"?"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á":"Submit Result"),f(Z,`üîç ${t(s),i(()=>h[t(s)].btn_verify_link)??""}`),f(S,`${t(s)==="th"?"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô":"Proof Image"} `),f(lt,(t(D),t(s),i(()=>t(D).status==="REJECTED"?t(s)==="th"?"‡∏™‡πà‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç":"Resubmit":t(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á":"Submit")))}),xe(ct,()=>t(Nt),N=>b(Nt,N)),W("click",gt,os),W("click",L,cs),u(F,Y)},ot=F=>{var Y=yt(),_t=Q(Y);{var T=R=>{var B=Ur(),st=o(a(B),2),ct=a(st,!0);e(st);var gt=o(st,2),Z=a(gt,!0);e(gt),e(B),k(()=>{f(ct,(t(s),i(()=>h[t(s)].modal_verifying_title))),f(Z,(t(s),i(()=>h[t(s)].modal_verifying_desc)))}),u(R,B)},I=R=>{var B=yt(),st=Q(B);{var ct=Z=>{var z=Jr(),q=o(a(z),2),rt=a(q,!0);e(q);var $=o(q,2),pt=a($),S=o(a(pt),2),tt=a(S);e(S),e(pt),e($),e(z),k(()=>{f(rt,t(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå":"Mission Completed!"),f(tt,`${t(D),i(()=>t(D).actual_distance_km||t(D).distance_km||0)??""} km`)}),u(Z,z)},gt=Z=>{var z=yt(),q=Q(z);{var rt=$=>{var pt=Vr(),S=o(a(pt),2),tt=a(S,!0);e(S),e(pt),k(()=>f(tt,t(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Event Cancelled")),u($,pt)};y(q,$=>{t(D),i(()=>t(D).status==="CANCELED")&&$(rt)},!0)}u(Z,z)};y(st,Z=>{t(D),i(()=>t(D).status==="COMPLETED")?Z(ct):Z(gt,!1)},!0)}u(R,B)};y(_t,R=>{t(D),i(()=>t(D).status==="proof_submitted")?R(T):R(I,!1)},!0)}u(F,Y)};y(P,F=>{t(D),i(()=>t(D).status==="CHECKED_IN"||t(D).status==="REJECTED")?F(K):F(ot,!1)},!0)}u(O,M)};y(V,O=>{t(D),i(()=>t(D).status==="JOINED"||t(D).status==="CHECKED_OUT")?O(Et):O(at,!1)})}e(J),u(p,w)};y(v,p=>{t(D)&&p(d)})}e(c),e(r),W("click",_,ka),At(3,c,()=>ra,()=>({duration:250,start:.9})),At(3,r,()=>De,()=>({duration:200})),u(l,r)};y(Ra,l=>{t(Pe)&&t(D)&&l(ys)})}var ws=o(Ra,2);{var xs=l=>{const r=Bt(()=>(t(Rt),t(ft),i(()=>t(Rt)[t(ft).id]))),c=Bt(()=>(Dt(t(r)),i(()=>t(r)&&(t(r).excludeWeekends||t(r).holidays&&t(r).holidays.length>0))));var _=Yr(),v=a(_),d=a(v),p=o(d,2),g=a(p),n=a(g,!0);e(g);var w=o(g,2),H=a(w,!0);e(w),e(p);var it=o(p,2),J=a(it),V=a(J),Et=a(V,!0);e(V),e(J);var at=o(J,2),O=a(at),M=a(O),P=a(M);e(M);var K=o(M,2),ot=a(K,!0);e(K),e(O);var F=o(O,2),Y=a(F),_t=a(Y);e(Y);var T=o(Y,2),I=a(T,!0);e(T),e(F);var R=o(F,2),B=a(R),st=a(B);e(B);var ct=o(B,2),gt=a(ct,!0);e(ct),e(R),e(at);var Z=o(at,2),z=a(Z),q=o(a(z),2),rt=a(q),$=a(rt,!0);e(rt);var pt=o(rt,2),S=a(pt),tt=o(S),x=a(tt,!0);e(tt),e(pt),e(q),e(z),e(Z);var E=o(Z,2),L=a(E),lt=a(L,!0);e(L);var N=o(L,2),C=a(N);{var j=U=>{var et=Wr(),dt=Q(et);{var mt=bt=>{var X=qr(),nt=a(X);e(X),k(()=>f(nt,`‚Ä¢ ${t(s),i(()=>h[t(s)].dash_holiday_weekend)??""}`)),u(bt,X)};y(dt,bt=>{Dt(t(r)),i(()=>t(r).excludeWeekends)&&bt(mt)})}var Tt=o(dt,2);{var Vt=bt=>{var X=yt(),nt=Q(X);zt(nt,1,()=>(Dt(t(r)),i(()=>t(r).holidays)),Ht,(G,wt)=>{var xt=Gr(),kt=a(xt);e(xt),k(vt=>f(kt,`‚Ä¢ ${vt??""}`),[()=>(t(wt),t(s),i(()=>te(t(wt),void 0,t(s))))]),u(G,xt)}),u(bt,X)};y(Tt,bt=>{Dt(t(r)),i(()=>t(r).holidays)&&bt(Vt)})}u(U,et)},ht=U=>{var et=Qr(),dt=a(et,!0);e(et),k(()=>f(dt,(t(s),i(()=>h[t(s)].dash_no_holiday)))),u(U,et)};y(C,U=>{t(c)?U(j):U(ht,!1)})}e(N),e(E),e(it),e(v),e(_),k((U,et)=>{f(n,(t(ft),i(()=>t(ft).title))),f(H,(t(ft),i(()=>t(ft).status==="COMPLETED"?"COMPLETED":t(ft).status))),f(Et,(t(ft),i(()=>t(ft).description))),f(P,`üìç ${t(s),i(()=>h[t(s)].dash_location)??""}`),f(ot,(t(ft),i(()=>t(ft).location))),f(_t,`üìÖ ${t(s),i(()=>h[t(s)].dash_date)??""}`),f(I,U),f(st,`‚è∞ ${t(s),i(()=>h[t(s)].dash_time)??""}`),f(gt,et),f($,(t(s),i(()=>h[t(s)].dash_success_title))),f(S,`${t(ft),i(()=>t(ft).completed_count)??""} / ${t(ft),i(()=>t(ft).total_days)??""} `),f(x,(t(s),i(()=>h[t(s)].dash_unit_days))),Kt(E,t(c)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Kt(L,t(c)?"":"color: #10b981;"),f(lt,(t(s),i(()=>h[t(s)].dash_holiday_title))),Kt(N,t(c)?"":"color: #34d399;")},[()=>(t(ft),t(s),i(()=>te(t(ft).raw_start_date,t(ft).raw_end_date,t(s)))),()=>(t(ft),t(s),i(()=>je(t(ft).raw_start_time||"",t(ft).raw_end_time||"",t(s))))]),W("click",d,Xa),At(3,v,()=>ra,()=>({duration:250,start:.95})),At(3,_,()=>De,()=>({duration:200})),u(l,_)};y(ws,l=>{t(Oe)&&t(ft)&&l(xs)})}e(Re);var Es=o(Re,2);{var Cs=l=>{var r=$r(),c=a(r),_=a(c),v=o(_,2),d=a(v),p=a(d,!0);e(d);var g=o(d,2),n=a(g,!0);e(g);var w=o(g,2);zt(w,5,()=>Ga,Ht,(at,O)=>{var M=Zr(),P=a(M);Ee(P);var K,ot=o(P,2),F=a(ot,!0);e(ot),e(M),k(()=>{K!==(K=t(O))&&(P.value=(P.__value=t(O))??""),f(F,t(O))}),As(Fa,[],P,()=>(t(O),t(Mt)),Y=>b(Mt,Y)),u(at,M)}),e(w);var H=o(w,2);{var it=at=>{var O=Xr(),M=a(O);js(M),e(O),k(()=>se(M,"placeholder",t(s)==="th"?"‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ...":"Specify other reason...")),xe(M,()=>t($t),P=>b($t,P)),At(3,O,()=>Ce),u(at,O)};y(H,at=>{t(Mt),i(()=>t(Mt).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ")||t(Mt).includes("Other"))&&at(it)})}var J=o(H,2),V=a(J),Et=a(V,!0);e(V),e(J),e(v),e(c),e(r),k(at=>{f(p,t(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Cancel Participation"),f(n,t(s)==="th"?"‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Please specify your reason for cancellation"),V.disabled=at,f(Et,t(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Confirm Cancellation")},[()=>(t(Mt),t($t),i(()=>!t(Mt)||(t(Mt).includes("Other")||t(Mt).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ"))&&!t($t).trim()))]),W("click",_,ba),W("click",V,ls),At(3,c,()=>ra,()=>({duration:250,start:.9})),At(3,r,()=>De,()=>({duration:200})),u(l,r)};y(Es,l=>{t(Ne)&&t(ve)&&l(Cs)})}k(()=>{se(Ue,"placeholder",(t(s),i(()=>h[t(s)].search_placeholder))),f(us,t(ge)),Sa=Lt(Ke,1,"svelte-1gf1l8n",null,Sa,{active:t(s)==="th"}),Ia=Lt(Ta,1,"svelte-1gf1l8n",null,Ia,{active:t(s)==="en"}),f(ps,(t(s),i(()=>h[t(s)].upcoming_header))),f(gs,`${t(s),i(()=>h[t(s)].history_header)??""} `),f(bs,(t(s),i(()=>h[t(s)].history_header))),f(ks,`${t(s),i(()=>h[t(s)].upcoming_header)??""} `)}),xe(Ue,()=>t(Jt),l=>b(Jt,l)),W("click",Ke,()=>he("th")),W("click",Ta,()=>he("en")),W("click",Ma,_a),W("click",fs,()=>b(Ft,!t(Ft))),W("click",We,es),W("click",Ze,as),u(Va,wa),Ns()}export{ml as component};
