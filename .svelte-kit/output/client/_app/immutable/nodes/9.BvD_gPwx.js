import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as He,a7 as Ye,a8 as ve,a9 as Ie,a6 as c,aa as w,ab as ie,a2 as n,a3 as Je,f as e,m as S,ad as a,af as i,i as h,ae as t,o as s,ag as l,a0 as le,a1 as O,y as Qe}from"../chunks/BzFeUjkD.js";import{e as $e,i as Ce}from"../chunks/CFC0_nPK.js";import{i as x}from"../chunks/yr0HFLoq.js";import{s as V}from"../chunks/Dx5pcVVY.js";import{s as Ke}from"../chunks/COAQJPqk.js";import{t as me,s as Ue,a as De}from"../chunks/C9WUvhPB.js";import{i as Ve}from"../chunks/B4hL2_NH.js";import{f as We,q as Xe,e as Ze}from"../chunks/Fm7SvFED.js";var et=c('<div class="stats-container svelte-wp581t"><div class="stat-card svelte-wp581t"><div class="stat-value svelte-wp581t"> </div> <div class="stat-label svelte-wp581t"> </div></div> <div class="stat-card svelte-wp581t"><div class="stat-value svelte-wp581t"> </div> <div class="stat-label svelte-wp581t"> </div></div> <div class="stat-card svelte-wp581t"><div class="stat-value svelte-wp581t"> </div> <div class="stat-label svelte-wp581t"> </div></div></div>'),tt=c('<span class="badge-qualified svelte-wp581t">âœ…</span>'),at=c('<button><div class="dropdown-item-content svelte-wp581t"><div class="dropdown-item-name svelte-wp581t"> </div> <div class="dropdown-item-meta svelte-wp581t"> </div></div> <!></button>'),rt=c('<div class="dropdown-menu svelte-wp581t"><div class="dropdown-inner svelte-wp581t"></div></div>'),st=c('<div class="event-selector-wrapper svelte-wp581t"><div class="event-selector-container svelte-wp581t"><button><span class="event-name svelte-wp581t"> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <!></div></div>'),vt=c('<div style="padding: 40px; color: #9ca3af;"> </div>'),it=c('<div style="padding: 40px; color: #ef4444;"> </div>'),lt=c('<div style="padding: 40px; color: #9ca3af;"> </div>'),ot=c('<div class="step step-done svelte-wp581t"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></div>'),dt=c('<div class="step step-locked svelte-wp581t"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></div>'),nt=c("<div></div>"),pt=c('<div class="step-wrapper svelte-wp581t"><!></div> <!>',1),ct=c('<div class="rank-badge svelte-wp581t"> </div>'),_t=c('<div class="reward-display svelte-wp581t"><div class="reward-label svelte-wp581t"> </div> <div class="reward-name svelte-wp581t"> </div></div>'),ut=c('<p class="status-badge finalized svelte-wp581t"> </p>'),ft=c('<p class="status-badge pending svelte-wp581t"> </p>'),wt=c('<div><h3 class="congrats-text svelte-wp581t"> </h3> <h3 class="congrats-text svelte-wp581t"> </h3> <!> <!> <!></div>'),gt=c('<h3 class="status-title locked svelte-wp581t"> </h3> <p class="desc-text svelte-wp581t"> </p>',1),mt=c('<h3 class="status-title progress svelte-wp581t"> </h3> <p class="desc-text svelte-wp581t"> </p> <p class="status-badge active svelte-wp581t"> </p>',1),ht=c('<h3 class="status-title expired svelte-wp581t"> </h3> <p class="desc-text svelte-wp581t"> </p>',1),xt=c('<div class="stepper-container svelte-wp581t"></div> <div class="progress-bar-container svelte-wp581t"><div class="progress-bar svelte-wp581t"><div></div></div> <div class="progress-text-inline svelte-wp581t"> </div></div> <div class="message-area svelte-wp581t"><!></div>',1),kt=c('<div class="app-screen svelte-wp581t"><div class="glass-header svelte-wp581t"><a href="/officer/event-list" class="back-btn svelte-wp581t" aria-label="Back"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg></a> <h1 class="page-title svelte-wp581t"> </h1> <div class="lang-toggle svelte-wp581t"><button>TH</button> <span class="sep svelte-wp581t">|</span> <button>EN</button></div></div> <div class="scroll-container svelte-wp581t"><div class="content-wrapper svelte-wp581t"><!> <!> <div class="reward-card svelte-wp581t"><!></div></div></div></div>');function Dt(Fe,Re){He(Re,!1);const W=S(),Y=S(),oe=S(),Z=S();let de=S(!0),ae=S(null),y=S(null),o=S(null),X=S(!1),r=S("th");const _={th:{title:"à¸£à¸²à¸‡à¸§à¸±à¸¥à¸£à¸²à¸¢à¹€à¸”à¸·à¸­à¸™",loading:"à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥...",noData:"à¹„à¸¡à¹ˆà¸žà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Leaderboard",selectEvent:"à¹€à¸¥à¸·à¸­à¸à¸à¸´à¸ˆà¸à¸£à¸£à¸¡",totalEvents:"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”",completed:"à¸œà¹ˆà¸²à¸™à¹à¸¥à¹‰à¸§",rewards:"à¸£à¸²à¸‡à¸§à¸±à¸¥",pending:"à¸£à¸­à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£",progress:"à¸„à¸§à¸²à¸¡à¸„à¸·à¸šà¸«à¸™à¹‰à¸²",times:"à¸„à¸£à¸±à¹‰à¸‡",rank:"à¸­à¸±à¸™à¸”à¸±à¸š",qualified:"à¸œà¹ˆà¸²à¸™à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¹à¸¥à¹‰à¸§",stillQualify:"à¸¢à¸±à¸‡à¸—à¸³à¹„à¸”à¹‰à¸•à¹ˆà¸­",expired:"à¸«à¸¡à¸”à¹€à¸§à¸¥à¸²à¹à¸¥à¹‰à¸§",finalized:"à¸›à¸£à¸°à¸à¸²à¸¨à¸œà¸¥à¹à¸¥à¹‰à¸§",notFinalized:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸›à¸£à¸°à¸à¸²à¸¨à¸œà¸¥",congrats:"à¸¢à¸´à¸™à¸”à¸µà¸”à¹‰à¸§à¸¢!",youQualified:"à¸„à¸¸à¸“à¸œà¹ˆà¸²à¸™à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¹à¸¥à¹‰à¸§!",keepGoing:"à¸ªà¸¹à¹‰à¹† à¸™à¸°!",locked:"à¸¥à¹‡à¸­à¸",needMore:"à¹€à¸«à¸¥à¸·à¸­à¸­à¸µà¸",toQualify:"à¹€à¸žà¸·à¹ˆà¸­à¸œà¹ˆà¸²à¸™à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´",yourReward:"à¸£à¸²à¸‡à¸§à¸±à¸¥à¸‚à¸­à¸‡à¸„à¸¸à¸“",notStarted:"à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹€à¸£à¸´à¹ˆà¸¡"},en:{title:"Monthly Rewards",loading:"Loading data...",noData:"No Leaderboard Data",selectEvent:"Select Event",totalEvents:"Total Events",completed:"Completed",rewards:"Rewards",pending:"Pending",progress:"Progress",times:"times",rank:"Rank",qualified:"Qualified",stillQualify:"Can still qualify",expired:"Expired",finalized:"Finalized",notFinalized:"Not Finalized",congrats:"Congratulations!",youQualified:"You have qualified!",keepGoing:"Keep Going!",locked:"Locked",needMore:"Need",toQualify:"more to qualify",yourReward:"Your Reward",notStarted:"Not Started"}};async function Se(){h(de,!0),h(ae,null);try{const v=await We();if(h(y,v),v.leaderboards.length>0){const g=v.leaderboards.find(b=>!b.is_finalized&&b.can_still_qualify);h(o,g||v.leaderboards[0])}}catch(v){console.error("Error loading leaderboards:",v),h(ae,v instanceof Error?v.message:"Unknown error")}finally{h(de,!1)}}function Be(v){h(o,v),h(X,!1)}function he(v){h(r,v)}Ye(()=>{const v=localStorage.getItem("lang");(v==="th"||v==="en")&&h(r,v),Se()}),ve(()=>e(o),()=>{h(W,e(o)?.current_completions||0)}),ve(()=>e(o),()=>{h(Y,e(o)?.required_completions||0)}),ve(()=>e(o),()=>{h(oe,e(o)?.qualified||!1)}),ve(()=>e(o),()=>{h(Z,e(o)?.progress_percentage||0)}),Ie(),Ve();var ne=kt(),pe=a(ne),ce=i(a(pe),2),Ne=a(ce,!0);t(ce);var xe=i(ce,2),_e=a(xe);let ke;var ye=i(_e,4);let be;t(xe),t(pe);var qe=i(pe,2),Ee=a(qe),Me=a(Ee);{var Ge=v=>{var g=et(),b=a(g),L=a(b),I=a(L,!0);t(L);var Q=i(L,2),F=a(Q,!0);t(Q),t(b);var B=i(b,2),J=a(B),K=a(J,!0);t(J);var k=i(J,2),$=a(k,!0);t(k),t(B);var R=i(B,2),u=a(R),C=a(u,!0);t(u);var N=i(u,2),P=a(N,!0);t(N),t(R),t(g),w(()=>{l(I,(e(y),s(()=>e(y).total_leaderboards))),l(F,(e(r),s(()=>_[e(r)].totalEvents))),l(K,(e(y),s(()=>e(y).completed_leaderboards))),l($,(e(r),s(()=>_[e(r)].completed))),l(C,(e(y),s(()=>e(y).rewards_received))),l(P,(e(r),s(()=>_[e(r)].rewards)))}),n(v,g)};x(Me,v=>{e(y)&&v(Ge)})}var ze=i(Me,2);{var je=v=>{var g=st(),b=a(g),L=a(b),I=a(L),Q=a(I,!0);t(I);var F=i(I,2);t(L);var B=i(L,2);{var J=K=>{var k=rt(),$=a(k);$e($,5,()=>(e(y),s(()=>e(y).leaderboards)),Ce,(R,u)=>{var C=at(),N=a(C),P=a(N),ue=a(P,!0);t(P);var ee=i(P,2),fe=a(ee);t(ee),t(N);var we=i(N,2);{var ge=m=>{var E=tt();n(m,E)};x(we,m=>{e(u),s(()=>e(u).qualified)&&m(ge)})}t(C),w(m=>{V(C,1,`dropdown-item ${e(u),e(o),s(()=>e(u).config_id===e(o)?.config_id?"active":"")??""}`,"svelte-wp581t"),l(ue,(e(u),s(()=>e(u).event_name))),l(fe,`${e(u),s(()=>e(u).current_completions)??""}/${e(u),s(()=>e(u).required_completions)??""} (${m??""}%)`)},[()=>(e(u),s(()=>e(u).progress_percentage.toFixed(0)))]),ie("click",C,()=>Be(e(u))),n(R,C)}),t($),t(k),me(3,k,()=>Ue,()=>({duration:300,easing:Xe,axis:"y"})),n(K,k)};x(B,K=>{e(X)&&K(J)})}t(b),t(g),w(()=>{V(L,1,`event-btn ${e(X)?"open":""}`,"svelte-wp581t"),l(Q,(e(o),e(r),s(()=>e(o)?.event_name||_[e(r)].selectEvent))),V(F,0,`arrow-icon ${e(X)?"rotate":""}`,"svelte-wp581t")}),ie("click",L,()=>h(X,!e(X))),n(v,g)};x(ze,v=>{e(y),s(()=>e(y)&&e(y).leaderboards.length>0)&&v(je)})}var Le=i(ze,2),Ae=a(Le);{var Oe=v=>{var g=vt(),b=a(g,!0);t(g),w(()=>l(b,(e(r),s(()=>_[e(r)].loading)))),n(v,g)},Pe=v=>{var g=le(),b=O(g);{var L=Q=>{var F=it(),B=a(F,!0);t(F),w(()=>l(B,e(ae))),n(Q,F)},I=Q=>{var F=le(),B=O(F);{var J=k=>{var $=lt(),R=a($,!0);t($),w(()=>l(R,(e(r),s(()=>_[e(r)].noData)))),n(k,$)},K=k=>{var $=xt(),R=O($);$e(R,5,()=>(e(Y),s(()=>Array(Math.min(e(Y),5)))),Ce,(m,E,G)=>{const te=Qe(()=>G<e(W)),U=Qe(()=>e(W)>G+1);var D=pt(),M=O(D),j=a(M);{var T=f=>{var d=ot();me(1,d,()=>De,()=>({duration:500,easing:Ze,start:.5})),n(f,d)},H=f=>{var d=dt();n(f,d)};x(j,f=>{e(te)?f(T):f(H,!1)})}t(M);var z=i(M,2);{var A=f=>{var d=nt();w(()=>V(d,1,`line ${e(U)?"line-active":""}`,"svelte-wp581t")),n(f,d)};x(z,f=>{e(Y),s(()=>G<Math.min(e(Y),5)-1)&&f(A)})}n(m,D)}),t(R);var u=i(R,2),C=a(u),N=a(C);t(C);var P=i(C,2),ue=a(P);t(P),t(u);var ee=i(u,2),fe=a(ee);{var we=m=>{var E=wt(),G=a(E),te=a(G);t(G);var U=i(G,2),D=a(U,!0);t(U);var M=i(U,2);{var j=d=>{var p=ct(),q=a(p);t(p),w(()=>l(q,`${e(r),s(()=>_[e(r)].rank)??""} #${e(o),s(()=>e(o).rank)??""}`)),n(d,p)};x(M,d=>{e(o),s(()=>e(o).rank)&&d(j)})}var T=i(M,2);{var H=d=>{var p=_t(),q=a(p),re=a(q);t(q);var se=i(q,2),Te=a(se);t(se),t(p),w(()=>{l(re,`${e(r),s(()=>_[e(r)].yourReward)??""}:`),l(Te,`ðŸŽ ${e(o),s(()=>e(o).reward_name)??""}`)}),n(d,p)};x(T,d=>{e(o),s(()=>e(o).reward_name)&&d(H)})}var z=i(T,2);{var A=d=>{var p=ut(),q=a(p);t(p),w(()=>l(q,`âœ… ${e(r),s(()=>_[e(r)].finalized)??""}`)),n(d,p)},f=d=>{var p=ft(),q=a(p);t(p),w(()=>l(q,`â³ ${e(r),s(()=>_[e(r)].notFinalized)??""}`)),n(d,p)};x(z,d=>{e(o),s(()=>e(o).is_finalized)?d(A):d(f,!1)})}t(E),w(()=>{l(te,`ðŸŽ‰ ${e(r),s(()=>_[e(r)].congrats)??""}`),l(D,(e(r),s(()=>_[e(r)].youQualified)))}),me(1,E,()=>De),n(m,E)},ge=m=>{var E=le(),G=O(E);{var te=D=>{var M=gt(),j=O(M),T=a(j,!0);t(j);var H=i(j,2),z=a(H,!0);t(H),w(()=>{l(T,(e(r),s(()=>_[e(r)].locked))),l(z,e(r)==="th"?"à¹€à¸‚à¹‰à¸²à¸£à¹ˆà¸§à¸¡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¹€à¸žà¸·à¹ˆà¸­à¸›à¸¥à¸”à¸¥à¹‡à¸­à¸à¸£à¸²à¸‡à¸§à¸±à¸¥":"Join events to unlock rewards")}),n(D,M)},U=D=>{var M=le(),j=O(M);{var T=z=>{var A=mt(),f=O(A),d=a(f,!0);t(f);var p=i(f,2),q=a(p);t(p);var re=i(p,2),se=a(re);t(re),w(()=>{l(d,(e(r),s(()=>_[e(r)].keepGoing))),l(q,`${e(r),s(()=>_[e(r)].needMore)??""} ${e(Y)-e(W)} ${e(r),s(()=>_[e(r)].times)??""} ${e(r),s(()=>_[e(r)].toQualify)??""}`),l(se,`ðŸ”¥ ${e(r),s(()=>_[e(r)].stillQualify)??""}`)}),n(z,A)},H=z=>{var A=ht(),f=O(A),d=a(f,!0);t(f);var p=i(f,2),q=a(p,!0);t(p),w(()=>{l(d,(e(r),s(()=>_[e(r)].expired))),l(q,e(r)==="th"?"à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸™à¸µà¹‰à¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”à¹à¸¥à¹‰à¸§":"This event has ended")}),n(z,A)};x(j,z=>{e(o),s(()=>e(o).can_still_qualify)?z(T):z(H,!1)},!0)}n(D,M)};x(G,D=>{e(W)===0?D(te):D(U,!1)},!0)}n(m,E)};x(fe,m=>{e(oe)?m(we):m(ge,!1)})}t(ee),w((m,E)=>{V(N,1,`progress-fill ${e(oe)?"completed":""}`,"svelte-wp581t"),Ke(N,`width: ${m??""}%`),l(ue,`${e(W)??""}/${e(Y)??""} ${e(r),s(()=>_[e(r)].times)??""} (${E??""}%)`)},[()=>(e(Z),s(()=>Math.min(100,e(Z)))),()=>(e(Z),s(()=>e(Z).toFixed(0)))]),n(k,$)};x(B,k=>{e(o)?k(K,!1):k(J)},!0)}n(Q,F)};x(b,Q=>{e(ae)?Q(L):Q(I,!1)},!0)}n(v,g)};x(Ae,v=>{e(de)?v(Oe):v(Pe,!1)})}t(Le),t(Ee),t(qe),t(ne),w(()=>{l(Ne,(e(r),s(()=>_[e(r)].title))),ke=V(_e,1,"svelte-wp581t",null,ke,{active:e(r)==="th"}),be=V(ye,1,"svelte-wp581t",null,be,{active:e(r)==="en"})}),ie("click",_e,()=>he("th")),ie("click",ye,()=>he("en")),n(Fe,ne),Je()}export{Dt as component};
