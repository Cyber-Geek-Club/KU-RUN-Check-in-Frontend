import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as ga,a7 as _a,a8 as Be,a9 as wa,a6 as p,ab as A,aa as j,a2 as c,a3 as ba,f as e,m as d,aq as ya,i as l,an as te,ad as a,ak as re,ae as t,af as r,a1 as Ue,o as F,ag as x,am as fe,a0 as bt}from"../chunks/BzFeUjkD.js";import{e as Ee,i as je}from"../chunks/CFC0_nPK.js";import{i as _}from"../chunks/yr0HFLoq.js";import{s as et,r as Fe,c as yt,b as xt}from"../chunks/DMKKEYkG.js";import{s as b}from"../chunks/Dx5pcVVY.js";import{t as K,f as xa,s as ae}from"../chunks/C9WUvhPB.js";import{i as Ma}from"../chunks/B4hL2_NH.js";import{a as Sa,s as Ca}from"../chunks/Bgcq_F7-.js";import{g as Ba}from"../chunks/8b7-bA6A.js";import{p as Ea}from"../chunks/CSU9-5P9.js";import{R as tt}from"../chunks/peVj2t_B.js";import{S as Mt}from"../chunks/C0u8rGqG.js";var ja=p('<div class="loading-state svelte-4akkl9"><div class="loading-spinner svelte-4akkl9"></div> <p>Loading your profile...</p></div>'),Na=p('<img alt="Profile" class="avatar-image svelte-4akkl9"/>'),Ta=p('<div class="avatar-placeholder svelte-4akkl9"><span> </span></div>'),Ia=p('<div class="mini-spinner svelte-4akkl9"></div>'),Aa=fe('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>'),Da=p('<span class="verified-badge svelte-4akkl9" title="Email verified"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"></path></svg></span>'),La=p('<span class="profile-badge svelte-4akkl9"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2"></rect><path d="M16 7V5a4 4 0 0 0-8 0v2"></path></svg> </span>'),Pa=fe('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>'),Oa=fe('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path d="M6 12v5c3 3 9 3 12 0v-5"></path></svg>'),Va=fe('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>'),Ra=p('<button><!> <span class="svelte-4akkl9"> </span></button>'),Ua=p('<button type="button" class="select-option svelte-4akkl9"> </button>'),Fa=p('<div class="select-dropdown svelte-4akkl9"></div>'),za=p('<section class="settings-section svelte-4akkl9"><h3 class="section-title svelte-4akkl9"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> Personal Information</h3> <div class="form-row svelte-4akkl9"><div class="form-group small svelte-4akkl9"><span class="form-label svelte-4akkl9">Title</span> <div class="custom-select svelte-4akkl9"><button type="button"><span> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div></div> <div class="form-group flex-1 svelte-4akkl9"><label class="form-label svelte-4akkl9" for="firstName">First Name</label> <div><input id="firstName" type="text" placeholder="Enter first name" class="svelte-4akkl9"/></div></div></div> <div class="form-group svelte-4akkl9"><label class="form-label svelte-4akkl9" for="lastName">Last Name</label> <div><input id="lastName" type="text" placeholder="Enter last name" class="svelte-4akkl9"/></div></div> <div class="form-group svelte-4akkl9"><span class="form-label svelte-4akkl9">Email Address</span> <div class="input-wrapper disabled svelte-4akkl9"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> <input type="email" disabled class="svelte-4akkl9"/> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" class="svelte-4akkl9"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></div> <span class="input-hint svelte-4akkl9">Email cannot be changed</span></div></section>'),Ha=p('<span class="select-icon svelte-4akkl9"> </span>'),$a=p('<button type="button" class="select-option svelte-4akkl9"><span class="option-icon svelte-4akkl9"> </span> </button>'),qa=p('<div class="select-dropdown svelte-4akkl9"></div>'),Ja=p('<button type="button" class="select-option svelte-4akkl9"> </button>'),Ya=p('<div class="select-dropdown svelte-4akkl9"></div>'),Ga=p('<span class="input-hint svelte-4akkl9">Please select a faculty first</span>'),Wa=p('<div class="form-group svelte-4akkl9"><span class="form-label svelte-4akkl9">Student ID</span> <div class="input-wrapper disabled svelte-4akkl9"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><rect x="2" y="7" width="20" height="14" rx="2"></rect><path d="M16 7V5a4 4 0 0 0-8 0v2"></path></svg> <input type="text" disabled class="svelte-4akkl9"/> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" class="svelte-4akkl9"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></div> <span class="input-hint svelte-4akkl9">Student ID cannot be changed</span></div> <div class="form-group svelte-4akkl9"><span class="form-label svelte-4akkl9">Faculty</span> <div class="custom-select svelte-4akkl9"><button type="button"><span class="select-content svelte-4akkl9"><!> <span> </span></span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div></div> <div class="form-group svelte-4akkl9"><span class="form-label svelte-4akkl9">Major</span> <div><button type="button"><span> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div> <!></div>',1),Ka=p('<button type="button" class="select-option svelte-4akkl9"> </button>'),Qa=p('<div class="select-dropdown svelte-4akkl9"></div>'),Xa=p('<div class="form-group svelte-4akkl9"><span class="form-label svelte-4akkl9">Department</span> <div class="custom-select svelte-4akkl9"><button type="button"><span> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div></div>'),Za=p('<section class="settings-section svelte-4akkl9"><h3 class="section-title svelte-4akkl9"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path d="M6 12v5c3 3 9 3 12 0v-5"></path></svg> Academic Information</h3> <!></section>'),es=p('<section class="settings-section svelte-4akkl9"><h3 class="section-title svelte-4akkl9"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg> Security Settings</h3> <div class="form-group svelte-4akkl9"><div class="form-label-row svelte-4akkl9"><span class="form-label svelte-4akkl9">Password</span> <a class="link-btn svelte-4akkl9">Change Password</a></div> <div class="input-wrapper disabled svelte-4akkl9"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" value="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" disabled class="svelte-4akkl9"/></div></div> <div class="info-card svelte-4akkl9"><div class="info-row svelte-4akkl9"><span class="info-label svelte-4akkl9"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> Account Status</span> <span class="status-badge active svelte-4akkl9">Active</span></div> <div class="info-row svelte-4akkl9"><span class="info-label svelte-4akkl9"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Email Verification</span> <span> </span></div> <div class="info-row svelte-4akkl9"><span class="info-label svelte-4akkl9"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Role</span> <span class="status-badge role svelte-4akkl9"> </span></div></div> <button class="logout-btn svelte-4akkl9"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout</button></section>'),ts=fe('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>'),as=fe('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-4akkl9"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>'),ss=p('<div><!> <span class="svelte-4akkl9"> </span></div>'),ls=p('<div class="btn-spinner svelte-4akkl9"></div> Saving...',1),is=fe('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg> Save Changes',1),rs=p('<section class="profile-card svelte-4akkl9"><div class="profile-header svelte-4akkl9"><div class="avatar-wrapper svelte-4akkl9"><!> <label><input type="file" accept="image/*" hidden=""/> <!></label></div> <div class="profile-info svelte-4akkl9"><h2 class="profile-name svelte-4akkl9"> </h2> <p class="profile-email svelte-4akkl9"> <!></p> <!></div></div></section> <nav class="section-tabs svelte-4akkl9"></nav> <!> <!> <!> <!> <div><button class="save-btn svelte-4akkl9"><!></button></div>',1),os=p('<div class="app-container svelte-4akkl9"><header class="header svelte-4akkl9"><a class="back-btn svelte-4akkl9" aria-label="Back"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg></a> <h1 class="header-title svelte-4akkl9">Settings</h1> <div style="width: 40px;"></div></header> <main class="main-content svelte-4akkl9"><!></main></div>');function ys(St,Ct){ga(Ct,!1);const at=()=>Ca(Ea,"$page",Bt),[Bt,Et]=Sa(),st=d(),lt=d(),it=d(),Ne="http://158.108.102.14:8001";let ke="",_e="",H=d(""),me=d(""),we=d(!0),$=d(""),D=d(""),L=d(""),ze=d(""),Te=d(""),m=d(""),z=d(""),G=d(""),be=d("profile"),oe=d(!1),ne=d(!1),ve=d(!1),ce=d(!1),He=d(!0),Ie=d(!1),Ae=d(!1),N=d({}),rt=d(!1),de=d(""),$e=d("error"),ye,qe,f=d({title:!1,firstName:!1,lastName:!1,faculty:!1,major:!1,department:!1});const jt=[{id:"profile",icon:"user",label:"Profile"},{id:"academic",icon:"book",label:"Academic"},{id:"security",icon:"shield",label:"Security"}],Nt=["Mr.","Ms.","Mrs.","Dr.","Prof."],ot=[{id:"Academic Affairs",name:"Academic Affairs"},{id:"Student Affairs",name:"Student Affairs"},{id:"Registrar Office",name:"Registrar Office"},{id:"Finance Department",name:"Finance Department"},{id:"IT Support Center",name:"IT Support Center"},{id:"Human Resources",name:"Human Resources"}],Je=[{id:"management",name:"Management Sciences",icon:"ðŸ“Š"},{id:"engineering",name:"Engineering at Sriracha",icon:"âš™ï¸"},{id:"science",name:"Science at Sriracha",icon:"ðŸ”¬"},{id:"economics",name:"Economics at Sriracha",icon:"ðŸ’¹"},{id:"maritime",name:"International Maritime Studies",icon:"ðŸš¢"}],nt={management:[{id:"mgt",name:"Management"},{id:"fin",name:"Finance and Investment"},{id:"ib",name:"International Business"},{id:"lm",name:"Logistics Management"},{id:"hh",name:"Hospitality - Hotel"},{id:"ht",name:"Hospitality - Tourism"},{id:"acc",name:"Accounting"},{id:"amb",name:"Digital Marketing"}],engineering:[{id:"med",name:"Mechanical Engineering"},{id:"mme",name:"Mechanical & Mfg Systems"},{id:"eee",name:"Electrical & Electronics"},{id:"ise",name:"Industrial Systems"},{id:"cie",name:"Computer Engineering"},{id:"ce",name:"Civil Engineering"},{id:"ee",name:"Electrical Engineering"},{id:"rae",name:"Robotics Engineering"},{id:"die",name:"Digital Electronics"},{id:"dms",name:"Digital Mfg Systems"},{id:"ae",name:"Automotive Engineering"}],science:[{id:"cs",name:"Computer Science"},{id:"it",name:"Information Technology"},{id:"ps",name:"Physics"},{id:"est",name:"Environmental Science"},{id:"dst",name:"Digital Science"},{id:"daa",name:"Data Analytics"},{id:"act",name:"Applied Chemistry"}],economics:[{id:"econ",name:"Economics"}],maritime:[{id:"nao",name:"Naval Architecture"},{id:"ns",name:"Nautical Science"},{id:"mt",name:"Maritime Transportation"},{id:"me",name:"Marine Engineering"}]};let De=d([]);function Tt(s){const v=Je.find(o=>o.id===s);return v?v.name:"Select Faculty"}function It(s){const v=Je.find(o=>o.id===s);return v?v.icon:"ðŸŽ“"}function At(s){const v=e(De).find(o=>o.id===s);return v?v.name:"Select Major"}function Dt(s){const v=ot.find(o=>o.id===s||o.name===s);return v?v.name:s||"Select Department"}function vt(){l(oe,!1),l(ne,!1),l(ve,!1),l(ce,!1)}function Le(s,v){v.stopPropagation();const o=s==="title"&&e(oe)||s==="faculty"&&e(ne)||s==="major"&&e(ve)||s==="dept"&&e(ce);vt(),o||(s==="title"&&l(oe,!0),s==="faculty"&&l(ne,!0),s==="major"&&l(ve,!0),s==="dept"&&l(ce,!0))}function Lt(s){l($,s),l(oe,!1),pe()}function Pt(s){l(m,s),l(z,""),l(ne,!1),pe()}function Ot(s){l(z,s),l(ve,!1),pe()}function Vt(s){l(G,s),l(ce,!1),pe()}function Q(s,v="error"){ye&&clearTimeout(ye),l(de,s),l($e,v),ye=setTimeout(()=>{l(de,"")},5e3)}function pe(){e(de)&&(l(de,""),ye&&clearTimeout(ye))}function Rt(){qe&&clearTimeout(qe),qe=setTimeout(()=>{Object.keys(e(f)).forEach(s=>te(f,e(f)[s]=!1))},3e3)}async function Ut(s){const v=s.target;if(!v.files?.length)return;const o=v.files[0];if(!o.type.startsWith("image/")){Q("Please select an image file","error");return}if(o.size>5*1024*1024){Q("Image must be less than 5MB","error");return}l(Ae,!0);try{const O=new FormData;O.append("file",o);const he=await fetch(`${Ne}/api/users/${ke}/avatar`,{method:"POST",headers:{Authorization:`Bearer ${_e}`},body:O});if(he.ok){const Pe=await he.json();l(me,Pe.avatar_url||URL.createObjectURL(o)),Q("Profile photo updated!","success")}else l(me,URL.createObjectURL(o)),Q("Photo preview updated","success")}catch{l(me,URL.createObjectURL(o)),Q("Photo preview updated","success")}finally{l(Ae,!1)}}_a(async()=>{l(He,!0);try{_e=localStorage.getItem("access_token")||"";const s=localStorage.getItem("user_info");if(s)try{const O=JSON.parse(s);ke=O.nisit_id||O.id}catch(O){console.error("Error parsing user_info",O)}if(!_e||!ke)throw new Error("User not authenticated");const v=await fetch(`${Ne}/api/users/${ke}`,{method:"GET",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"}});if(!v.ok){if(v.status===401)return Ba("/auth/login");throw new Error("Failed to fetch user data")}const o=await v.json();console.log("Fetched:",o),o.role?l(H,o.role.toLowerCase()):l(H,o.nisit_id||o.nisitId?"student":"officer"),l($,o.title||""),l(D,o.first_name||o.firstName||""),l(L,o.last_name||o.lastName||""),l(ze,o.email||""),l(me,o.avatar_url||o.profile_image||""),l(we,o.email_verified!==!1),e(H)==="student"?(l(Te,o.nisit_id||o.nisitId||""),l(m,(o.faculty||"").toLowerCase()),setTimeout(()=>{l(z,(o.major||"").toLowerCase()),l(N,{...e(N),faculty:e(m),major:e(z)})},100)):l(G,o.department||""),l(N,{title:e($),firstName:e(D),lastName:e(L),faculty:e(m),major:e(z),department:e(G)}),e(H)==="student"&&setTimeout(()=>{te(N,e(N).major=o.major||"")},50)}catch(s){console.error(s),Q("Could not load profile info.","error")}finally{l(He,!1)}});async function Ft(){pe();let s=!0;if(Object.keys(e(f)).forEach(v=>te(f,e(f)[v]=!1)),e($)||(te(f,e(f).title=!0),s=!1),e(D).trim()||(te(f,e(f).firstName=!0),s=!1),e(L).trim()||(te(f,e(f).lastName=!0),s=!1),e(H)==="student"?(e(m)||(te(f,e(f).faculty=!0),s=!1),e(z)||(te(f,e(f).major=!0),s=!1)):e(G)||(te(f,e(f).department=!0),s=!1),!s){Rt(),e(de)||Q("Please fill in all required fields.");return}l(Ie,!0);try{const v={title:e($),first_name:e(D),last_name:e(L),major:e(z)||e(N).major,faculty:e(m)||e(N).faculty,department:e(G)||e(N).department};console.log("Sending Payload:",JSON.stringify(v,null,2)),console.log("To URL:",`${Ne}/api/users/${ke}`),console.log("Updating Profile with:",v);const o=await fetch(`${Ne}/api/users/${ke}`,{method:"PUT",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(!o.ok){const O=await o.json();throw new Error(O.message||"Failed to update profile info")}Q("Settings updated successfully!","success"),await Mt.fire({icon:"success",title:"Saved!",text:"Your settings have been updated.",timer:1500,showConfirmButton:!1,background:"#1f2937",color:"#f3f4f6"}),setTimeout(()=>window.location.reload(),500)}catch(v){console.error(v),Q(v.message,"error")}finally{l(Ie,!1)}}async function zt(){(await Mt.fire({title:"Logout?",text:"Are you sure you want to logout?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, logout",cancelButtonText:"Cancel",confirmButtonColor:"#ef4444",background:"#1f2937",color:"#f3f4f6"})).isConfirmed&&(typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(v=>{document.cookie=v.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.href="/auth/login")}Be(()=>e(m),()=>{e(m)&&nt[e(m)]?l(De,nt[e(m)]):l(De,[])}),Be(()=>(e(H),tt),()=>{l(st,e(H)==="student"?tt.student.eventList:tt.organizer.createEvent)}),Be(()=>(e(D),e(L)),()=>{l(lt,e(D)&&e(L)?`${e(D).charAt(0)}${e(L).charAt(0)}`.toUpperCase():"?")}),Be(()=>(e(D),e(L),e($)),()=>{l(it,e(D)&&e(L)?`${e($)} ${e(D)} ${e(L)}`:"Loading...")}),Be(()=>(e($),e(N),e(D),e(L),e(H),e(m),e(z),e(G)),()=>{const s=e($)!==e(N).title||e(D)!==e(N).firstName||e(L)!==e(N).lastName;let v=!1;e(H)==="student"?v=e(m)!==e(N).faculty||e(z)!==e(N).major:v=e(G)!==e(N).department,l(rt,s||v)}),wa(),Ma();var Ye=os();A("click",ya,vt);var Ge=a(Ye),Ht=a(Ge);re(4),t(Ge);var ct=r(Ge,2),$t=a(ct);{var qt=s=>{var v=ja();K(3,v,()=>xa),c(s,v)},Jt=s=>{var v=rs(),o=Ue(v),O=a(o),he=a(O),Pe=a(he);{var Yt=n=>{var i=Na();j(()=>et(i,"src",e(me))),c(n,i)},Gt=n=>{var i=Ta(),k=a(i),T=a(k,!0);t(k),t(i),j(()=>x(T,e(lt))),c(n,i)};_(Pe,n=>{e(me)?n(Yt):n(Gt,!1)})}var We=r(Pe,2);let dt;var pt=a(We),Wt=r(pt,2);{var Kt=n=>{var i=Ia();c(n,i)},Qt=n=>{var i=Aa();c(n,i)};_(Wt,n=>{e(Ae)?n(Kt):n(Qt,!1)})}t(We),t(he);var ut=r(he,2),Ke=a(ut),Xt=a(Ke,!0);t(Ke);var Qe=r(Ke,2),ft=a(Qe),Zt=r(ft);{var ea=n=>{var i=Da();c(n,i)};_(Zt,n=>{e(we)&&n(ea)})}t(Qe);var ta=r(Qe,2);{var aa=n=>{var i=La(),k=r(a(i));t(i),j(()=>x(k,` ${e(Te)??""}`)),c(n,i)};_(ta,n=>{e(Te)&&n(aa)})}t(ut),t(O),t(o);var Xe=r(o,2);Ee(Xe,5,()=>jt,je,(n,i)=>{var k=Ra();let T;var q=a(k);{var h=B=>{var y=Pa();c(B,y)},M=B=>{var y=bt(),V=Ue(y);{var R=E=>{var U=Oa();c(E,U)},W=E=>{var U=bt(),se=Ue(U);{var S=I=>{var X=Va();c(I,X)};_(se,I=>{e(i),F(()=>e(i).icon==="shield")&&I(S)},!0)}c(E,U)};_(V,E=>{e(i),F(()=>e(i).icon==="book")?E(R):E(W,!1)},!0)}c(B,y)};_(q,B=>{e(i),F(()=>e(i).icon==="user")?B(h):B(M,!1)})}var u=r(q,2),w=a(u,!0);t(u),t(k),j(()=>{T=b(k,1,"tab-btn svelte-4akkl9",null,T,{active:e(be)===e(i).id}),x(w,(e(i),F(()=>e(i).label)))}),A("click",k,()=>l(be,e(i).id)),c(n,k)}),t(Xe);var kt=r(Xe,2);{var sa=n=>{var i=za(),k=r(a(i),2),T=a(k),q=r(a(T),2),h=a(q);let M;var u=a(h);let w;var B=a(u,!0);t(u);var y=r(u,2);let V;t(h);var R=r(h,2);{var W=P=>{var ue=Fa();Ee(ue,5,()=>Nt,je,(ie,Me)=>{var Z=Ua(),Re=a(Z,!0);t(Z),j(()=>x(Re,e(Me))),A("click",Z,()=>Lt(e(Me))),c(ie,Z)}),t(ue),K(3,ue,()=>ae,()=>({duration:150})),c(P,ue)};_(R,P=>{e(oe)&&P(W)})}t(q),t(T);var E=r(T,2),U=r(a(E),2);let se;var S=a(U);Fe(S),t(U),t(E),t(k);var I=r(k,2),X=r(a(I),2);let le;var J=a(X);Fe(J),t(X),t(I);var ge=r(I,2),Ve=r(a(ge),2),xe=r(a(Ve),2);Fe(xe),re(2),t(Ve),re(2),t(ge),t(i),j(()=>{M=b(h,1,"select-btn svelte-4akkl9",null,M,{active:e(oe),error:e(f).title}),w=b(u,1,"svelte-4akkl9",null,w,{placeholder:!e($)}),x(B,e($)||"Select"),V=b(y,0,"svelte-4akkl9",null,V,{rotate:e(oe)}),se=b(U,1,"input-wrapper svelte-4akkl9",null,se,{error:e(f).firstName}),le=b(X,1,"input-wrapper svelte-4akkl9",null,le,{error:e(f).lastName}),yt(xe,e(ze))}),A("click",h,P=>Le("title",P)),xt(S,()=>e(D),P=>l(D,P)),A("input",S,pe),xt(J,()=>e(L),P=>l(L,P)),A("input",J,pe),K(3,i,()=>ae),c(n,i)};_(kt,n=>{e(be)==="profile"&&n(sa)})}var mt=r(kt,2);{var la=n=>{var i=Za(),k=r(a(i),2);{var T=h=>{var M=Wa(),u=Ue(M),w=r(a(u),2),B=r(a(w),2);Fe(B),re(2),t(w),re(2),t(u);var y=r(u,2),V=r(a(y),2),R=a(V);let W;var E=a(R),U=a(E);{var se=g=>{var C=Ha(),Se=a(C,!0);t(C),j(Y=>x(Se,Y),[()=>(e(m),F(()=>It(e(m))))]),c(g,C)};_(U,g=>{e(m)&&g(se)})}var S=r(U,2);let I;var X=a(S,!0);t(S),t(E);var le=r(E,2);let J;t(R);var ge=r(R,2);{var Ve=g=>{var C=qa();Ee(C,5,()=>Je,je,(Se,Y)=>{var ee=$a(),Ce=a(ee),ma=a(Ce,!0);t(Ce);var ha=r(Ce,1,!0);t(ee),j(()=>{x(ma,(e(Y),F(()=>e(Y).icon))),x(ha,(e(Y),F(()=>e(Y).name)))}),A("click",ee,()=>Pt(e(Y).id)),c(Se,ee)}),t(C),K(3,C,()=>ae,()=>({duration:150})),c(g,C)};_(ge,g=>{e(ne)&&g(Ve)})}t(V),t(y);var xe=r(y,2),P=r(a(xe),2);let ue;var ie=a(P);let Me;var Z=a(ie);let Re;var ca=a(Z,!0);t(Z);var da=r(Z,2);let wt;t(ie);var pa=r(ie,2);{var ua=g=>{var C=Ya();Ee(C,5,()=>e(De),je,(Se,Y)=>{var ee=Ja(),Ce=a(ee,!0);t(ee),j(()=>x(Ce,(e(Y),F(()=>e(Y).name)))),A("click",ee,()=>Ot(e(Y).id)),c(Se,ee)}),t(C),K(3,C,()=>ae,()=>({duration:150})),c(g,C)};_(pa,g=>{e(ve)&&g(ua)})}t(P);var fa=r(P,2);{var ka=g=>{var C=Ga();c(g,C)};_(fa,g=>{e(m)||g(ka)})}t(xe),j((g,C)=>{yt(B,e(Te)),W=b(R,1,"select-btn svelte-4akkl9",null,W,{active:e(ne),error:e(f).faculty}),I=b(S,1,"svelte-4akkl9",null,I,{placeholder:!e(m)}),x(X,g),J=b(le,0,"svelte-4akkl9",null,J,{rotate:e(ne)}),ue=b(P,1,"custom-select svelte-4akkl9",null,ue,{disabled:!e(m)}),Me=b(ie,1,"select-btn svelte-4akkl9",null,Me,{active:e(ve),error:e(f).major}),ie.disabled=!e(m),Re=b(Z,1,"svelte-4akkl9",null,Re,{placeholder:!e(z)}),x(ca,C),wt=b(da,0,"svelte-4akkl9",null,wt,{rotate:e(ve)})},[()=>(e(m),F(()=>Tt(e(m)))),()=>(e(z),F(()=>At(e(z))))]),A("click",R,g=>Le("faculty",g)),A("click",ie,g=>e(m)&&Le("major",g)),c(h,M)},q=h=>{var M=Xa(),u=r(a(M),2),w=a(u);let B;var y=a(w);let V;var R=a(y,!0);t(y);var W=r(y,2);let E;t(w);var U=r(w,2);{var se=S=>{var I=Qa();Ee(I,5,()=>ot,je,(X,le)=>{var J=Ka(),ge=a(J,!0);t(J),j(()=>x(ge,(e(le),F(()=>e(le).name)))),A("click",J,()=>Vt(e(le).id)),c(X,J)}),t(I),K(3,I,()=>ae,()=>({duration:150})),c(S,I)};_(U,S=>{e(ce)&&S(se)})}t(u),t(M),j(S=>{B=b(w,1,"select-btn svelte-4akkl9",null,B,{active:e(ce),error:e(f).department}),V=b(y,1,"svelte-4akkl9",null,V,{placeholder:!e(G)}),x(R,S),E=b(W,0,"svelte-4akkl9",null,E,{rotate:e(ce)})},[()=>(e(G),F(()=>Dt(e(G))))]),A("click",w,S=>Le("dept",S)),c(h,M)};_(k,h=>{e(H)==="student"?h(T):h(q,!1)})}t(i),K(3,i,()=>ae),c(n,i)};_(mt,n=>{e(be)==="academic"&&n(la)})}var ht=r(mt,2);{var ia=n=>{var i=es(),k=r(a(i),2),T=a(k),q=r(a(T),2);t(T),re(2),t(k);var h=r(k,2),M=r(a(h),2),u=r(a(M),2);let w;var B=a(u,!0);t(u),t(M);var y=r(M,2),V=r(a(y),2),R=a(V,!0);t(V),t(y),t(h);var W=r(h,2);t(i),j(()=>{et(q,"href",`/auth/forgot-password?return_to=${at(),F(()=>at().url.pathname)??""}`),w=b(u,1,"status-badge svelte-4akkl9",null,w,{verified:e(we),pending:!e(we)}),x(B,e(we)?"Verified":"Pending"),x(R,e(H)==="student"?"Student":"Officer")}),A("click",W,zt),K(3,i,()=>ae),c(n,i)};_(ht,n=>{e(be)==="security"&&n(ia)})}var gt=r(ht,2);{var ra=n=>{var i=ss(),k=a(i);{var T=u=>{var w=ts();c(u,w)},q=u=>{var w=as();c(u,w)};_(k,u=>{e($e)==="error"?u(T):u(q,!1)})}var h=r(k,2),M=a(h,!0);t(h),t(i),j(()=>{b(i,1,`toast ${e($e)??""}`,"svelte-4akkl9"),x(M,e(de))}),K(3,i,()=>ae,()=>({duration:200})),c(n,i)};_(gt,n=>{e(de)&&n(ra)})}var Ze=r(gt,2);let _t;var Oe=a(Ze),oa=a(Oe);{var na=n=>{var i=ls();re(),c(n,i)},va=n=>{var i=is();re(),c(n,i)};_(oa,n=>{e(Ie)?n(na):n(va,!1)})}t(Oe),t(Ze),j(()=>{dt=b(We,1,"avatar-upload-btn svelte-4akkl9",null,dt,{uploading:e(Ae)}),x(Xt,e(it)),x(ft,`${e(ze)??""} `),_t=b(Ze,1,"save-bar svelte-4akkl9",null,_t,{visible:e(rt)}),Oe.disabled=e(Ie)}),A("change",pt,Ut),K(3,o,()=>ae),A("click",Oe,Ft),c(s,v)};_($t,s=>{e(He)?s(qt):s(Jt,!1)})}t(ct),t(Ye),j(()=>et(Ht,"href",e(st))),c(St,Ye),ba(),Et()}export{ys as component};
