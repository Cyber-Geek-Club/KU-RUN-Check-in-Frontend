import{_ as Ts}from"../chunks/PPVm8Dsz.js";import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as Is,a7 as Ms,aj as Ps,a8 as sa,a9 as Ls,a6 as g,a1 as Q,aa as k,f as e,ab as W,a2 as u,a3 as Ns,m as ue,af as n,i as b,ad as a,ae as t,o as i,ag as _,ak as it,y as Be,q as De,a0 as ye,ap as js,an as za}from"../chunks/BzFeUjkD.js";import{e as ze,i as He}from"../chunks/CFC0_nPK.js";import{i as y}from"../chunks/yr0HFLoq.js";import{a as Ha,l as Ua,b as Os}from"../chunks/CZARb_ez.js";import{b as xt,s as at,r as Et,a as As}from"../chunks/DMKKEYkG.js";import{s as Le}from"../chunks/Dx5pcVVY.js";import{s as Fe}from"../chunks/COAQJPqk.js";import{t as Ae,f as Ct,s as Dt,a as oa}from"../chunks/C9WUvhPB.js";import{i as Rs}from"../chunks/B4hL2_NH.js";import{g as ra}from"../chunks/8b7-bA6A.js";import{a as Ja}from"../chunks/CfzA4fdq.js";import{S as A}from"../chunks/C0u8rGqG.js";import{API_BASE_URL as Bs,resolveImageUrl as zs}from"../chunks/Cnqa9Cr2.js";import{a as Hs}from"../chunks/Din-hKz_.js";var Us=g('<button><svg class="nav-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" class="svelte-61olve"></path></svg> <span class="btn-label svelte-61olve"> </span></button>'),Js=g('<button><svg class="nav-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 10px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="svelte-61olve"></path></svg> </button>'),Vs=g('<div class="mobile-overlay svelte-61olve" role="button" tabindex="0" aria-label="Close menu"></div> <div class="mobile-drawer svelte-61olve"><div class="drawer-header svelte-61olve"><span class="brand-name svelte-61olve" style="font-size: 1.4rem;">MENU</span><button class="close-btn svelte-61olve">&times;</button></div> <div class="drawer-search svelte-61olve"><input type="text" class="drawer-search-input svelte-61olve"/></div> <div class="drawer-content svelte-61olve"><!> <div class="drawer-lang-item svelte-61olve"><div class="lang-label-group svelte-61olve"><svg class="nav-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right: 10px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" class="svelte-61olve"></path></svg> Language</div> <div class="lang-toggle-pill svelte-61olve"><button>TH</button> <button>EN</button></div></div></div> <button class="drawer-item logout-special svelte-61olve">Logout</button></div>',1),Fs=g('<div style="text-align: center; color: #94a3b8; padding: 40px;" class="svelte-61olve">Loading...</div>'),Ks=g('<div style="text-align: center; color: #94a3b8; padding: 40px; border: 1px dashed rgba(255,255,255,0.1); border-radius: 12px;" class="svelte-61olve">No Active Events</div>'),qs=g('<div class="lock-overlay svelte-61olve"><div class="lock-overlay-content svelte-61olve"><div class="lock-icon-circle svelte-61olve"><svg width="22" height="22" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" class="svelte-61olve"></path></svg></div> <div class="lock-text svelte-61olve"> </div></div></div>'),Gs=g('<span class="status-badge running svelte-61olve"> </span>'),Ws=g('<span class="status-badge resubmit-badge svelte-61olve"> </span>'),Qs=g('<span class="status-badge proof-badge svelte-61olve"> </span>'),Ys=g('<span class="status-badge svelte-61olve" style="background:#fbbf24; color:#78350f; border:1px solid #f59e0b; font-size: 0.7rem;"> </span>'),Zs=g('<div style="display:flex; flex-direction:column; align-items:flex-end; gap:4px;" class="svelte-61olve"><span class="status-badge completed-btn svelte-61olve" style="font-size:0.7rem;"> </span> <!></div>'),Xs=g('<span class="status-badge running svelte-61olve"> </span>'),$s=g('<span class="status-badge running svelte-61olve"> </span>'),eo=g('<li class="svelte-61olve"> </li>'),to=g('<li class="svelte-61olve"> </li>'),ao=g("<!> <!>",1),so=g('<li class="svelte-61olve"> </li>'),oo=g('<div class="holiday-info-box svelte-61olve"><div class="holiday-title svelte-61olve"> </div> <ul class="holiday-list svelte-61olve"><!></ul></div>'),ro=g('<div class="info-grid svelte-61olve"><div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" class="svelte-61olve"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill highlight-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <!></div>'),lo=g('<button class="status-btn svelte-61olve" style="background: #334155; cursor: not-allowed; display: flex; align-items: center; gap: 6px; width: auto;" disabled><svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" class="svelte-61olve"></path></svg> </button>'),io=g('<button class="status-btn svelte-61olve" style="background: #8b5cf6; cursor: not-allowed; opacity: 0.7;" disabled> </button>'),no=g('<button class="status-btn svelte-61olve" style="background: #64748b; cursor: default; opacity: 0.9; width: auto; font-size: 0.9rem; display: flex; align-items: center; gap: 6px;"><svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-61olve"></path></svg> </button>'),vo=g('<button class="status-btn waiting-btn svelte-61olve" style="cursor: default;"> </button>'),co=g('<button class="status-btn sending-btn svelte-61olve"> </button>'),uo=g('<button class="status-btn proof-btn svelte-61olve"> </button>'),_o=g('<button class="status-btn checkout-btn svelte-61olve"> </button>'),po=g('<button class="status-btn register-btn svelte-61olve"> </button> <button class="cancel-btn svelte-61olve"> </button>',1),fo=g('<div><div class="card-image svelte-61olve"><!></div> <div class="card-content svelte-61olve"><div class="card-header-row svelte-61olve"><h3 class="card-title svelte-61olve"> </h3> <div class="badges-col svelte-61olve"><!> <div class="count-badge svelte-61olve"><svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-right:4px;" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" class="svelte-61olve"></path></svg> </div> <div class="count-badge svelte-61olve" style="margin-top: 4px; background-color: #10b981;"> </div></div></div> <p> </p> <!> <div class="card-footer-actions svelte-61olve"><button class="dashboard-text-btn svelte-61olve"><svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></button> <div class="footer-actions svelte-61olve"><!></div></div></div></div>'),ho=g('<div class="events-grid svelte-61olve"></div>'),mo=g('<span class="status-badge svelte-61olve" style="background:#fbbf24; color:#78350f; border:1px solid #f59e0b; font-size:0.7rem;"> </span>'),go=g('<div style="display:flex; flex-direction:column; align-items:flex-end; gap:4px;" class="svelte-61olve"><span class="status-badge ended-normal svelte-61olve"> </span> <!> <span class="status-badge svelte-61olve" style="background:#10b981; color:white; border:none; font-size:0.7rem;"> </span></div>'),bo=g('<span class="status-badge ended-canceled svelte-61olve">CANCELED</span>'),ko=g('<li class="svelte-61olve"> </li>'),yo=g('<li class="svelte-61olve"> </li>'),wo=g("<!> <!>",1),xo=g('<li class="svelte-61olve"> </li>'),Eo=g('<div class="info-grid svelte-61olve"><div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" class="svelte-61olve"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="info-pill highlight-pill svelte-61olve"><svg class="pill-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></div> <div class="holiday-info-box svelte-61olve"><div class="holiday-title svelte-61olve"> </div> <ul class="holiday-list svelte-61olve"><!></ul></div></div>'),Co=g('<button class="status-btn completed-btn svelte-61olve" style="cursor: default; box-shadow: none;">COMPLETED</button>'),Do=g('<button class="status-btn canceled-btn svelte-61olve" style="cursor: default; box-shadow: none;">CANCELED</button>'),So=g('<div class="event-card svelte-61olve"><div class="card-image svelte-61olve"></div> <div class="card-content svelte-61olve"><div class="card-header-row svelte-61olve"><h3 class="card-title svelte-61olve"> </h3> <div class="badges-col svelte-61olve"><!></div></div> <p> </p> <!> <div class="card-footer-actions svelte-61olve"><button class="dashboard-text-btn svelte-61olve"><svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" class="svelte-61olve"></path></svg> <span class="svelte-61olve"> </span></button> <!></div></div></div>'),To=g("<div></div>"),Io=g('<div class="step-wrapper svelte-61olve"><div> </div> <!></div>'),Mo=g('<div class="stepper svelte-61olve"></div>'),Po=g('<span class="svelte-61olve"> </span>'),Lo=g('<span class="svelte-61olve">-</span><span class="svelte-61olve">-</span><span class="svelte-61olve">-</span><span class="svelte-61olve">-</span><span class="svelte-61olve">-</span>',1),No=g('<div class="pin-box svelte-61olve"><!></div>'),jo=g('<div class="qr-box svelte-61olve"><img alt="QR" class="svelte-61olve"/></div>'),Oo=g('<h3 class="modal-title svelte-61olve"> </h3> <div class="toggle-switch svelte-61olve"><button>PIN CODE</button> <button>QR SCAN</button></div> <div class="checkin-display svelte-61olve"><!></div> <div class="alert-box-info svelte-61olve" style="margin-top: 20px; padding: 15px; background: rgba(16, 185, 129, 0.1); border: 1px dashed #10b981; border-radius: 8px; text-align: center;"><p style="color: #10b981; margin: 0; font-weight: 600;" class="svelte-61olve"> </p></div>',1),Ao=g('<div class="rejected-alert svelte-61olve" style="background: #fee2e2; color: #b91c1c; padding: 12px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #fca5a5;"><strong class="svelte-61olve"> </strong><br class="svelte-61olve"/> <span style="font-size: 0.9rem;" class="svelte-61olve"> </span></div>'),Ro=g('<div class="distance-result svelte-61olve" style="margin-top: 8px; padding: 8px 12px; background: rgba(16, 185, 129, 0.1); border-radius: 6px; display: flex; align-items: center; gap: 8px;"><span style="color: #10b981; font-size: 1.2rem;" class="svelte-61olve">‚úì</span> <span style="color: #10b981; font-weight: 600;" class="svelte-61olve"> </span></div>'),Bo=g('<small style="color: #94a3b8; margin-top: 4px; display: block;" class="svelte-61olve"> </small>'),zo=g('<label class="upload-label svelte-61olve" style="border: 2px dashed #ccc; padding: 20px; text-align: center; display: block; cursor: pointer; border-radius: 8px;"><input id="proofImageInput" type="file" accept="image/*" hidden="" class="svelte-61olve"/> <div class="upload-placeholder svelte-61olve"><span class="svelte-61olve"> </span></div></label>'),Ho=g('<div class="image-preview svelte-61olve" style="position: relative; text-align: center;"><img alt="Preview" style="max-height: 200px; border-radius: 8px; margin: 0 auto;" class="svelte-61olve"/> <button class="remove-img-btn svelte-61olve" style="position: absolute; top: -10px; right: -10px; background: red; color: white; border-radius: 50%; width: 24px; height: 24px; border: none; cursor: pointer;">&times;</button></div>'),Uo=g('<h3 class="modal-title svelte-61olve"> </h3> <!> <div class="input-group svelte-61olve"><label for="link" class="svelte-61olve">Strava Activity Link</label> <div style="display: flex; gap: 8px; align-items: center;" class="svelte-61olve"><input type="text" id="link" placeholder="https://strava.app.link/... ‡∏´‡∏£‡∏∑‡∏≠ strava.com/activities/..." style="flex: 1;" class="svelte-61olve"/> <button type="button" class="verify-strava-btn svelte-61olve"> </button></div> <!></div> <div class="upload-area svelte-61olve" style="margin-top: 15px;"><p style="display: block; margin-bottom: 5px; font-weight: 600;" class="svelte-61olve"> </p> <!></div> <button class="action-submit-btn purple-theme svelte-61olve" style="width: 100%; margin-top: 20px; padding: 12px; background: #8b5cf6; color: white; border-radius: 8px; font-weight: bold;"> </button>',1),Jo=g('<div class="waiting-view svelte-61olve" style="text-align: center; padding: 40px 0;"><div class="hourglass-icon svelte-61olve" style="font-size: 4rem; margin-bottom: 20px;">‚è≥</div> <h2 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 10px;" class="svelte-61olve"> </h2> <p style="color: #64748b;" class="svelte-61olve"> </p></div>'),Vo=g('<div class="completed-view svelte-61olve" style="text-align: center; padding: 20px;"><div style="font-size: 4rem; margin-bottom: 20px;" class="svelte-61olve">üéâ</div> <h2 style="color: #10b981; font-size: 1.5rem; font-weight: bold; margin-bottom: 10px;" class="svelte-61olve"> </h2> <div class="stat-box svelte-61olve" style="justify-content: center; margin-top: 20px; background: #f0fdf4; padding: 20px; border-radius: 12px;"><div class="svelte-61olve"><div class="stat-label svelte-61olve">Total Distance</div> <div class="stat-value svelte-61olve" style="font-size: 2rem; font-weight: bold; color: #15803d;"> </div></div></div></div>'),Fo=g('<div class="cancelled-view svelte-61olve" style="text-align: center; padding: 40px 0; color: #94a3b8;"><div style="font-size: 4rem; margin-bottom: 10px;" class="svelte-61olve">üö´</div> <h3 class="svelte-61olve"> </h3></div>'),Ko=g('<!> <div class="modal-body svelte-61olve"><!></div>',1),qo=g('<div class="modal-overlay svelte-61olve"><div class="modal-box svelte-61olve"><button class="modal-close svelte-61olve">&times;</button> <!></div></div>'),Go=g('<li class="svelte-61olve"> </li>'),Wo=g('<li class="svelte-61olve"> </li>'),Qo=g("<!> <!>",1),Yo=g('<li class="svelte-61olve"> </li>'),Zo=g('<div class="modal-overlay svelte-61olve" style="z-index: 3100;"><div class="modal-box dashboard-box svelte-61olve"><button class="modal-close svelte-61olve">&times;</button> <div class="dashboard-header svelte-61olve"><h2 class="dash-title svelte-61olve"> </h2> <span class="status-badge svelte-61olve" style="font-size: 0.8rem; align-self: flex-start;"> </span></div> <div class="dashboard-content svelte-61olve"><div class="dash-section svelte-61olve"><p class="dash-desc svelte-61olve"> </p></div> <div class="dash-grid svelte-61olve"><div class="dash-item svelte-61olve"><span class="dash-label svelte-61olve"> </span> <span class="dash-value svelte-61olve"> </span></div> <div class="dash-item svelte-61olve"><span class="dash-label svelte-61olve"> </span> <span class="dash-value svelte-61olve"> </span></div> <div class="dash-item svelte-61olve"><span class="dash-label svelte-61olve"> </span> <span class="dash-value svelte-61olve"> </span></div></div> <div class="stats-container svelte-61olve"><div class="stat-box blue-stat svelte-61olve"><div class="stat-icon svelte-61olve">üèÉ</div> <div class="stat-info svelte-61olve"><span class="stat-label svelte-61olve"> </span> <span class="stat-value svelte-61olve"> <span class="stat-unit svelte-61olve" style="font-size: 0.9rem; margin-left: 2px;"> </span></span></div></div></div> <div class="holiday-section svelte-61olve"><div class="holiday-header svelte-61olve"> </div> <ul class="holiday-list-dash svelte-61olve"><!></ul></div></div></div></div>'),Xo=g('<label class="radio-item svelte-61olve"><input type="radio" class="svelte-61olve"/> <span class="radio-label svelte-61olve"> </span></label>'),$o=g('<div class="reason-input svelte-61olve"><textarea rows="3" class="svelte-61olve"></textarea></div>'),er=g('<div class="modal-overlay svelte-61olve"><div class="modal-content cancel-modal svelte-61olve"><button class="modal-close-btn svelte-61olve">&times;</button> <div class="modal-body svelte-61olve"><h3 class="modal-title svelte-61olve" style="color: #ef4444;"> </h3> <p class="modal-subtitle svelte-61olve"> </p> <div class="cancel-options svelte-61olve"></div> <!> <div class="action-row svelte-61olve"><button class="cancel-confirm-btn svelte-61olve"> </button></div></div></div></div>'),tr=g('<div class="app-container svelte-61olve"><header class="header-bar svelte-61olve"><div class="header-inner svelte-61olve"><div class="left-group svelte-61olve"><div class="brand svelte-61olve"><span class="brand-name svelte-61olve">OFFICER</span></div> <nav class="nav-menu desktop-only svelte-61olve"></nav></div> <div class="search-bar-container desktop-only svelte-61olve"><div class="search-input-wrapper svelte-61olve"><svg class="search-icon active-search-icon svelte-61olve" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" class="svelte-61olve"></path></svg> <input type="text" class="search-input svelte-61olve"/></div></div> <div class="user-zone svelte-61olve"><div class="timer-pill svelte-61olve"> </div> <div class="lang-switch desktop-only svelte-61olve"><button>TH</button> <span class="sep svelte-61olve">|</span> <button>EN</button></div> <button class="logout-btn desktop-only svelte-61olve" aria-label="Logout"><svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" class="svelte-61olve"></path></svg></button> <button class="mobile-toggle mobile-only svelte-61olve" aria-label="Toggle menu"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 9h16M4 15h16" class="svelte-61olve"></path></svg></button></div></div></header> <!> <div class="scroll-container svelte-61olve"><div class="content-wrapper svelte-61olve"><div id="upcoming-section" class="section-header-wrapper header-row svelte-61olve"><div class="header-left svelte-61olve"><h1 class="section-title svelte-61olve"> </h1> <div class="title-underline svelte-61olve"></div></div> <button class="jump-btn svelte-61olve"> <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-61olve"></path></svg></button></div> <!> <div id="history-section" class="section-header-wrapper header-row svelte-61olve" style="margin-top: 60px;"><div class="header-left svelte-61olve"><h1 class="section-title svelte-61olve"> </h1> <div class="title-underline svelte-61olve"></div></div> <button class="jump-btn svelte-61olve"> <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="transform: rotate(180deg);" class="svelte-61olve"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" class="svelte-61olve"></path></svg></button></div> <div class="events-grid svelte-61olve"></div> <footer class="app-footer svelte-61olve"><div class="footer-separator svelte-61olve"></div> <div class="footer-content svelte-61olve"><p class="copyright svelte-61olve">&copy; 2025 Cyber Geek. All rights reserved.</p> <p class="credits svelte-61olve">Designed & Developed by <span class="highlight svelte-61olve">Cyber Geek Development</span></p> <p class="contact svelte-61olve">Contact: <a href="mailto:cybergeek.dev@proton.me" class="svelte-61olve">cybergeek.dev@proton.me</a></p></div></footer></div></div> <!> <!></div> <!>',1);function br(Va,Fa){Is(Fa,!1);const ft=ue(),la=ue(),Ka=[],Ue=Bs;let Ke=ue(!1),St=ue("my-event"),ht=ue("--:--:--"),ia=0,Xe=null,nt=null,qa=5e3,Tt=!1,Je=ue(""),s=ue("th");const m={th:{upcoming_header:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ",history_header:"‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",search_placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...",read_more:"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î",read_less:"‡∏¢‡πà‡∏≠‡∏•‡∏á",status_register:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",status_waiting:"‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",status_rejected:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",status_sending:"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",status_completed_badge:"‚úî ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏ö)",status_ended:"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_checkin:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_register:"‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô",btn_waiting:"‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",btn_send_proof:"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",btn_send_image:"‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",btn_completed:"üïí ‡∏£‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏ö",btn_checkout:"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",btn_locked:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î",btn_confirm_checkin:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",btn_next:"‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û) ‚Üí",btn_submit:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",btn_resubmit:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ã‡πâ‡∏≥",btn_back_strava:"‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Strava",btn_verify_link:"‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå",status_daily_completed:"‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ",btn_daily_wait:"‡∏£‡∏≠‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ",modal_step1:"‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á",modal_step1_sub:"‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",modal_link_label:"‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Strava (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)",modal_dist_label:"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£)",modal_dist_warn:"*‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏•‡πá‡∏≠‡∏Ñ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á",modal_step2:"‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",modal_step2_sub:"‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á",modal_upload_txt:"‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",modal_rejected:"‚ö†Ô∏è ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò:",modal_verifying_title:"‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",modal_verifying_desc:"‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö",modal_close:"‡∏õ‡∏¥‡∏î",dash_location:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",dash_date:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà",dash_time:"‡πÄ‡∏ß‡∏•‡∏≤",dash_rank_title:"‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)",dash_success_title:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏™‡∏∞‡∏™‡∏°",dash_unit_days:"‡∏ß‡∏±‡∏ô",dash_holiday_title:"üìÖ ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",dash_holiday_weekend:"‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå",dash_no_holiday:"- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î (‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô) -",rank_label:"‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà",participants:"‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°",alert_success:"‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_not_checked_in:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",alert_contact_staff:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡πà‡∏á‡∏£‡∏´‡∏±‡∏™ PIN ‡∏´‡∏£‡∏∑‡∏≠ QR Code ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô",alert_checkin_success:"‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",alert_go_next:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á",btn_ok:"‡∏ï‡∏Å‡∏•‡∏á",alert_warning:"‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô",alert_error:"‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î",alert_success_title:"‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_link_required:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° Strava",alert_link_invalid:"‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô strava.app.link ‡∏´‡∏£‡∏∑‡∏≠ strava.com)",alert_checking:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...",alert_fetching_strava:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava...",alert_not_found:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",alert_connection_error:"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠",alert_verify_first:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô",alert_image_required:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô",alert_upload_failed:"‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",alert_submit_success:"‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß",alert_session_expired:"‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà"},en:{upcoming_header:"Upcoming",history_header:"History",search_placeholder:"Search events...",read_more:"Read more",read_less:"Read less",status_register:"REGISTER",status_waiting:"Verifying",status_rejected:"Action Required",status_sending:"Draft",status_completed_badge:"‚úî Completed",status_ended:"ENDED",btn_checkin:"CHECK-IN",btn_register:"REGISTER",btn_waiting:"‚è≥ VERIFYING",btn_send_proof:"SEND PROOF",btn_send_image:"SEND IMAGE",btn_completed:"üïí COMPLETED",btn_checkout:"CHECK-OUT",btn_locked:"LOCKED",btn_confirm_checkin:"CONFIRM CHECK-IN",btn_next:"Next (Upload Image) ‚Üí",btn_submit:"Submit Proof",btn_resubmit:"Resubmit Proof",btn_back_strava:"‚Üê Back to Strava Link",btn_verify_link:"‚úÖ Verify Link",status_daily_completed:"NEXT DAY",btn_daily_wait:"Wait Next Day",modal_step1:"Step 1: Activity Data",modal_step1_sub:"Enter your Strava activity link",modal_link_label:"Strava Activity Link (Required)",modal_dist_label:"Distance (KM)",modal_dist_warn:"*Input is locked. Please click 'Verify Link' to fetch data.",modal_step2:"Step 2: Proof Image",modal_step2_sub:"Upload a screenshot of your run result",modal_upload_txt:"üì∏ Tap to upload image",modal_rejected:"‚ö†Ô∏è Image Rejected:",modal_verifying_title:"Verification Pending",modal_verifying_desc:"We are verifying your submission. Please wait.",modal_close:"Close",dash_location:"Location",dash_date:"Date",dash_time:"Time",dash_rank_title:"My Rank (Today)",dash_success_title:"Success Count",dash_unit_days:"days",dash_holiday_title:"üìÖ Holidays / Free Days",dash_holiday_weekend:"Every Sat - Sun",dash_no_holiday:"- No holidays (Run everyday) -",rank_label:"Rank",participants:"Participants",alert_success:"Success",alert_not_checked_in:"Check-in Pending",alert_contact_staff:"Please present your PIN or QR Code to staff.",alert_checkin_success:"Check-in Successful!",alert_go_next:"Proceeding to proof submission.",btn_ok:"OK",alert_warning:"Warning",alert_error:"Error",alert_success_title:"Success",alert_link_required:"Strava activity link is required.",alert_link_invalid:"Invalid link (Must be strava.app.link or strava.com)",alert_checking:"Checking...",alert_fetching_strava:"Fetching Strava data...",alert_not_found:"Not Found",alert_connection_error:"Connection Error",alert_verify_first:"Please click 'Verify Link' first.",alert_image_required:"Proof image is required.",alert_upload_failed:"Upload failed",alert_submit_success:"Submitted successfully.",alert_session_expired:"Session expired. Please login again."}};function mt(r){b(s,r),typeof localStorage<"u"&&localStorage.setItem("app_lang",r)}let It=ue(!0),st=[],qe={},Re=ue({}),vt=ue([]),Mt=ue([]),Pt=ue(!1),D=ue(null),ot=ue("PIN"),rt=ue(null),ct=ue(null),Ne=ue(""),Lt=null,Se=ue(0),gt=ue(!1),Nt=ue(!1),dt=ue(null),Me=ue(""),$e=ue("");const Ga=["‡∏ï‡∏¥‡∏î‡∏ò‡∏∏‡∏£‡∏∞‡∏î‡πà‡∏ß‡∏ô / Urgent matter","‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û / Health issue","‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏® / Weather condition","‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á / Transportation","‡∏≠‡∏∑‡πà‡∏ô‡πÜ / Other"],na=[{id:"event-list",label:"Event list",path:"/officer/event-list",svg:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9 2 2 4-4"},{id:"my-event",label:"My event",path:"/officer/myevents-upcoming",svg:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"account-setting",label:"Account setting",path:"/officer/setting-account",svg:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}];function ut(){if(typeof window<"u"){const o=new URLSearchParams(window.location.search).get("debug_date");if(o){const v=new Date(o);if(!isNaN(v.getTime()))return console.log(`üîß [DEBUG MODE] Using simulated date: ${o}`),v}}return new Date}async function va(){b(It,!0);try{const r=Ge(),o=_a();if(!r||!o){console.warn("No credentials found"),A.fire({icon:"warning",title:m[e(s)].alert_session_expired||"Session Expired",text:"Please login again",confirmButtonText:"OK"}).then(()=>{ra("/auth/login")});return}b(Re,{});const[v,p]=await Promise.all([fetch(`${Ue}/api/participations/user/${o}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}).catch(c=>{throw console.error("Participations fetch error:",c),new Error("Cannot connect to participations API")}),fetch(`${Ue}/api/events/`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}).catch(c=>{throw console.error("Events fetch error:",c),new Error("Cannot connect to events API")})]);if(!v.ok){const c=await v.text().catch(()=>"Unknown error");throw console.error(`Participations API Error (${v.status}):`,c),new Error(`Failed to fetch participations (${v.status})`)}if(!p.ok){const c=await p.text().catch(()=>"Unknown error");throw console.error(`Events API Error (${p.status}):`,c),new Error(`Failed to fetch events (${p.status})`)}st=await v.json().catch(c=>{throw console.error("Error parsing participations JSON:",c),new Error("Invalid participations data format")});const d=await p.json().catch(c=>{throw console.error("Error parsing events JSON:",c),new Error("Invalid events data format")});qe={},Array.isArray(d)&&d.forEach(c=>{c&&c.id&&(qe[c.id]=c)}),await Wa(),ca()}catch(r){console.error("Error loading data:",r);let o="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ";if(r.message?.includes("connect"))o="‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï";else if(r.message?.includes("401")||r.message?.includes("403")){o="Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà",A.fire({icon:"error",title:"Authentication Error",text:o,confirmButtonText:"OK"}).then(()=>{ra("/auth/login")});return}else r.message?.includes("format")&&(o="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");A.fire({icon:"error",title:"Error",text:o,footer:`<small>Technical: ${r.message||"Unknown error"}</small>`})}finally{b(It,!1)}}async function Wa(){const r=Ge(),o={"Content-Type":"application/json"};r&&(o.Authorization=`Bearer ${r}`);const v=Object.keys(qe).map(Number),p=5;for(let d=0;d<v.length;d+=p){const c=v.slice(d,d+p);(await Promise.allSettled(c.map(async h=>{try{const l=await fetch(`${Ue}/api/events/${h}/participants`,{headers:o});if(!l.ok)return{eventId:h,uniqueCount:qe[h]?.participant_count||0};const w=await l.json();let H=[];Array.isArray(w)?H=w:w?.participants?H=w.participants:w?.data&&(H=w.data);const ie=new Set;return H.forEach(J=>{const V=J.user_id||J.id;V&&ie.add(V)}),{eventId:h,uniqueCount:ie.size}}catch{return{eventId:h,uniqueCount:qe[h]?.participant_count||0}}}))).forEach(h=>{if(h.status==="fulfilled"){const{eventId:l,uniqueCount:w}=h.value;qe[l]&&(qe[l].participant_count=w)}})}}async function Qa(r){const o=Ge();if(!o)return null;try{const v=await fetch(`${Ue}/api/participations/my-codes/${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!v.ok)throw new Error("Failed to fetch status");return await v.json()}catch(v){return console.error("Fetch status error:",v),null}}function ca(){const r=[],o=[],v=ut(),p={};st.forEach(c=>{c.status&&c.status.toUpperCase()==="COMPLETED"&&(p[c.event_id]=(p[c.event_id]||0)+1)});const d={};st.forEach(c=>{(!d[c.event_id]||c.id>d[c.event_id].id)&&(d[c.event_id]=c)}),Object.values(qe).forEach(c=>{const f=d[c.id];if(!f)return;let h=da(f.status),l=f.id,w=f.proof_image_url,H=f.rejection_reason,ie=f.join_code,J=f.completion_code,V=f.actual_distance_km,Ee=f.completion_rank;const ae=f.created_at||f.date||f.start_date;if(ae){const S=new Date(ae),ee=ut();S.setHours(0,0,0,0),ee.setHours(0,0,0,0),S.getTime()!==ee.getTime()&&h!=="COMPLETED"&&(console.log(`[AUTO CANCEL] Event ${c.id}: Registered on different day (${ae}). Auto-canceling.`),h="CANCELED")}if(h==="CHECKED_IN"&&typeof localStorage<"u"){const S=`proof_draft_${f.id}`,ee=localStorage.getItem(S);if(ee)try{const x=JSON.parse(ee);x.step&&x.step>=2&&(h="proof_submitted")}catch{}}const O=p[c.id]||0,M=c.event_date||c.startDate||c.event_start_date,P=c.event_end_date||c.endDate,F=S=>{if(!S)return"";const ee=new Date(S),x=ee.getHours(),E=ee.getMinutes(),L=String(x).padStart(2,"0"),re=String(E).padStart(2,"0");return`${L}:${re}`},ne=F(M),K=F(P),Y=S=>{if(!S)return null;if(S.includes("Z")||S.includes("+")){const re=new Date(S);return new Date(re.getFullYear(),re.getMonth(),re.getDate())}const ee=S.includes("T")?S.split("T")[0]:S,[x,E,L]=ee.split("-").map(Number);return new Date(x,E-1,L)},pe=Y(M),T=Y(P);pe&&pe.setHours(0,0,0,0),T&&T.setHours(23,59,59,999);const I=ss(v,c.id);I.setHours(0,0,0,0);const R=T?I.getTime()>T.getTime():!1,B=T&&v>T,se=pe&&v<pe;let ve=!1,he=!1,Z=!1;if(ne&&K){const[S,ee]=ne.split(":").map(Number),[x,E]=K.split(":").map(Number),L=ut();L.setHours(S,ee,0,0);const re=ut();re.setHours(x,E,59,999),v<L&&(he=!0),v>re&&(ve=!0),v<=re&&(Z=!0)}let z=!1,q=m[e(s)].btn_locked;if(B)z=!0,q=e(s)==="th"?"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity Ended";else if(se&&h!=="JOINED"){z=!0;const S=et(M,void 0,e(s));q=e(s)==="th"?`‡πÄ‡∏õ‡∏¥‡∏î ${S}`:`Open ${S}`}else if(h==="COMPLETED")if(z=!0,R)ve?q=e(s)==="th"?"‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity Ended":q=e(s)==="th"?"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢":"Checkout Completed";else if(Z)q=e(s)==="th"?"‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢":"Checkout Completed";else{const S=I.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"});q=e(s)==="th"?`‡πÄ‡∏õ‡∏¥‡∏î ${S}`:`Open ${S}`}else h==="CHECKED_OUT"?z=!1:he?(z=!0,q=e(s)==="th"?"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤":"Not yet time"):ve&&(z=!0,q=e(s)==="th"?"‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Time's up");const oe=B||h==="CANCELED"||R&&ve;oe&&(O===0?h="CANCELED":O>=1&&h!=="CANCELED"&&(h="COMPLETED"));const $=$a(M||"",P||"",c?.id||0),fe={id:c.id,participation_id:l,title:c.title||"Unknown Event",description:c.description||"",location:c.location||"-",distance_km:c.distance_km||0,actual_distance_km:V,banner_image_url:zs(c.banner_image_url)||"https://via.placeholder.com/400",participant_count:c.participant_count||0,max_participants:c.max_participants||0,join_code:ie,completion_code:J,rejection_reason:H,proof_image_url:w,raw_start_date:M,raw_end_date:P,raw_start_time:ne,raw_end_time:K,status:h,isJoined:!0,isExpanded:!1,completed_count:O,isLocked:z,lockMessage:q,completion_rank:Ee,total_days:$};oe?o.push(fe):r.push(fe)}),b(vt,r),b(Mt,o)}function jt(r,o,v){if(!r)return"";const p=f=>{if(!f)return"";if(f.includes("T"))return new Date(f).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"});const h=f.split(":");return h.length>=2?`${h[0]}:${h[1]}`:f},d=p(r),c=p(o);return!d||d==="Invalid Date"?"":v==="th"?c?`${d} - ${c} ‡∏ô.`:`${d} ‡∏ô.`:c?`${d} - ${c}`:`${d}`}function da(r){if(!r)return"JOINED";const o=r.toLowerCase();return o==="joined"?"JOINED":o==="checked_in"?"CHECKED_IN":o==="rejected"?"REJECTED":o==="proof_submitted"||o==="submitted"||o==="pending"||o.includes("wait")||o==="pending_proof"?"proof_submitted":o==="checked_out"||o==="pass"||o==="verified"?"CHECKED_OUT":o==="completed"||o==="finished"?"COMPLETED":o==="canceled"||o==="cancelled"?"CANCELED":"JOINED"}function ua(){if(typeof localStorage>"u")return"";let r=localStorage.getItem("token")||localStorage.getItem("access_token")||"";if(!r){const o=localStorage.getItem("user")||localStorage.getItem("user_info");if(o)try{const v=JSON.parse(o);r=v.token||v.accessToken||v.access_token||""}catch{}}return r}function Ge(){return ua()}function _a(){const r=ua();if(!r)return null;try{const v=r.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),p=decodeURIComponent(window.atob(v).split("").map(function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join("")),d=JSON.parse(p);return d.id||d.user_id||d.sub||d.userId}catch(o){return console.error("Token parsing error",o),null}}function Ya(){Xe&&clearInterval(Xe);const r=Ge();if(!r){b(ht,"00:00:00");return}try{const v=r.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),p=JSON.parse(decodeURIComponent(window.atob(v).split("").map(d=>"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)).join("")));if(p.exp){const d=p.exp*1e3;Xe=setInterval(()=>{const c=Date.now(),f=d-c;if(f<=0)Xe&&clearInterval(Xe),b(ht,"00:00:00"),ia=0,Za();else{const h=Math.floor(f/1e3);ia=h;const l=Math.floor(h/3600),w=Math.floor(h%3600/60),H=h%60;b(ht,`${l.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`)}},1e3)}}catch(o){console.error("Error parsing token expiration:",o)}}function Za(){typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),Ja.logout(),A.fire({icon:"error",title:"Session Expired",text:"‡πÄ‡∏ã‡∏™‡∏ä‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà",allowOutsideClick:!1,confirmButtonText:"OK"}).then(()=>{window.location.href="/auth/login"})}function pa(){b(Ke,!1),typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(r=>{document.cookie=r.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),Ja.logout(),window.location.href="/auth/login"}let Ot=ue(!1),_e=ue(null);function fa(r){b(_e,r),b(Ot,!0)}function Xa(){b(Ot,!1),setTimeout(()=>{b(_e,null)},300)}function $a(r,o,v){if(!r||!o)return 0;const p=l=>{if(l.includes("Z")||l.includes("+")){const V=new Date(l);return new Date(V.getFullYear(),V.getMonth(),V.getDate())}const w=l.includes("T")?l.split("T")[0]:l,[H,ie,J]=w.split("-").map(Number);return new Date(H,ie-1,J)},d=p(r),c=p(o);if(c<d)return 0;let f=0,h=new Date(d);for(;h<=c;)ga(h,v)||f++,h.setDate(h.getDate()+1);return f}function ha(r){return`proof_draft_${r}`}function es(r){localStorage.removeItem(ha(r))}function ma(r,o){b(St,r),b(Ke,!1),ra(o)}function ts(){document.getElementById("history-section")?.scrollIntoView({behavior:"smooth"})}function as(){document.getElementById("upcoming-section")?.scrollIntoView({behavior:"smooth"})}function et(r,o,v="th"){if(!r)return"-";const p=v==="th"?"th-TH":"en-GB",d={day:"numeric",month:"short",year:"numeric"},c=l=>{if(!l)return null;if(l.includes("Z")||l.includes("+")){const V=new Date(l);return new Date(V.getFullYear(),V.getMonth(),V.getDate())}const w=l.includes("T")?l.split("T")[0]:l,[H,ie,J]=w.split("-").map(Number);return new Date(H,ie-1,J)},f=c(r);if(!f)return"-";const h=f.toLocaleDateString(p,d);if(o){const l=c(o);if(l&&f.getTime()!==l.getTime()){const w=l.toLocaleDateString(p,d);return`${h} - ${w}`}}return h}function ga(r,o){const v=e(Re)[o];if(!v)return!1;if(v.excludeWeekends){const h=r.getDay();if(h===0||h===6)return!0}const p=r.getFullYear(),d=String(r.getMonth()+1).padStart(2,"0"),c=String(r.getDate()).padStart(2,"0"),f=`${p}-${d}-${c}`;return!!(v.holidays&&v.holidays.includes(f))}function ss(r,o){let v=new Date(r);do v.setDate(v.getDate()+1);while(ga(v,o));return v}function os(r){b(dt,r),b(Me,""),b($e,""),b(Nt,!0)}function ba(){b(Nt,!1),b(dt,null)}async function rs(){if(!e(dt))return;let r=e(Me);if(e(Me).includes("Other")||e(Me).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ")){if(!e($e).trim()){A.fire({icon:"warning",title:e(s)==="th"?"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Reason not specified",text:e(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°":"Please provide more details",confirmButtonColor:"#f59e0b"});return}r=e($e)}try{const o=Ge();if(!o){A.fire(m[e(s)].alert_error,m[e(s)].alert_session_expired,"error");return}const v=e(dt).participation_id;if(!v){A.fire(m[e(s)].alert_error,"Invalid participation","error");return}const p=await fetch(`${Ue}/api/participations/${v}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({cancellation_reason:r})});if(p.ok)b(vt,e(vt).filter(d=>d.participation_id!==v)),A.fire({icon:"success",title:e(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß":"Cancelled successfully",timer:1500,showConfirmButton:!1}),ba(),await va();else{const d=await p.json();A.fire(m[e(s)].alert_error,d.detail||"Error","error")}}catch{A.fire(m[e(s)].alert_error,m[e(s)].alert_connection_error,"error")}}async function bt(r){if(!r.join_code){A.fire({icon:"info",title:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ",text:'‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤ "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" ‡∏Å‡πà‡∏≠‡∏ô',confirmButtonText:"‡πÑ‡∏õ‡∏™‡∏°‡∏±‡∏Ñ‡∏£"}).then(c=>{c.isConfirmed&&Os("officer")});return}if(!Ge()){A.fire(m[e(s)].alert_error,m[e(s)].alert_session_expired,"error");return}A.showLoading();const v=await Qa(r.id);A.close();let p={...r},d=null;if(v&&v.codes&&v.codes.length>0?d=v.codes[0]:v&&v.join_code&&(d=v),d){const c=d.created_at||d.date||d.start_date;if(c){const f=new Date(c),h=ut();f.setHours(0,0,0,0),h.setHours(0,0,0,0),f.getTime()!==h.getTime()&&(console.log("Status data is from different day, clearing it"),d=null)}}if(d?(p.participation_id=d.id||p.participation_id,p.status=da(d.status),p.join_code=d.join_code?String(d.join_code):"",p.completion_code=d.completion_code?String(d.completion_code):void 0,p.rejection_reason=d.rejection_reason,p.isJoined=!0):(p.status="JOINED",p.join_code="",p.isJoined=!1),p.status==="COMPLETED"){A.fire("Completed","‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß","success");return}if(b(D,p),Lt=p.participation_id,b(ot,"PIN"),b(rt,p.proof_image_url||null),p.status==="CHECKED_IN"||p.status==="proof_submitted"||p.status==="REJECTED"){const c=localStorage.getItem(ha(p.participation_id));if(c)try{const f=JSON.parse(c);b(Ne,f.link||""),b(Se,f.dist||0)}catch{}}b(Pt,!0)}function ka(){b(Pt,!1),setTimeout(()=>{b(D,null)},300)}async function ls(r){const o=r.target;if(o.files&&o.files[0]){const v=o.files[0];A.fire({title:"Processing Image...",text:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",allowOutsideClick:!1,didOpen:()=>A.showLoading()});try{const p=await ds(v);b(ct,p);const d=new FileReader;d.onload=c=>{b(rt,c.target?.result),A.close()},d.readAsDataURL(p)}catch(p){console.error("Compression error:",p),A.fire("Error","‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ","error")}}}function is(r){return!r||r.trim()===""?!1:[/^https?:\/\/(www\.)?strava\.com\/activities\/\d+/i,/^https?:\/\/strava\.app\.link\//i,/^https?:\/\/(www\.)?strava\.com\/athletes\/\d+\/activities\//i].some(v=>v.test(r.trim()))}async function ns(){if(!e(Ne)||e(Ne).trim()===""){A.fire(m[e(s)].alert_warning,m[e(s)].alert_link_required,"warning");return}const r=e(Ne).trim();if(!is(r)){A.fire({icon:"error",title:m[e(s)].alert_error,html:`${m[e(s)].alert_link_invalid}<br><br>
              <small style="color:#666;">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:<br>
              ‚Ä¢ https://www.strava.com/activities/12345<br>
              ‚Ä¢ https://strava.app.link/xxxxx</small>`});return}A.fire({title:m[e(s)].alert_checking,text:m[e(s)].alert_fetching_strava,allowOutsideClick:!1,didOpen:()=>A.showLoading()});try{const o=await Hs("/api/strava/parse",{method:"POST",body:JSON.stringify({url:r})});if(A.close(),o.ok){const v=await o.json();v.success&&v.distance_km?(b(Se,Number(v.distance_km)||0),b(gt,!0),A.fire({icon:"success",title:e(s)==="th"?"‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!":"Data Retrieved!",html:`<div style="text-align:left;">
                        <p><b>${e(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}:</b> ${e(Se).toFixed(2)} km</p>
                        ${v.moving_time?`<p><b>${e(s)==="th"?"‡πÄ‡∏ß‡∏•‡∏≤":"Time"}:</b> ${v.moving_time}</p>`:""}
                        ${v.activity_name?`<p><b>${e(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Activity"}:</b> ${v.activity_name}</p>`:""}
                      </div>`,timer:3e3,showConfirmButton:!0,confirmButtonText:"OK"})):v.distance_km===0||v.distance_km?(b(Se,Number(v.distance_km)||0),b(gt,!0),A.fire({icon:"info",title:e(s)==="th"?"‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•":"Data Found",text:`${e(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${e(Se)} km`,timer:2e3,showConfirmButton:!1})):await At()}else if(o.status===404||o.status===400)await At();else throw new Error(`Server error: ${o.status}`)}catch(o){console.error("Strava check error:",o),A.close(),await At()}}async function At(){const r=await A.fire({icon:"info",title:e(s)==="th"?"‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Enter Distance",html:`<p style="margin-bottom:10px;">${e(s)==="th"?"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Strava ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á":"Could not fetch Strava data automatically.<br>Please enter distance manually."}</p>`,input:"number",inputLabel:e(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£)":"Distance (km)",inputPlaceholder:"0.00",inputAttributes:{min:"0",step:"0.01"},showCancelButton:!0,confirmButtonText:e(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô":"Confirm",cancelButtonText:e(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Cancel",inputValidator:o=>!o||Number(o)<=0?e(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0":"Please enter distance greater than 0":null});r.isConfirmed&&r.value&&(b(Se,Number(r.value)),b(gt,!0),A.fire({icon:"success",title:"OK",text:`${e(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${e(Se)} km`,timer:1500,showConfirmButton:!1}))}async function vs(){if(!e(D))return;const r=Ge();if(!r){A.fire(m[e(s)].alert_error,m[e(s)].alert_session_expired,"error");return}if(!e(D).participation_id){A.fire("Error","‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Participation ID) - ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠","error");return}if(!e(Ne)||e(Ne).trim()===""){A.fire(m[e(s)].alert_warning,m[e(s)].alert_link_required,"warning");return}if(!e(ct)&&!e(D).proof_image_url){A.fire(m[e(s)].alert_warning,m[e(s)].alert_image_required,"warning");return}try{A.showLoading();let o=e(D).proof_image_url||"";if(e(ct)){const{uploadImage:h}=await Ts(async()=>{const{uploadImage:w}=await import("../chunks/Cnqa9Cr2.js");return{uploadImage:w}},[],import.meta.url);o=(await h(e(ct),"proofs")).url}const v={proof_image_url:o,strava_link:e(Ne),actual_distance_km:Number(e(Se))};let p=e(D).status==="REJECTED",d=p?`${Ue}/api/participations/${e(D).participation_id}/resubmit-proof`:`${Ue}/api/participations/${e(D).participation_id}/submit-proof`,c=p?"PUT":"POST",f=await fetch(d,{method:c,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(v)});if(!f.ok&&f.status===400&&c==="POST"&&(console.warn("‚ö†Ô∏è POST failed (400). Switching to RESUBMIT (PUT)..."),d=`${Ue}/api/participations/${e(D).participation_id}/resubmit-proof`,c="PUT",f=await fetch(d,{method:c,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(v)})),f.ok)A.fire(m[e(s)].alert_success_title,m[e(s)].alert_submit_success,"success"),Lt&&es(Lt),e(D)&&(za(D,e(D).status="proof_submitted"),za(D,e(D).proof_image_url=e(rt)||void 0)),ka();else{const h=await f.json().catch(()=>({}));throw console.error("‚ùå Submit Error Detail:",h),new Error(h.message||h.detail||`Submit Failed (${f.status})`)}}catch(o){console.error(o),A.fire(m[e(s)].alert_error,o.message,"error")}}function kt(){nt||(Tt=!0,console.log("üîÑ Starting auto-refresh polling (every 5s)"),nt=setInterval(async()=>{if(Tt)try{await cs()}catch(r){console.error("Polling error:",r)}},qa))}function yt(){nt&&(clearInterval(nt),nt=null),Tt=!1,console.log("‚èπÔ∏è Stopped auto-refresh polling")}async function cs(){const r=Ge(),o=_a();if(!(!r||!o))try{const v=await fetch(`${Ue}/api/participations/user/${o}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!v.ok)return;const p=await v.json();let d=!1;for(const c of p){const f=st.find(h=>h.id===c.id);if(!f||f.status!==c.status){d=!0,console.log(`üì¢ Status changed: ${f?.status||"NEW"} ‚Üí ${c.status}`);break}}p.length!==st.length&&(d=!0),d&&(console.log("‚úÖ Detected changes, updating UI..."),st=p,ca())}catch{}}function ya(){document.hidden?yt():kt()}Ms(async()=>{const r=localStorage.getItem("app_lang");(r==="th"||r==="en")&&b(s,r),Ya(),await va(),kt(),document.addEventListener("visibilitychange",ya),window.addEventListener("offline",yt),window.addEventListener("online",kt)}),Ps(()=>{Xe&&clearInterval(Xe),yt(),document.removeEventListener("visibilitychange",ya),window.removeEventListener("offline",yt),window.removeEventListener("online",kt)});async function ds(r,o=1200,v=.7){return new Promise((p,d)=>{const c=new FileReader;c.readAsDataURL(r),c.onload=f=>{const h=new Image;h.src=f.target?.result,h.onload=()=>{const l=document.createElement("canvas");let w=h.width,H=h.height;w>o&&(H=H*o/w,w=o),l.width=w,l.height=H,l.getContext("2d")?.drawImage(h,0,0,w,H),l.toBlob(J=>{if(J){const V=new File([J],r.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg",lastModified:Date.now()});p(V)}else d(new Error("Image compression failed"))},"image/jpeg",v)}},c.onerror=f=>d(f)})}sa(()=>(e(Ne),e(Se)),()=>{e(Ne)&&e(Ne).trim()&&e(Se)>0&&(b(gt,!1),b(Se,0))}),sa(()=>(e(vt),e(Je)),()=>{b(ft,e(vt).filter(r=>r.title.toLowerCase().includes(e(Je).toLowerCase())||r.description.toLowerCase().includes(e(Je).toLowerCase())))}),sa(()=>(e(Mt),e(Je)),()=>{b(la,e(Mt).filter(r=>r.title.toLowerCase().includes(e(Je).toLowerCase())&&r.status!=="CANCELED"))}),Ls(),Rs();var wa=tr(),Rt=Q(wa),Bt=a(Rt),xa=a(Bt),zt=a(xa),Ea=n(a(zt),2);ze(Ea,5,()=>na,He,(r,o)=>{var v=Us();let p;var d=a(v),c=a(d);t(d);var f=n(d,2),h=a(f,!0);t(f),t(v),k(()=>{p=Le(v,1,"menu-btn svelte-61olve",null,p,{active:e(St)===e(o).id}),at(c,"d",(e(o),i(()=>e(o).svg))),_(h,(e(o),i(()=>e(o).label)))}),W("click",v,()=>ma(e(o).id,e(o).path)),u(r,v)}),t(Ea),t(zt);var Ht=n(zt,2),Ca=a(Ht),Ut=n(a(Ca),2);Et(Ut),t(Ca),t(Ht);var Da=n(Ht,2),Jt=a(Da),us=a(Jt,!0);t(Jt);var Vt=n(Jt,2),Ft=a(Vt);let Sa;var Ta=n(Ft,4);let Ia;t(Vt);var Ma=n(Vt,2),_s=n(Ma,2);t(Da),t(xa),t(Bt);var Pa=n(Bt,2);{var ps=r=>{var o=Vs(),v=Q(o),p=n(v,2),d=a(p),c=n(a(d));t(d);var f=n(d,2),h=a(f);Et(h),t(f);var l=n(f,2),w=a(l);ze(w,1,()=>na,He,(M,P)=>{var F=Js();let ne;var K=a(F),Y=a(K);t(K);var pe=n(K);t(F),k(()=>{ne=Le(F,1,"drawer-item svelte-61olve",null,ne,{active:e(St)===e(P).id}),at(Y,"d",(e(P),i(()=>e(P).svg))),_(pe,` ${e(P),i(()=>e(P).label)??""}`)}),W("click",F,()=>ma(e(P).id,e(P).path)),u(M,F)});var H=n(w,2),ie=n(a(H),2),J=a(ie);let V;var Ee=n(J,2);let ae;t(ie),t(H),t(l);var O=n(l,2);t(p),k(()=>{at(h,"placeholder",(e(s),i(()=>m[e(s)].search_placeholder))),V=Le(J,1,"svelte-61olve",null,V,{active:e(s)==="th"}),ae=Le(Ee,1,"svelte-61olve",null,ae,{active:e(s)==="en"})}),W("click",v,()=>b(Ke,!1)),W("keydown",v,M=>{(M.key==="Escape"||M.key==="Enter"||M.key===" ")&&b(Ke,!1)}),Ae(3,v,()=>Ct,()=>({duration:200})),W("click",c,()=>b(Ke,!1)),xt(h,()=>e(Je),M=>b(Je,M)),W("click",J,()=>mt("th")),W("click",Ee,()=>mt("en")),W("click",O,pa),Ae(3,p,()=>Dt,()=>({axis:"x",duration:300})),u(r,o)};y(Pa,r=>{e(Ke)&&r(ps)})}var Kt=n(Pa,2),La=a(Kt),qt=a(La),Gt=a(qt),Na=a(Gt),fs=a(Na,!0);t(Na),it(2),t(Gt);var Wt=n(Gt,2),hs=a(Wt);it(),t(Wt),t(qt);var ja=n(qt,2);{var ms=r=>{var o=Fs();u(r,o)},gs=r=>{var o=ye(),v=Q(o);{var p=c=>{var f=Ks();u(c,f)},d=c=>{var f=ho();ze(f,5,()=>e(ft),He,(h,l)=>{var w=fo();let H;var ie=a(w),J=a(ie);{var V=x=>{var E=qs(),L=a(E),re=n(a(L),2),N=a(re,!0);t(re),t(L),t(E),k(()=>_(N,(e(l),e(s),i(()=>e(l).lockMessage||m[e(s)].btn_locked)))),u(x,E)};y(J,x=>{e(l),i(()=>e(l).isLocked)&&x(V)})}t(ie),Ha(ie,(x,E)=>Ua?.(x,E),()=>e(l).banner_image_url);var Ee=n(ie,2),ae=a(Ee),O=a(ae),M=a(O,!0);t(O);var P=n(O,2),F=a(P);{var ne=x=>{var E=Gs(),L=a(E,!0);t(E),k(()=>_(L,(e(s),i(()=>m[e(s)].status_waiting)))),u(x,E)},K=x=>{var E=ye(),L=Q(E);{var re=C=>{var j=Ws(),me=a(j,!0);t(j),k(()=>_(me,(e(s),i(()=>m[e(s)].status_rejected)))),u(C,j)},N=C=>{var j=ye(),me=Q(j);{var U=ce=>{var ge=Qs(),Te=a(ge,!0);t(ge),k(()=>_(Te,(e(s),i(()=>m[e(s)].status_sending)))),u(ce,ge)},te=ce=>{var ge=ye(),Te=Q(ge);{var Ve=X=>{var le=Zs(),G=a(le),we=a(G,!0);t(G);var xe=n(G,2);{var ke=de=>{var Ce=Ys(),We=a(Ce);t(Ce),k(()=>_(We,`üèÜ ${e(s),i(()=>m[e(s)].rank_label)??""} ${e(l),i(()=>e(l).completion_rank)??""}`)),u(de,Ce)};y(xe,de=>{e(l),i(()=>e(l).completion_rank&&e(l).completion_rank>0)&&de(ke)})}t(le),k(()=>_(we,(e(s),i(()=>m[e(s)].status_completed_badge)))),u(X,le)},be=X=>{var le=ye(),G=Q(le);{var we=ke=>{var de=Xs(),Ce=a(de,!0);t(de),k(()=>_(Ce,(e(s),i(()=>m[e(s)].status_register)))),u(ke,de)},xe=ke=>{var de=$s(),Ce=a(de,!0);t(de),k(()=>_(Ce,(e(l),i(()=>e(l).status)))),u(ke,de)};y(G,ke=>{e(l),i(()=>e(l).status==="JOINED")?ke(we):ke(xe,!1)},!0)}u(X,le)};y(Te,X=>{e(l),i(()=>e(l).status==="COMPLETED")?X(Ve):X(be,!1)},!0)}u(ce,ge)};y(me,ce=>{e(l),i(()=>e(l).status==="CHECKED_IN")?ce(U):ce(te,!1)},!0)}u(C,j)};y(L,C=>{e(l),i(()=>e(l).status==="REJECTED")?C(re):C(N,!1)},!0)}u(x,E)};y(F,x=>{e(l),i(()=>e(l).status==="proof_submitted")?x(ne):x(K,!1)})}var Y=n(F,2),pe=n(a(Y));t(Y);var T=n(Y,2),I=a(T);t(T),t(P),t(ae);var R=n(ae,2);let B;var se=a(R,!0);t(R);var ve=n(R,2);{var he=x=>{var E=ro(),L=a(E),re=n(a(L),2),N=a(re,!0);t(re),t(L);var C=n(L,2),j=n(a(C),2),me=a(j,!0);t(j),t(C);var U=n(C,2),te=n(a(U),2),ce=a(te,!0);t(te),t(U);var ge=n(U,2),Te=n(a(ge),2),Ve=a(Te);t(Te),t(ge);var be=n(ge,2);{var X=le=>{const G=Be(()=>(e(Re),e(l),i(()=>e(Re)[e(l).id]))),we=Be(()=>(De(e(G)),i(()=>e(G)&&(e(G).excludeWeekends||e(G).holidays&&e(G).holidays.length>0))));var xe=ye(),ke=Q(xe);{var de=Ce=>{var We=oo(),lt=a(We),Qe=a(lt,!0);t(lt);var Oe=n(lt,2),_t=a(Oe);{var Xt=Pe=>{var Ie=ao(),Ye=Q(Ie);{var ea=je=>{var Ze=eo(),tt=a(Ze);t(Ze),k(()=>_(tt,`‚Ä¢ ${e(s),i(()=>m[e(s)].dash_holiday_weekend)??""}`)),u(je,Ze)};y(Ye,je=>{De(e(G)),i(()=>e(G).excludeWeekends)&&je(ea)})}var pt=n(Ye,2);{var wt=je=>{var Ze=ye(),tt=Q(Ze);ze(tt,1,()=>(De(e(G)),i(()=>e(G).holidays)),He,(ta,Ba)=>{var aa=to(),Ds=a(aa);t(aa),k(Ss=>_(Ds,`‚Ä¢ ${Ss??""}`),[()=>(e(Ba),e(s),i(()=>et(e(Ba),void 0,e(s))))]),u(ta,aa)}),u(je,Ze)};y(pt,je=>{De(e(G)),i(()=>e(G).holidays)&&je(wt)})}u(Pe,Ie)},$t=Pe=>{var Ie=so(),Ye=a(Ie,!0);t(Ie),k(()=>_(Ye,(e(s),i(()=>m[e(s)].dash_no_holiday)))),u(Pe,Ie)};y(_t,Pe=>{e(we)?Pe(Xt):Pe($t,!1)})}t(Oe),t(We),k(()=>{Fe(We,e(we)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Fe(lt,e(we)?"":"color: #10b981;"),_(Qe,(e(s),i(()=>m[e(s)].dash_holiday_title))),Fe(Oe,e(we)?"":"color: #34d399;")}),u(Ce,We)};y(ke,Ce=>{De(e(G)),i(()=>e(G).excludeWeekends||e(G).holidays&&e(G).holidays.length>0)&&Ce(de)})}u(le,xe)};y(be,le=>{e(Re),e(l),i(()=>e(Re)[e(l).id])&&le(X)})}t(E),k((le,G)=>{_(N,(e(l),i(()=>e(l).location))),_(me,le),_(ce,G),_(Ve,`${e(l),i(()=>e(l).distance_km)??""} KM`)},[()=>(e(l),e(s),i(()=>et(e(l).raw_start_date,e(l).raw_end_date,e(s)))),()=>(e(l),e(s),i(()=>jt(e(l).raw_start_time||"",e(l).raw_end_time||"",e(s))))]),Ae(3,E,()=>Dt,()=>({duration:300})),u(x,E)};y(ve,x=>{e(l),i(()=>e(l).isExpanded)&&x(he)})}var Z=n(ve,2),z=a(Z),q=n(a(z),2),oe=a(q,!0);t(q),t(z);var $=n(z,2),fe=a($);{var S=x=>{var E=lo(),L=n(a(E));t(E),k(()=>_(L,` ${e(l),e(s),i(()=>e(l).lockMessage||m[e(s)].btn_locked)??""}`)),u(x,E)},ee=x=>{var E=ye(),L=Q(E);{var re=C=>{var j=io(),me=a(j,!0);t(j),k(()=>_(me,e(s)==="th"?"üìù ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤":"üìù Register from Events")),u(C,j)},N=C=>{var j=ye(),me=Q(j);{var U=ce=>{var ge=no(),Te=n(a(ge));t(ge),k(()=>_(Te,` ${e(s),i(()=>m[e(s)].btn_daily_wait)??""}`)),u(ce,ge)},te=ce=>{var ge=ye(),Te=Q(ge);{var Ve=X=>{var le=vo(),G=a(le,!0);t(le),k(()=>_(G,(e(s),i(()=>m[e(s)].btn_waiting)))),u(X,le)},be=X=>{var le=ye(),G=Q(le);{var we=ke=>{var de=co(),Ce=a(de,!0);t(de),k(()=>_(Ce,(e(s),i(()=>m[e(s)].btn_send_proof)))),W("click",de,()=>bt(e(l))),u(ke,de)},xe=ke=>{var de=ye(),Ce=Q(de);{var We=Qe=>{var Oe=uo(),_t=a(Oe,!0);t(Oe),k(()=>_(_t,(e(s),i(()=>m[e(s)].btn_send_image)))),W("click",Oe,()=>bt(e(l))),u(Qe,Oe)},lt=Qe=>{var Oe=ye(),_t=Q(Oe);{var Xt=Pe=>{var Ie=_o(),Ye=a(Ie,!0);t(Ie),k(()=>_(Ye,(e(s),i(()=>m[e(s)].btn_checkout)))),W("click",Ie,()=>bt(e(l))),u(Pe,Ie)},$t=Pe=>{var Ie=ye(),Ye=Q(Ie);{var ea=pt=>{var wt=po(),je=Q(wt),Ze=a(je,!0);t(je);var tt=n(je,2),ta=a(tt,!0);t(tt),k(()=>{_(Ze,(e(s),i(()=>m[e(s)].btn_checkin))),_(ta,e(s)==="th"?"‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"‚ùå Cancel")}),W("click",je,()=>bt(e(l))),W("click",tt,()=>os(e(l))),u(pt,wt)};y(Ye,pt=>{e(l),i(()=>e(l).status==="JOINED")&&pt(ea)},!0)}u(Pe,Ie)};y(_t,Pe=>{e(l),i(()=>e(l).status==="CHECKED_OUT")?Pe(Xt):Pe($t,!1)},!0)}u(Qe,Oe)};y(Ce,Qe=>{e(l),i(()=>e(l).status==="REJECTED")?Qe(We):Qe(lt,!1)},!0)}u(ke,de)};y(G,ke=>{e(l),i(()=>e(l).status==="CHECKED_IN")?ke(we):ke(xe,!1)},!0)}u(X,le)};y(Te,X=>{e(l),i(()=>e(l).status==="proof_submitted")?X(Ve):X(be,!1)},!0)}u(ce,ge)};y(me,ce=>{e(l),i(()=>e(l).status==="COMPLETED")?ce(U):ce(te,!1)},!0)}u(C,j)};y(L,C=>{e(l),i(()=>!e(l).join_code&&e(l).status!=="COMPLETED"&&e(l).status!=="CANCELED")?C(re):C(N,!1)},!0)}u(x,E)};y(fe,x=>{e(l),i(()=>e(l).isLocked)?x(S):x(ee,!1)})}t($),t(Z),t(Ee),t(w),k(()=>{H=Le(w,1,"event-card svelte-61olve",null,H,{"locked-card":e(l).isLocked}),_(M,(e(l),i(()=>e(l).title))),_(pe,` ${e(l),i(()=>e(l).participant_count)??""}/${e(l),i(()=>e(l).max_participants)??""} ${e(s),i(()=>m[e(s)].participants)??""}`),_(I,`üèÉ ${e(l),i(()=>e(l).completed_count)??""} / ${e(l),i(()=>e(l).total_days)??""} ${e(s),i(()=>m[e(s)].dash_unit_days)??""}`),B=Le(R,1,"card-desc svelte-61olve",null,B,{expanded:e(l).isExpanded}),_(se,(e(l),i(()=>e(l).description))),_(oe,e(s)==="th"?"‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥":"Stats")}),W("click",z,()=>fa(e(l))),u(h,w)}),t(f),u(c,f)};y(v,c=>{e(ft),i(()=>e(ft).length===0)?c(p):c(d,!1)},!0)}u(r,o)};y(ja,r=>{e(It)?r(ms):r(gs,!1)})}var Qt=n(ja,2),Yt=a(Qt),Oa=a(Yt),bs=a(Oa,!0);t(Oa),it(2),t(Yt);var Zt=n(Yt,2),ks=a(Zt);it(),t(Zt),t(Qt);var Aa=n(Qt,2);ze(Aa,5,()=>e(la),He,(r,o)=>{var v=So(),p=a(v);Ha(p,(T,I)=>Ua?.(T,I),()=>e(o).banner_image_url);var d=n(p,2),c=a(d),f=a(c),h=a(f,!0);t(f);var l=n(f,2),w=a(l);{var H=T=>{var I=go(),R=a(I),B=a(R,!0);t(R);var se=n(R,2);{var ve=z=>{var q=mo(),oe=a(q);t(q),k(()=>_(oe,`üèÜ ${e(s),i(()=>m[e(s)].rank_label)??""} ${e(o),i(()=>e(o).completion_rank)??""}`)),u(z,q)};y(se,z=>{e(o),i(()=>e(o).completion_rank&&e(o).completion_rank>0)&&z(ve)})}var he=n(se,2),Z=a(he);t(he),t(I),k(()=>{_(B,(e(s),i(()=>m[e(s)].status_ended))),_(Z,`üèÉ ${e(o),i(()=>e(o).completed_count)??""} / ${e(o),i(()=>e(o).total_days)??""} ${e(s),i(()=>m[e(s)].dash_unit_days)??""}`)}),u(T,I)},ie=T=>{var I=bo();u(T,I)};y(w,T=>{e(o),i(()=>e(o).isJoined)?T(H):T(ie,!1)})}t(l),t(c);var J=n(c,2);let V;var Ee=a(J,!0);t(J);var ae=n(J,2);{var O=T=>{const I=Be(()=>(e(Re),e(o),i(()=>e(Re)[e(o).id]))),R=Be(()=>(De(e(I)),i(()=>e(I)&&(e(I).excludeWeekends||e(I).holidays&&e(I).holidays.length>0))));var B=Eo(),se=a(B),ve=n(a(se),2),he=a(ve,!0);t(ve),t(se);var Z=n(se,2),z=n(a(Z),2),q=a(z,!0);t(z),t(Z);var oe=n(Z,2),$=n(a(oe),2),fe=a($,!0);t($),t(oe);var S=n(oe,2),ee=n(a(S),2),x=a(ee);t(ee),t(S);var E=n(S,2),L=a(E),re=a(L,!0);t(L);var N=n(L,2),C=a(N);{var j=U=>{var te=wo(),ce=Q(te);{var ge=be=>{var X=ko(),le=a(X);t(X),k(()=>_(le,`‚Ä¢ ${e(s),i(()=>m[e(s)].dash_holiday_weekend)??""}`)),u(be,X)};y(ce,be=>{De(e(I)),i(()=>e(I).excludeWeekends)&&be(ge)})}var Te=n(ce,2);{var Ve=be=>{var X=ye(),le=Q(X);ze(le,1,()=>(De(e(I)),i(()=>e(I).holidays)),He,(G,we)=>{var xe=yo(),ke=a(xe);t(xe),k(de=>_(ke,`‚Ä¢ ${de??""}`),[()=>(e(we),e(s),i(()=>et(e(we),void 0,e(s))))]),u(G,xe)}),u(be,X)};y(Te,be=>{De(e(I)),i(()=>e(I).holidays)&&be(Ve)})}u(U,te)},me=U=>{var te=xo(),ce=a(te,!0);t(te),k(()=>_(ce,(e(s),i(()=>m[e(s)].dash_no_holiday)))),u(U,te)};y(C,U=>{e(R)?U(j):U(me,!1)})}t(N),t(E),t(B),k((U,te)=>{_(he,(e(o),i(()=>e(o).location))),_(q,U),_(fe,te),_(x,`${e(o),i(()=>e(o).distance_km)??""} KM`),Fe(E,e(R)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Fe(L,e(R)?"":"color: #10b981;"),_(re,(e(s),i(()=>m[e(s)].dash_holiday_title))),Fe(N,e(R)?"":"color: #34d399;")},[()=>(e(o),e(s),i(()=>et(e(o).raw_start_date,e(o).raw_end_date,e(s)))),()=>(e(o),e(s),i(()=>jt(e(o).raw_start_time||"",e(o).raw_end_time||"",e(s))))]),Ae(3,B,()=>Dt),u(T,B)};y(ae,T=>{e(o),i(()=>e(o).isExpanded)&&T(O)})}var M=n(ae,2),P=a(M),F=n(a(P),2),ne=a(F,!0);t(F),t(P);var K=n(P,2);{var Y=T=>{var I=Co();u(T,I)},pe=T=>{var I=Do();u(T,I)};y(K,T=>{e(o),i(()=>e(o).isJoined)?T(Y):T(pe,!1)})}t(M),t(d),t(v),k(()=>{_(h,(e(o),i(()=>e(o).title))),V=Le(J,1,"card-desc svelte-61olve",null,V,{expanded:e(o).isExpanded}),_(Ee,(e(o),i(()=>e(o).description))),_(ne,e(s)==="th"?"‡∏ú‡∏•‡∏™‡∏£‡∏∏‡∏õ":"Summary")}),W("click",P,()=>fa(e(o))),u(r,v)}),t(Aa),it(2),t(La),t(Kt);var Ra=n(Kt,2);{var ys=r=>{var o=qo(),v=a(o),p=a(v),d=n(p,2);{var c=f=>{const h=Be(()=>({JOINED:1,CHECKED_IN:2,REJECTED:2,proof_submitted:3,CHECKED_OUT:4,COMPLETED:5,CANCELED:0})),l=Be(()=>(De(e(h)),e(D),i(()=>e(h)[e(D).status]||0)));var w=Ko(),H=Q(w);{var ie=O=>{var M=Mo();ze(M,4,()=>[1,2,3,4],He,(P,F)=>{var ne=Io(),K=a(ne);let Y;var pe=a(K,!0);t(K);var T=n(K,2);{var I=R=>{var B=To();let se;k(()=>se=Le(B,1,"step-line svelte-61olve",null,se,{"line-active":F<e(l)})),u(R,B)};y(T,R=>{F<4&&R(I)})}t(ne),k(()=>{Y=Le(K,1,"step-circle svelte-61olve",null,Y,{active:F===e(l),completed:F<e(l)}),_(pe,F<e(l)?"‚úì":F)}),u(P,ne)}),t(M),u(O,M)};y(H,O=>{e(l)>0&&e(l)<5&&O(ie)})}var J=n(H,2),V=a(J);{var Ee=O=>{const M=Be(()=>(e(D),i(()=>e(D).status==="CHECKED_OUT"))),P=Be(()=>(e(D),i(()=>e(D).join_code)));var F=Oo(),ne=Q(F),K=a(ne,!0);t(ne);var Y=n(ne,2),pe=a(Y);let T;var I=n(pe,2);let R;t(Y);var B=n(Y,2),se=a(B);{var ve=oe=>{var $=No(),fe=a($);{var S=x=>{var E=ye(),L=Q(E);ze(L,1,()=>(De(e(P)),i(()=>e(P).split(""))),He,(re,N)=>{var C=Po(),j=a(C,!0);t(C),k(()=>_(j,e(N))),u(re,C)}),u(x,E)},ee=x=>{var E=Lo();it(4),u(x,E)};y(fe,x=>{e(P)?x(S):x(ee,!1)})}t($),u(oe,$)},he=oe=>{var $=jo(),fe=a($);t($),k(()=>at(fe,"src",`https://api.qrserver.com/v1/create-qr-code/?size=250x250&data=${e(P)||"WAITING"}`)),u(oe,$)};y(se,oe=>{e(ot)==="PIN"?oe(ve):oe(he,!1)})}t(B);var Z=n(B,2),z=a(Z),q=a(z,!0);t(z),t(Z),k(()=>{_(K,e(M)?e(s)==="th"?"Check Out (‡∏à‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)":"Final Check Out":e(s)==="th"?"Check In (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)":"Start Check In"),T=Le(pe,1,"toggle-btn svelte-61olve",null,T,{active:e(ot)==="PIN"}),R=Le(I,1,"toggle-btn svelte-61olve",null,R,{active:e(ot)==="QR"}),_(q,e(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πÅ‡∏Å‡∏ô":"Please present this code to staff.")}),W("click",pe,()=>b(ot,"PIN")),W("click",I,()=>b(ot,"QR")),u(O,F)},ae=O=>{var M=ye(),P=Q(M);{var F=K=>{var Y=Uo(),pe=Q(Y),T=a(pe,!0);t(pe);var I=n(pe,2);{var R=N=>{var C=Ao(),j=a(C),me=a(j);t(j);var U=n(j,3),te=a(U,!0);t(U),t(C),k(()=>{_(me,`‚ö†Ô∏è ${e(s)==="th"?"‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò":"Submission Rejected"}`),_(te,(e(D),e(s),i(()=>e(D).rejection_reason||(e(s)==="th"?"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á":"Please check your proof again."))))}),u(N,C)};y(I,N=>{e(D),i(()=>e(D).status==="REJECTED")&&N(R)})}var B=n(I,2),se=n(a(B),2),ve=a(se);Et(ve);var he=n(ve,2),Z=a(he);t(he),t(se);var z=n(se,2);{var q=N=>{var C=Ro(),j=n(a(C),2),me=a(j);t(j),t(C),k(U=>_(me,`${e(s)==="th"?"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á":"Distance"}: ${U??""} km`),[()=>(e(Se),i(()=>e(Se).toFixed(2)))]),u(N,C)},oe=N=>{var C=Bo(),j=a(C,!0);t(C),k(()=>_(j,e(s)==="th"?"* ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏≠‡∏á":"* Click verify to fetch distance, or enter manually")),u(N,C)};y(z,N=>{e(Se)>0?N(q):N(oe,!1)})}t(B);var $=n(B,2),fe=a($),S=a(fe,!0);t(fe);var ee=n(fe,2);{var x=N=>{var C=zo(),j=a(C),me=n(j,2),U=a(me),te=a(U);t(U),t(me),t(C),k(()=>_(te,`üì∏ ${e(s),i(()=>m[e(s)].modal_upload_txt)??""}`)),W("change",j,ls),u(N,C)},E=N=>{var C=Ho(),j=a(C),me=n(j,2);t(C),k(()=>at(j,"src",e(rt))),W("click",me,()=>{b(rt,null),b(ct,null)}),u(N,C)};y(ee,N=>{e(rt)?N(E,!1):N(x)})}t($);var L=n($,2),re=a(L,!0);t(L),k(()=>{_(T,e(s)==="th"?"‡∏™‡πà‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á":"Submit Result"),_(Z,`üîç ${e(s),i(()=>m[e(s)].btn_verify_link)??""}`),_(S,e(s)==="th"?"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô":"Proof Image"),_(re,(e(D),e(s),i(()=>e(D).status==="REJECTED"?e(s)==="th"?"‡∏™‡πà‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç":"Resubmit":e(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á":"Submit")))}),xt(ve,()=>e(Ne),N=>b(Ne,N)),W("click",he,ns),W("click",L,vs),u(K,Y)},ne=K=>{var Y=ye(),pe=Q(Y);{var T=R=>{var B=Jo(),se=n(a(B),2),ve=a(se,!0);t(se);var he=n(se,2),Z=a(he,!0);t(he),t(B),k(()=>{_(ve,(e(s),i(()=>m[e(s)].modal_verifying_title))),_(Z,(e(s),i(()=>m[e(s)].modal_verifying_desc)))}),u(R,B)},I=R=>{var B=ye(),se=Q(B);{var ve=Z=>{var z=Vo(),q=n(a(z),2),oe=a(q,!0);t(q);var $=n(q,2),fe=a($),S=n(a(fe),2),ee=a(S);t(S),t(fe),t($),t(z),k(()=>{_(oe,e(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå":"Mission Completed!"),_(ee,`${e(D),i(()=>e(D).actual_distance_km||e(D).distance_km||0)??""} km`)}),u(Z,z)},he=Z=>{var z=ye(),q=Q(z);{var oe=$=>{var fe=Fo(),S=n(a(fe),2),ee=a(S,!0);t(S),t(fe),k(()=>_(ee,e(s)==="th"?"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ñ‡∏π‡∏Å‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Event Cancelled")),u($,fe)};y(q,$=>{e(D),i(()=>e(D).status==="CANCELED")&&$(oe)},!0)}u(Z,z)};y(se,Z=>{e(D),i(()=>e(D).status==="COMPLETED")?Z(ve):Z(he,!1)},!0)}u(R,B)};y(pe,R=>{e(D),i(()=>e(D).status==="proof_submitted")?R(T):R(I,!1)},!0)}u(K,Y)};y(P,K=>{e(D),i(()=>e(D).status==="CHECKED_IN"||e(D).status==="REJECTED")?K(F):K(ne,!1)},!0)}u(O,M)};y(V,O=>{e(D),i(()=>e(D).status==="JOINED"||e(D).status==="CHECKED_OUT")?O(Ee):O(ae,!1)})}t(J),u(f,w)};y(d,f=>{e(D)&&f(c)})}t(v),t(o),W("click",p,ka),Ae(3,v,()=>oa,()=>({duration:250,start:.9})),Ae(3,o,()=>Ct,()=>({duration:200})),u(r,o)};y(Ra,r=>{e(Pt)&&e(D)&&r(ys)})}var ws=n(Ra,2);{var xs=r=>{const o=Be(()=>(e(Re),e(_e),i(()=>e(Re)[e(_e).id]))),v=Be(()=>(De(e(o)),i(()=>e(o)&&(e(o).excludeWeekends||e(o).holidays&&e(o).holidays.length>0))));var p=Zo(),d=a(p),c=a(d),f=n(c,2),h=a(f),l=a(h,!0);t(h);var w=n(h,2),H=a(w,!0);t(w),t(f);var ie=n(f,2),J=a(ie),V=a(J),Ee=a(V,!0);t(V),t(J);var ae=n(J,2),O=a(ae),M=a(O),P=a(M);t(M);var F=n(M,2),ne=a(F,!0);t(F),t(O);var K=n(O,2),Y=a(K),pe=a(Y);t(Y);var T=n(Y,2),I=a(T,!0);t(T),t(K);var R=n(K,2),B=a(R),se=a(B);t(B);var ve=n(B,2),he=a(ve,!0);t(ve),t(R),t(ae);var Z=n(ae,2),z=a(Z),q=n(a(z),2),oe=a(q),$=a(oe,!0);t(oe);var fe=n(oe,2),S=a(fe),ee=n(S),x=a(ee,!0);t(ee),t(fe),t(q),t(z),t(Z);var E=n(Z,2),L=a(E),re=a(L,!0);t(L);var N=n(L,2),C=a(N);{var j=U=>{var te=Qo(),ce=Q(te);{var ge=be=>{var X=Go(),le=a(X);t(X),k(()=>_(le,`‚Ä¢ ${e(s),i(()=>m[e(s)].dash_holiday_weekend)??""}`)),u(be,X)};y(ce,be=>{De(e(o)),i(()=>e(o).excludeWeekends)&&be(ge)})}var Te=n(ce,2);{var Ve=be=>{var X=ye(),le=Q(X);ze(le,1,()=>(De(e(o)),i(()=>e(o).holidays)),He,(G,we)=>{var xe=Wo(),ke=a(xe);t(xe),k(de=>_(ke,`‚Ä¢ ${de??""}`),[()=>(e(we),e(s),i(()=>et(e(we),void 0,e(s))))]),u(G,xe)}),u(be,X)};y(Te,be=>{De(e(o)),i(()=>e(o).holidays)&&be(Ve)})}u(U,te)},me=U=>{var te=Yo(),ce=a(te,!0);t(te),k(()=>_(ce,(e(s),i(()=>m[e(s)].dash_no_holiday)))),u(U,te)};y(C,U=>{e(v)?U(j):U(me,!1)})}t(N),t(E),t(ie),t(d),t(p),k((U,te)=>{_(l,(e(_e),i(()=>e(_e).title))),_(H,(e(_e),i(()=>e(_e).status==="COMPLETED"?"COMPLETED":e(_e).status))),_(Ee,(e(_e),i(()=>e(_e).description))),_(P,`üìç ${e(s),i(()=>m[e(s)].dash_location)??""}`),_(ne,(e(_e),i(()=>e(_e).location))),_(pe,`üìÖ ${e(s),i(()=>m[e(s)].dash_date)??""}`),_(I,U),_(se,`‚è∞ ${e(s),i(()=>m[e(s)].dash_time)??""}`),_(he,te),_($,(e(s),i(()=>m[e(s)].dash_success_title))),_(S,`${e(_e),i(()=>e(_e).completed_count)??""} / ${e(_e),i(()=>e(_e).total_days)??""} `),_(x,(e(s),i(()=>m[e(s)].dash_unit_days))),Fe(E,e(v)?"":"background: rgba(16, 185, 129, 0.1); border-color: #10b981;"),Fe(L,e(v)?"":"color: #10b981;"),_(re,(e(s),i(()=>m[e(s)].dash_holiday_title))),Fe(N,e(v)?"":"color: #34d399;")},[()=>(e(_e),e(s),i(()=>et(e(_e).raw_start_date,e(_e).raw_end_date,e(s)))),()=>(e(_e),e(s),i(()=>jt(e(_e).raw_start_time||"",e(_e).raw_end_time||"",e(s))))]),W("click",c,Xa),Ae(3,d,()=>oa,()=>({duration:250,start:.95})),Ae(3,p,()=>Ct,()=>({duration:200})),u(r,p)};y(ws,r=>{e(Ot)&&e(_e)&&r(xs)})}t(Rt);var Es=n(Rt,2);{var Cs=r=>{var o=er(),v=a(o),p=a(v),d=n(p,2),c=a(d),f=a(c,!0);t(c);var h=n(c,2),l=a(h,!0);t(h);var w=n(h,2);ze(w,5,()=>Ga,He,(ae,O)=>{var M=Xo(),P=a(M);Et(P);var F,ne=n(P,2),K=a(ne,!0);t(ne),t(M),k(()=>{F!==(F=e(O))&&(P.value=(P.__value=e(O))??""),_(K,e(O))}),As(Ka,[],P,()=>(e(O),e(Me)),Y=>b(Me,Y)),u(ae,M)}),t(w);var H=n(w,2);{var ie=ae=>{var O=$o(),M=a(O);js(M),t(O),k(()=>at(M,"placeholder",e(s)==="th"?"‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ...":"Specify other reason...")),xt(M,()=>e($e),P=>b($e,P)),Ae(3,O,()=>Dt),u(ae,O)};y(H,ae=>{e(Me),i(()=>e(Me).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ")||e(Me).includes("Other"))&&ae(ie)})}var J=n(H,2),V=a(J),Ee=a(V,!0);t(V),t(J),t(d),t(v),t(o),k(ae=>{_(f,e(s)==="th"?"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°":"Cancel Participation"),_(l,e(s)==="th"?"‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Please specify your reason for cancellation"),V.disabled=ae,_(Ee,e(s)==="th"?"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å":"Confirm Cancellation")},[()=>(e(Me),e($e),i(()=>!e(Me)||(e(Me).includes("Other")||e(Me).includes("‡∏≠‡∏∑‡πà‡∏ô‡πÜ"))&&!e($e).trim()))]),W("click",p,ba),W("click",V,rs),Ae(3,v,()=>oa,()=>({duration:250,start:.9})),Ae(3,o,()=>Ct,()=>({duration:200})),u(r,o)};y(Es,r=>{e(Nt)&&e(dt)&&r(Cs)})}k(()=>{at(Ut,"placeholder",(e(s),i(()=>m[e(s)].search_placeholder))),_(us,e(ht)),Sa=Le(Ft,1,"svelte-61olve",null,Sa,{active:e(s)==="th"}),Ia=Le(Ta,1,"svelte-61olve",null,Ia,{active:e(s)==="en"}),_(fs,(e(s),i(()=>m[e(s)].upcoming_header))),_(hs,`${e(s),i(()=>m[e(s)].history_header)??""} `),_(bs,(e(s),i(()=>m[e(s)].history_header))),_(ks,`${e(s),i(()=>m[e(s)].upcoming_header)??""} `)}),xt(Ut,()=>e(Je),r=>b(Je,r)),W("click",Ft,()=>mt("th")),W("click",Ta,()=>mt("en")),W("click",Ma,pa),W("click",_s,()=>b(Ke,!e(Ke))),W("click",Wt,ts),W("click",Zt,as),u(Va,wa),Ns()}export{br as component};
