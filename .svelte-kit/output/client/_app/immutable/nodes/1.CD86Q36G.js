import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as J,a7 as K,a8 as w,a9 as O,a6 as x,aa as Q,ab as S,a2 as _,a3 as V,f as e,m as j,i as b,ac as X,ad as a,ae as i,af as l,ag as u,o as y,ah as Z}from"../chunks/BzFeUjkD.js";import{i as B}from"../chunks/yr0HFLoq.js";import{h as ee}from"../chunks/BrHHJ_sr.js";import{i as te}from"../chunks/B4hL2_NH.js";import{a as se,s as re}from"../chunks/Bgcq_F7-.js";import{p as oe}from"../chunks/CSU9-5P9.js";import{g as v}from"../chunks/8b7-bA6A.js";import{a as k}from"../chunks/CfzA4fdq.js";var ae=x('<button class="btn btn-back svelte-1j96wlh"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j96wlh"><line x1="19" y1="12" x2="5" y2="12" class="svelte-1j96wlh"></line><polyline points="12 19 5 12 12 5" class="svelte-1j96wlh"></polyline></svg> <span class="svelte-1j96wlh">Go Back</span></button>'),ie=x('<p class="redirect-notice svelte-1j96wlh">Redirecting to login...</p>'),le=x('<div class="error-wrapper svelte-1j96wlh"><div class="content-container svelte-1j96wlh"><div class="error-icon svelte-1j96wlh"> </div> <h1 class="error-code svelte-1j96wlh"> </h1> <div class="message-section svelte-1j96wlh"><h2 class="error-title svelte-1j96wlh"> </h2> <p class="error-desc svelte-1j96wlh"> </p></div> <div class="action-section svelte-1j96wlh"><!> <button class="btn btn-home svelte-1j96wlh"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1j96wlh"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" class="svelte-1j96wlh"></path><polyline points="9 22 9 12 15 12 15 22" class="svelte-1j96wlh"></polyline></svg> <span class="svelte-1j96wlh">Go Home</span></button></div> <!></div></div>');function we(M,A){J(A,!1);const c=()=>re(oe,"$page",R),[R,z]=se(),s=j(),o=j(),D=j();let n="/";const G={400:{title:"Bad Request",defaultDesc:"The server could not understand the request due to invalid syntax.",icon:"âš ï¸"},401:{title:"Unauthorized",defaultDesc:"You must be logged in to access this page.",icon:"ðŸ”"},403:{title:"Forbidden",defaultDesc:"You do not have permission to view this resource.",icon:"ðŸš«"},404:{title:"Page Not Found",defaultDesc:"The page you are looking for does not exist.",icon:"ðŸ”"},405:{title:"Method Not Allowed",defaultDesc:"The request method is not supported for this resource.",icon:"â›”"},408:{title:"Request Timeout",defaultDesc:"The server timed out waiting for the request.",icon:"â±ï¸"},429:{title:"Too Many Requests",defaultDesc:"You have sent too many requests in a given amount of time.",icon:"ðŸš¦"},500:{title:"Internal Server Error",defaultDesc:"The server encountered an internal error.",icon:"ðŸ’¥"},502:{title:"Bad Gateway",defaultDesc:"The server received an invalid response from the upstream server.",icon:"ðŸŒ"},503:{title:"Service Unavailable",defaultDesc:"The server is temporarily unable to handle the request.",icon:"ðŸ”§"},504:{title:"Gateway Timeout",defaultDesc:"The server did not receive a timely response from the upstream server.",icon:"â°"}};function C(t){const r=t?.toLowerCase()||"";return r==="student"?"/student/event-list":r==="officer"?"/officer/event-list":r==="organizer"?"/organizer/create-event":"/auth/login"}K(()=>{{if(k.isAuthenticated()){const r=k.getUser();n=C(r?.role||null)}else n="/auth/login";e(s)===401&&(k.logout(),setTimeout(()=>{v("/auth/login",{replaceState:!0})},2e3))}});function H(){e(s)===404||e(s)===403?v(n,{replaceState:!0}):window.history.length>1?window.history.back():v(n,{replaceState:!0})}function U(){v(n,{replaceState:!0})}w(()=>c(),()=>{b(s,c().status)}),w(()=>e(s),()=>{b(o,G[e(s)]||{title:"Something Went Wrong",defaultDesc:"An unexpected error occurred.",icon:"âŒ"})}),w(()=>(c(),e(o)),()=>{b(D,c().error?.message||e(o).defaultDesc)}),O(),te();var d=le();ee("1j96wlh",t=>{X(()=>{Z.title=`${e(s)??""} | ${e(o),y(()=>e(o).title)??""}`})});var T=a(d),h=a(T),Y=a(h,!0);i(h);var p=l(h,2),F=a(p,!0);i(p);var f=l(p,2),m=a(f),I=a(m,!0);i(m);var $=l(m,2),N=a($,!0);i($),i(f);var g=l(f,2),q=a(g);{var P=t=>{var r=ae();S("click",r,H),_(t,r)};B(q,t=>{e(s)!==401&&t(P)})}var W=l(q,2);i(g);var E=l(g,2);{var L=t=>{var r=ie();_(t,r)};B(E,t=>{e(s)===401&&t(L)})}i(T),i(d),Q(()=>{u(Y,(e(o),y(()=>e(o).icon))),u(F,e(s)),u(I,(e(o),y(()=>e(o).title))),u(N,e(D))}),S("click",W,U),_(M,d),V(),z()}export{we as component};
