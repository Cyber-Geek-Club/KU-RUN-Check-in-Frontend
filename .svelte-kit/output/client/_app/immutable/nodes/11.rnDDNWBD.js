import"../chunks/DsnmJJEf.js";import"../chunks/dQoSI2p6.js";import{$ as Gt,a7 as Wt,a8 as fe,a9 as Kt,a6 as m,ab as D,aa as L,a2 as c,a3 as Qt,f as e,m as f,aq as Xt,i as l,an as z,ad as i,ak as $,ae as a,af as n,a1 as je,o as Q,ag as R,am as Z,a0 as ct}from"../chunks/BzFeUjkD.js";import{e as De,i as Le}from"../chunks/CFC0_nPK.js";import{i as w}from"../chunks/yr0HFLoq.js";import{s as Ae,r as Ie,c as Zt,b as ft}from"../chunks/DMKKEYkG.js";import{s as S}from"../chunks/Dx5pcVVY.js";import{t as J,f as ea,s as X}from"../chunks/C9WUvhPB.js";import{i as ta}from"../chunks/B4hL2_NH.js";import{a as aa,s as sa}from"../chunks/Bgcq_F7-.js";import{g as la}from"../chunks/8b7-bA6A.js";import{p as ia}from"../chunks/CSU9-5P9.js";import{R as Oe}from"../chunks/peVj2t_B.js";import{S as dt}from"../chunks/C0u8rGqG.js";var ra=m('<div class="loading-state svelte-xxlfq4"><div class="loading-spinner svelte-xxlfq4"></div> <p>Loading your profile...</p></div>'),oa=m('<img alt="Profile" class="avatar-image svelte-xxlfq4"/>'),na=m('<div class="avatar-placeholder svelte-xxlfq4"><span> </span></div>'),va=m('<div class="mini-spinner svelte-xxlfq4"></div>'),ca=Z('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>'),fa=m('<span class="verified-badge svelte-xxlfq4" title="Email verified"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"></path></svg></span>'),da=Z('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>'),pa=Z('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21h18"></path><path d="M9 8h1"></path><path d="M9 12h1"></path><path d="M9 16h1"></path><path d="M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16"></path></svg>'),ua=Z('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>'),ha=m('<button><!> <span class="svelte-xxlfq4"> </span></button>'),ma=m('<button type="button" class="select-option svelte-xxlfq4"> </button>'),xa=m('<div class="select-dropdown svelte-xxlfq4"></div>'),ga=m('<section class="settings-section svelte-xxlfq4"><h3 class="section-title svelte-xxlfq4"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> Personal Information</h3> <div class="form-row svelte-xxlfq4"><div class="form-group small svelte-xxlfq4"><span class="form-label svelte-xxlfq4">Title</span> <div class="custom-select svelte-xxlfq4"><button type="button"><span> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div></div> <div class="form-group flex-1 svelte-xxlfq4"><label class="form-label svelte-xxlfq4" for="firstName">First Name</label> <div><input id="firstName" type="text" placeholder="Enter first name" class="svelte-xxlfq4"/></div></div></div> <div class="form-group svelte-xxlfq4"><label class="form-label svelte-xxlfq4" for="lastName">Last Name</label> <div><input id="lastName" type="text" placeholder="Enter last name" class="svelte-xxlfq4"/></div></div> <div class="form-group svelte-xxlfq4"><span class="form-label svelte-xxlfq4">Email Address</span> <div class="input-wrapper disabled svelte-xxlfq4"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> <input type="email" disabled class="svelte-xxlfq4"/> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6b7280" stroke-width="2" class="svelte-xxlfq4"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></div> <span class="input-hint svelte-xxlfq4">Email cannot be changed</span></div></section>'),_a=m('<button type="button" class="select-option svelte-xxlfq4"> </button>'),wa=m('<div class="select-dropdown svelte-xxlfq4"></div>'),ba=m('<section class="settings-section svelte-xxlfq4"><h3 class="section-title svelte-xxlfq4"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><path d="M3 21h18"></path><path d="M9 8h1"></path><path d="M9 12h1"></path><path d="M9 16h1"></path><path d="M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16"></path></svg> Department Information</h3> <div class="form-group svelte-xxlfq4"><span class="form-label svelte-xxlfq4">Department</span> <div class="custom-select svelte-xxlfq4"><button type="button"><span> </span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"></path></svg></button> <!></div></div></section>'),qa=m('<section class="settings-section svelte-xxlfq4"><h3 class="section-title svelte-xxlfq4"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg> Security Settings</h3> <div class="form-group svelte-xxlfq4"><div class="form-label-row svelte-xxlfq4"><span class="form-label svelte-xxlfq4">Password</span> <a class="link-btn svelte-xxlfq4">Change Password</a></div> <div class="input-wrapper disabled svelte-xxlfq4"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> <input type="password" value="••••••••••" disabled class="svelte-xxlfq4"/></div></div> <div class="info-card svelte-xxlfq4"><div class="info-row svelte-xxlfq4"><span class="info-label svelte-xxlfq4"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> Account Status</span> <span class="status-badge active svelte-xxlfq4">Active</span></div> <div class="info-row svelte-xxlfq4"><span class="info-label svelte-xxlfq4"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Email Verification</span> <span> </span></div> <div class="info-row svelte-xxlfq4"><span class="info-label svelte-xxlfq4"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Role</span> <span class="status-badge role svelte-xxlfq4">Officer</span></div></div> <button class="logout-btn svelte-xxlfq4"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout</button></section>'),ya=Z('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>'),ka=Z('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-xxlfq4"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>'),Ma=m('<div><!> <span class="svelte-xxlfq4"> </span></div>'),Ca=m('<div class="btn-spinner svelte-xxlfq4"></div> Saving...',1),Sa=Z('<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg> Save Changes',1),Ba=m('<section class="profile-card svelte-xxlfq4"><div class="profile-header svelte-xxlfq4"><div class="avatar-wrapper svelte-xxlfq4"><!> <label><input type="file" accept="image/*" hidden=""/> <!></label></div> <div class="profile-info svelte-xxlfq4"><h2 class="profile-name svelte-xxlfq4"> </h2> <p class="profile-email svelte-xxlfq4"> <!></p> <span class="profile-badge role-badge svelte-xxlfq4"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg> OFFICER</span></div></div></section> <nav class="section-tabs svelte-xxlfq4"></nav> <!> <!> <!> <!> <div><button class="save-btn svelte-xxlfq4"><!></button></div>',1),Ea=m('<div class="app-container svelte-xxlfq4"><header class="header svelte-xxlfq4"><a class="back-btn svelte-xxlfq4" aria-label="Back"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg></a> <h1 class="header-title svelte-xxlfq4">Settings</h1> <div style="width: 40px;"></div></header> <main class="main-content svelte-xxlfq4"><!></main></div>');function Fa(pt,ut){Gt(ut,!1);const Pe=()=>sa(ia,"$page",ht),[ht,mt]=aa(),Re=f(),Ve=f(),Ue=f(),de="http://158.108.102.14:8001";let ee="",le="",A=f(""),te=f(""),ie=f(!0),E=f(""),b=f(""),q=f(""),_e=f(""),xt="",T=f(""),Y=f(""),I=f(""),re=f("profile"),G=f(!1),we=!1,be=!1,W=f(!1),qe=f(!0),pe=f(!1),ue=f(!1),g=f({}),He=f(!1),K=f(""),ye=f("error"),oe,ke,d=f({title:!1,firstName:!1,lastName:!1,faculty:!1,major:!1,department:!1});const gt=[{id:"profile",icon:"user",label:"Profile"},{id:"academic",icon:"book",label:"Department"},{id:"security",icon:"shield",label:"Security"}],_t=["Mr.","Ms.","Mrs.","Dr.","Prof."],ze=[{id:"Academic Affairs",name:"Academic Affairs"},{id:"Student Affairs",name:"Student Affairs"},{id:"Registrar Office",name:"Registrar Office"},{id:"Finance Department",name:"Finance Department"},{id:"IT Support Center",name:"IT Support Center"},{id:"Human Resources",name:"Human Resources"}],Fe={management:[{id:"mgt",name:"Management"},{id:"fin",name:"Finance and Investment"},{id:"ib",name:"International Business"},{id:"lm",name:"Logistics Management"},{id:"hh",name:"Hospitality - Hotel"},{id:"ht",name:"Hospitality - Tourism"},{id:"acc",name:"Accounting"},{id:"amb",name:"Digital Marketing"}],engineering:[{id:"med",name:"Mechanical Engineering"},{id:"mme",name:"Mechanical & Mfg Systems"},{id:"eee",name:"Electrical & Electronics"},{id:"ise",name:"Industrial Systems"},{id:"cie",name:"Computer Engineering"},{id:"ce",name:"Civil Engineering"},{id:"ee",name:"Electrical Engineering"},{id:"rae",name:"Robotics Engineering"},{id:"die",name:"Digital Electronics"},{id:"dms",name:"Digital Mfg Systems"},{id:"ae",name:"Automotive Engineering"}],science:[{id:"cs",name:"Computer Science"},{id:"it",name:"Information Technology"},{id:"ps",name:"Physics"},{id:"est",name:"Environmental Science"},{id:"dst",name:"Digital Science"},{id:"daa",name:"Data Analytics"},{id:"act",name:"Applied Chemistry"}],economics:[{id:"econ",name:"Economics"}],maritime:[{id:"nao",name:"Naval Architecture"},{id:"ns",name:"Nautical Science"},{id:"mt",name:"Maritime Transportation"},{id:"me",name:"Marine Engineering"}]};let $e=f([]);function wt(s){const v=ze.find(o=>o.id===s||o.name===s);return v?v.name:s||"Select Department"}function Je(){l(G,!1),we=!1,be=!1,l(W,!1)}function Ye(s,v){v.stopPropagation();const o=s==="title"&&e(G)||s==="faculty"&&we||s==="major"&&be||s==="dept"&&e(W);Je(),o||(s==="title"&&l(G,!0),s==="faculty"&&(we=!0),s==="major"&&(be=!0),s==="dept"&&l(W,!0))}function bt(s){l(E,s),l(G,!1),ne()}function qt(s){l(I,s),l(W,!1),ne()}function V(s,v="error"){oe&&clearTimeout(oe),l(K,s),l(ye,v),oe=setTimeout(()=>{l(K,"")},5e3)}function ne(){e(K)&&(l(K,""),oe&&clearTimeout(oe))}function yt(){ke&&clearTimeout(ke),ke=setTimeout(()=>{Object.keys(e(d)).forEach(s=>z(d,e(d)[s]=!1))},3e3)}async function kt(s){const v=s.target;if(!v.files?.length)return;const o=v.files[0];if(!o.type.startsWith("image/")){V("Please select an image file","error");return}if(o.size>5*1024*1024){V("Image must be less than 5MB","error");return}l(ue,!0);try{const M=new FormData;M.append("file",o);const ae=await fetch(`${de}/api/users/${ee}/avatar`,{method:"POST",headers:{Authorization:`Bearer ${le}`},body:M});if(ae.ok){const he=await ae.json();l(te,he.avatar_url||URL.createObjectURL(o)),V("Profile photo updated!","success")}else l(te,URL.createObjectURL(o)),V("Photo preview updated","success")}catch{l(te,URL.createObjectURL(o)),V("Photo preview updated","success")}finally{l(ue,!1)}}Wt(async()=>{l(qe,!0);try{le=localStorage.getItem("access_token")||"";const s=localStorage.getItem("user_info");if(s)try{const M=JSON.parse(s);ee=M.nisit_id||M.id}catch(M){console.error("Error parsing user_info",M)}if(!le||!ee)throw new Error("User not authenticated");const v=await fetch(`${de}/api/users/${ee}`,{method:"GET",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(!v.ok){if(v.status===401)return la("/auth/login");throw new Error("Failed to fetch user data")}const o=await v.json();console.log("Fetched:",o),o.role?l(A,o.role.toLowerCase()):l(A,o.nisit_id||o.nisitId?"student":"officer"),l(E,o.title||""),l(b,o.first_name||o.firstName||""),l(q,o.last_name||o.lastName||""),l(_e,o.email||""),l(te,o.avatar_url||o.profile_image||""),l(ie,o.email_verified!==!1),e(A)==="student"?(xt=o.nisit_id||o.nisitId||"",l(T,(o.faculty||"").toLowerCase()),setTimeout(()=>{l(Y,(o.major||"").toLowerCase()),l(g,{...e(g),faculty:e(T),major:e(Y)})},100)):l(I,o.department||""),l(g,{title:e(E),firstName:e(b),lastName:e(q),faculty:e(T),major:e(Y),department:e(I)}),e(A)==="student"&&setTimeout(()=>{z(g,e(g).major=o.major||"")},50)}catch(s){console.error(s),V("Could not load profile info.","error")}finally{l(qe,!1)}});async function Mt(){ne();let s=!0;if(Object.keys(e(d)).forEach(v=>z(d,e(d)[v]=!1)),e(E)||(z(d,e(d).title=!0),s=!1),e(b).trim()||(z(d,e(d).firstName=!0),s=!1),e(q).trim()||(z(d,e(d).lastName=!0),s=!1),e(A)==="student"?(e(T)||(z(d,e(d).faculty=!0),s=!1),e(Y)||(z(d,e(d).major=!0),s=!1)):e(I)||(z(d,e(d).department=!0),s=!1),!s){yt(),e(K)||V("Please fill in all required fields.");return}l(pe,!0);try{const v={title:e(E),first_name:e(b),last_name:e(q),major:e(Y)||e(g).major,faculty:e(T)||e(g).faculty,department:e(I)||e(g).department};console.log("Sending Payload:",JSON.stringify(v,null,2)),console.log("To URL:",`${de}/api/users/${ee}`),console.log("Updating Profile with:",v);const o=await fetch(`${de}/api/users/${ee}`,{method:"PUT",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify(v)});if(!o.ok){const M=await o.json();throw new Error(M.message||"Failed to update profile info")}V("Settings updated successfully!","success"),await dt.fire({icon:"success",title:"Saved!",text:"Your settings have been updated.",timer:1500,showConfirmButton:!1,background:"#1f2937",color:"#f3f4f6"}),setTimeout(()=>window.location.reload(),500)}catch(v){console.error(v),V(v.message,"error")}finally{l(pe,!1)}}async function Ct(){(await dt.fire({title:"Logout?",text:"Are you sure you want to logout?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, logout",cancelButtonText:"Cancel",confirmButtonColor:"#ef4444",background:"#1f2937",color:"#f3f4f6"})).isConfirmed&&(typeof localStorage<"u"&&localStorage.clear(),typeof sessionStorage<"u"&&sessionStorage.clear(),typeof document<"u"&&document.cookie.split(";").forEach(v=>{document.cookie=v.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),window.location.href="/auth/login")}fe(()=>e(T),()=>{e(T)&&Fe[e(T)]?l($e,Fe[e(T)]):l($e,[])}),fe(()=>(e(A),Oe),()=>{l(Re,e(A)==="officer"?Oe.officer.eventList:e(A)==="student"?Oe.student.eventList:"/officer/event-list")}),fe(()=>(e(b),e(q)),()=>{l(Ve,e(b)&&e(q)?`${e(b).charAt(0)}${e(q).charAt(0)}`.toUpperCase():"?")}),fe(()=>(e(b),e(q),e(E)),()=>{l(Ue,e(b)&&e(q)?`${e(E)} ${e(b)} ${e(q)}`:"Loading...")}),fe(()=>(e(E),e(g),e(b),e(q),e(A),e(T),e(Y),e(I)),()=>{const s=e(E)!==e(g).title||e(b)!==e(g).firstName||e(q)!==e(g).lastName;let v=!1;e(A)==="student"?v=e(T)!==e(g).faculty||e(Y)!==e(g).major:v=e(I)!==e(g).department,l(He,s||v)}),Kt(),ta();var Me=Ea();D("click",Xt,Je);var Ce=i(Me),St=i(Ce);$(4),a(Ce);var Ge=n(Ce,2),Bt=i(Ge);{var Et=s=>{var v=ra();J(3,v,()=>ea),c(s,v)},Tt=s=>{var v=Ba(),o=je(v),M=i(o),ae=i(M),he=i(ae);{var Nt=r=>{var t=oa();L(()=>Ae(t,"src",e(te))),c(r,t)},jt=r=>{var t=na(),p=i(t),x=i(p,!0);a(p),a(t),L(()=>R(x,e(Ve))),c(r,t)};w(he,r=>{e(te)?r(Nt):r(jt,!1)})}var Se=n(he,2);let We;var Ke=i(Se),Dt=n(Ke,2);{var Lt=r=>{var t=va();c(r,t)},At=r=>{var t=ca();c(r,t)};w(Dt,r=>{e(ue)?r(Lt):r(At,!1)})}a(Se),a(ae);var Qe=n(ae,2),Be=i(Qe),It=i(Be,!0);a(Be);var Xe=n(Be,2),Ze=i(Xe),Ot=n(Ze);{var Pt=r=>{var t=fa();c(r,t)};w(Ot,r=>{e(ie)&&r(Pt)})}a(Xe),$(2),a(Qe),a(M),a(o);var Ee=n(o,2);De(Ee,5,()=>gt,Le,(r,t)=>{var p=ha();let x;var _=i(p);{var h=B=>{var N=da();c(B,N)},y=B=>{var N=ct(),se=je(N);{var ve=k=>{var O=pa();c(k,O)},j=k=>{var O=ct(),F=je(O);{var P=U=>{var ce=ua();c(U,ce)};w(F,U=>{e(t),Q(()=>e(t).icon==="shield")&&U(P)},!0)}c(k,O)};w(se,k=>{e(t),Q(()=>e(t).icon==="book")?k(ve):k(j,!1)},!0)}c(B,N)};w(_,B=>{e(t),Q(()=>e(t).icon==="user")?B(h):B(y,!1)})}var u=n(_,2),C=i(u,!0);a(u),a(p),L(()=>{x=S(p,1,"tab-btn svelte-xxlfq4",null,x,{active:e(re)===e(t).id}),R(C,(e(t),Q(()=>e(t).label)))}),D("click",p,()=>l(re,e(t).id)),c(r,p)}),a(Ee);var et=n(Ee,2);{var Rt=r=>{var t=ga(),p=n(i(t),2),x=i(p),_=n(i(x),2),h=i(_);let y;var u=i(h);let C;var B=i(u,!0);a(u);var N=n(u,2);let se;a(h);var ve=n(h,2);{var j=H=>{var xe=xa();De(xe,5,()=>_t,Le,(Jt,vt)=>{var ge=ma(),Yt=i(ge,!0);a(ge),L(()=>R(Yt,e(vt))),D("click",ge,()=>bt(e(vt))),c(Jt,ge)}),a(xe),J(3,xe,()=>X,()=>({duration:150})),c(H,xe)};w(ve,H=>{e(G)&&H(j)})}a(_),a(x);var k=n(x,2),O=n(i(k),2);let F;var P=i(O);Ie(P),a(O),a(k),a(p);var U=n(p,2),ce=n(i(U),2);let it;var Ne=i(ce);Ie(Ne),a(ce),a(U);var rt=n(U,2),ot=n(i(rt),2),nt=n(i(ot),2);Ie(nt),$(2),a(ot),$(2),a(rt),a(t),L(()=>{y=S(h,1,"select-btn svelte-xxlfq4",null,y,{active:e(G),error:e(d).title}),C=S(u,1,"svelte-xxlfq4",null,C,{placeholder:!e(E)}),R(B,e(E)||"Select"),se=S(N,0,"svelte-xxlfq4",null,se,{rotate:e(G)}),F=S(O,1,"input-wrapper svelte-xxlfq4",null,F,{error:e(d).firstName}),it=S(ce,1,"input-wrapper svelte-xxlfq4",null,it,{error:e(d).lastName}),Zt(nt,e(_e))}),D("click",h,H=>Ye("title",H)),ft(P,()=>e(b),H=>l(b,H)),D("input",P,ne),ft(Ne,()=>e(q),H=>l(q,H)),D("input",Ne,ne),J(3,t,()=>X),c(r,t)};w(et,r=>{e(re)==="profile"&&r(Rt)})}var tt=n(et,2);{var Vt=r=>{var t=ba(),p=n(i(t),2),x=n(i(p),2),_=i(x);let h;var y=i(_);let u;var C=i(y,!0);a(y);var B=n(y,2);let N;a(_);var se=n(_,2);{var ve=j=>{var k=wa();De(k,5,()=>ze,Le,(O,F)=>{var P=_a(),U=i(P,!0);a(P),L(()=>R(U,(e(F),Q(()=>e(F).name)))),D("click",P,()=>qt(e(F).id)),c(O,P)}),a(k),J(3,k,()=>X,()=>({duration:150})),c(j,k)};w(se,j=>{e(W)&&j(ve)})}a(x),a(p),a(t),L(j=>{h=S(_,1,"select-btn svelte-xxlfq4",null,h,{active:e(W),error:e(d).department}),u=S(y,1,"svelte-xxlfq4",null,u,{placeholder:!e(I)}),R(C,j),N=S(B,0,"svelte-xxlfq4",null,N,{rotate:e(W)})},[()=>(e(I),Q(()=>wt(e(I))))]),D("click",_,j=>Ye("dept",j)),J(3,t,()=>X),c(r,t)};w(tt,r=>{e(re)==="academic"&&r(Vt)})}var at=n(tt,2);{var Ut=r=>{var t=qa(),p=n(i(t),2),x=i(p),_=n(i(x),2);a(x),$(2),a(p);var h=n(p,2),y=n(i(h),2),u=n(i(y),2);let C;var B=i(u,!0);a(u),a(y),$(2),a(h);var N=n(h,2);a(t),L(()=>{Ae(_,"href",`/auth/forgot-password?return_to=${Pe(),Q(()=>Pe().url.pathname)??""}`),C=S(u,1,"status-badge svelte-xxlfq4",null,C,{verified:e(ie),pending:!e(ie)}),R(B,e(ie)?"Verified":"Pending")}),D("click",N,Ct),J(3,t,()=>X),c(r,t)};w(at,r=>{e(re)==="security"&&r(Ut)})}var st=n(at,2);{var Ht=r=>{var t=Ma(),p=i(t);{var x=u=>{var C=ya();c(u,C)},_=u=>{var C=ka();c(u,C)};w(p,u=>{e(ye)==="error"?u(x):u(_,!1)})}var h=n(p,2),y=i(h,!0);a(h),a(t),L(()=>{S(t,1,`toast ${e(ye)??""}`,"svelte-xxlfq4"),R(y,e(K))}),J(3,t,()=>X,()=>({duration:200})),c(r,t)};w(st,r=>{e(K)&&r(Ht)})}var Te=n(st,2);let lt;var me=i(Te),zt=i(me);{var Ft=r=>{var t=Ca();$(),c(r,t)},$t=r=>{var t=Sa();$(),c(r,t)};w(zt,r=>{e(pe)?r(Ft):r($t,!1)})}a(me),a(Te),L(()=>{We=S(Se,1,"avatar-upload-btn svelte-xxlfq4",null,We,{uploading:e(ue)}),R(It,e(Ue)),R(Ze,`${e(_e)??""} `),lt=S(Te,1,"save-bar svelte-xxlfq4",null,lt,{visible:e(He)}),me.disabled=e(pe)}),D("change",Ke,kt),J(3,o,()=>X),D("click",me,Mt),c(s,v)};w(Bt,s=>{e(qe)?s(Et):s(Tt,!1)})}a(Ge),a(Me),L(()=>Ae(St,"href",e(Re))),c(pt,Me),Qt(),mt()}export{Fa as component};
